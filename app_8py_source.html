<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>pairinteraction: /travis/gui/pairinteraction/app.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo72x72.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">pairinteraction
   </div>
   <div id="projectbrief">A Rydberg Interaction Calculator</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('app_8py_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">app.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="app_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacepairinteraction_1_1app.html">    1</a></span>&#160;<span class="comment"># Copyright (c) 2016 Sebastian Weber, Henri Menke. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">#</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"># you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"># You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">#</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">#     http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">#</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"># Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"># See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"># limitations under the License.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"># Standard library</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">from</span> datetime <span class="keyword">import</span> timedelta, datetime</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">from</span> io <span class="keyword">import</span> StringIO, BytesIO</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">import</span> locale</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">import</span> multiprocessing</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">from</span> operator <span class="keyword">import</span> itemgetter</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">import</span> json</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">import</span> os</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">import</span> shutil</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">import</span> signal</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">import</span> sys</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">import</span> subprocess</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">from</span> time <span class="keyword">import</span> sleep, time, strftime</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">import</span> webbrowser</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">import</span> zipfile</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"># Process information</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">import</span> psutil</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"># Units</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">from</span> pint <span class="keyword">import</span> UnitRegistry</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">from</span> pint.unit <span class="keyword">import</span> UndefinedUnitError</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"># GUI</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">import</span> sip</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">from</span> PyQt5.QtPrintSupport <span class="keyword">import</span> QPrintDialog, QPrinter</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">from</span> . <span class="keyword">import</span> pyqtgraph <span class="keyword">as</span> pg</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">from</span> .pyqtgraph <span class="keyword">import</span> exporters</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">from</span> .pyqtgraph <span class="keyword">import</span> ColorButton, GradientWidget, PlotWidget</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">from</span> .plotter <span class="keyword">import</span> Ui_plotwindow</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"># Numerics</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">from</span> scipy <span class="keyword">import</span> sparse</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">from</span> scipy.ndimage.filters <span class="keyword">import</span> gaussian_filter</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">from</span> scipy <span class="keyword">import</span> io</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"># Own classes</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">from</span> .utils <span class="keyword">import</span> Wignerd, csc_happend, csr_vappend, csr_keepmax, bytescale</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">from</span> .unitmanagement <span class="keyword">import</span> Quantity, Units</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">from</span> .guiadditions <span class="keyword">import</span> GuiDict, DoubledeltaValidator, DoublenoneValidator, DoublepositiveValidator, DoubleValidator</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">from</span> .pyqtgraphadditions <span class="keyword">import</span> PointsItem, MultiLine</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">from</span> .worker <span class="keyword">import</span> Worker</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">from</span> .loader <span class="keyword">import</span> Eigensystem</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"># Versioning</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="namespacepairinteraction_1_1app.html#adf578df5d12fa21155a9c1f8c9c0a291">   63</a></span>&#160;version_settings = 14</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="namespacepairinteraction_1_1app.html#a106ca0d90bdb7726779c0291bba2dbdc">   64</a></span>&#160;version_cache = 12</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"># Make program killable via strg-c if it is started in a terminal</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;signal.signal(signal.SIGINT, signal.SIG_DFL)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"># Global configurations of pyqtgraph</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;pg.setConfigOption(<span class="stringliteral">&#39;background&#39;</span>, <span class="stringliteral">&#39;w&#39;</span>)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;pg.setConfigOption(<span class="stringliteral">&#39;foreground&#39;</span>, <span class="stringliteral">&#39;k&#39;</span>)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"># === Dictionary to manage the elements of the GUI related to the plotter ===</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1PlotDict.html">   77</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpairinteraction_1_1app_1_1PlotDict.html">PlotDict</a>(GuiDict):</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">def </span>_setup(self, store, ui):</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        store[<span class="stringliteral">&quot;minE_field1&quot;</span>] = {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_field1_minE,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.energy}</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        store[<span class="stringliteral">&quot;maxE_field1&quot;</span>] = {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_field1_maxE,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.energy}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        store[<span class="stringliteral">&quot;minE_field2&quot;</span>] = {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_field2_minE,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.energy}</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        store[<span class="stringliteral">&quot;maxE_field2&quot;</span>] = {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_field2_maxE,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.energy}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        store[<span class="stringliteral">&quot;minE_potential&quot;</span>] = {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_potential_minE,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.energy}</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        store[<span class="stringliteral">&quot;maxE_potential&quot;</span>] = {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_potential_maxE,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.energy}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        store[<span class="stringliteral">&quot;lines&quot;</span>] = {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.groupbox_plot_lines,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        store[<span class="stringliteral">&quot;points&quot;</span>] = {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.groupbox_plot_points,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        store[<span class="stringliteral">&quot;labels&quot;</span>] = {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.groupbox_plot_labels,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        store[<span class="stringliteral">&quot;overlap&quot;</span>] = {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.groupbox_plot_overlap,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        store[<span class="stringliteral">&quot;szLine&quot;</span>] = {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_szLine,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        store[<span class="stringliteral">&quot;szPoint&quot;</span>] = {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_szPoint,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        store[<span class="stringliteral">&quot;szLabel&quot;</span>] = {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_szLabel,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        store[<span class="stringliteral">&quot;szOverlap&quot;</span>] = {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_szOverlap,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        store[<span class="stringliteral">&quot;transpLine&quot;</span>] = {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_transpLine,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        store[<span class="stringliteral">&quot;transpPoint&quot;</span>] = {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_transpPoint,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        store[<span class="stringliteral">&quot;transpLabel&quot;</span>] = {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_transpLabel,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        store[<span class="stringliteral">&quot;transpOverlap&quot;</span>] = {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_transpOverlap,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        store[<span class="stringliteral">&quot;overlapUnperturbed&quot;</span>] = {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_plot_overlapUnperturbed,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        store[<span class="stringliteral">&quot;overlapDefined&quot;</span>] = {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_plot_overlapDefined,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        store[<span class="stringliteral">&quot;connectionthreshold&quot;</span>] = {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_connectionthreshold,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        store[<span class="stringliteral">&quot;lin&quot;</span>] = {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_plot_lin,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        store[<span class="stringliteral">&quot;log&quot;</span>] = {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_plot_log,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        store[<span class="stringliteral">&quot;resolution&quot;</span>] = {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_resolution,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        store[<span class="stringliteral">&quot;n1&quot;</span>] = {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_n1,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        store[<span class="stringliteral">&quot;n2&quot;</span>] = {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_n2,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        store[<span class="stringliteral">&quot;l1&quot;</span>] = {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_l1,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        store[<span class="stringliteral">&quot;l2&quot;</span>] = {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_l2,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        store[<span class="stringliteral">&quot;j1&quot;</span>] = {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_j1,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        store[<span class="stringliteral">&quot;j2&quot;</span>] = {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_j2,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        store[<span class="stringliteral">&quot;m1&quot;</span>] = {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_m1,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        store[<span class="stringliteral">&quot;m2&quot;</span>] = {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_plot_m2,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        store[<span class="stringliteral">&quot;antialiasing&quot;</span>] = {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_plot_antialiasing,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        store[<span class="stringliteral">&quot;autorange&quot;</span>] = {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_plot_autorange,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"># === dictionary to manage the elements of the gui related to the system ===</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1SystemDict.html">  186</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpairinteraction_1_1app_1_1SystemDict.html">SystemDict</a>(GuiDict):</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keyword">def </span>_setup(self, store, ui):</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        store[<span class="stringliteral">&quot;species1&quot;</span>] = {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.combobox_system_species1,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        store[<span class="stringliteral">&quot;species2&quot;</span>] = {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.combobox_system_species2,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        store[<span class="stringliteral">&quot;n1&quot;</span>] = {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_n1,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        store[<span class="stringliteral">&quot;n2&quot;</span>] = {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_n2,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        store[<span class="stringliteral">&quot;l1&quot;</span>] = {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_l1,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        store[<span class="stringliteral">&quot;l2&quot;</span>] = {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_l2,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        store[<span class="stringliteral">&quot;j1&quot;</span>] = {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_j1,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        store[<span class="stringliteral">&quot;j2&quot;</span>] = {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_j2,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        store[<span class="stringliteral">&quot;m1&quot;</span>] = {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_m1,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        store[<span class="stringliteral">&quot;m2&quot;</span>] = {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_m2,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        store[<span class="stringliteral">&quot;deltaNSingle&quot;</span>] = {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_deltaNSingle,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        store[<span class="stringliteral">&quot;deltaLSingle&quot;</span>] = {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_deltaLSingle,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        store[<span class="stringliteral">&quot;deltaJSingle&quot;</span>] = {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_deltaJSingle,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        store[<span class="stringliteral">&quot;deltaMSingle&quot;</span>] = {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_deltaMSingle,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        store[<span class="stringliteral">&quot;deltaNPair&quot;</span>] = {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_deltaNPair,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        store[<span class="stringliteral">&quot;deltaLPair&quot;</span>] = {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_deltaLPair,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        store[<span class="stringliteral">&quot;deltaJPair&quot;</span>] = {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_deltaJPair,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        store[<span class="stringliteral">&quot;deltaMPair&quot;</span>] = {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_deltaMPair,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        store[<span class="stringliteral">&quot;deltaESingle&quot;</span>] = {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_deltaESingle,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.energy}</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        store[<span class="stringliteral">&quot;deltaEPair&quot;</span>] = {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_deltaEPair,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.energy}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        store[<span class="stringliteral">&quot;pairbasisSame&quot;</span>] = {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_system_pairbasisSame,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        store[<span class="stringliteral">&quot;pairbasisDefined&quot;</span>] = {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_system_pairbasisDefined,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        store[<span class="stringliteral">&quot;quantizationZ&quot;</span>] = {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_system_quantizationZ,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        store[<span class="stringliteral">&quot;quantizationInteratomic&quot;</span>] = {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_system_quantizationInteratomic,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        store[<span class="stringliteral">&quot;samebasis&quot;</span>] = {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_system_samebasis,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        store[<span class="stringliteral">&quot;minEx&quot;</span>] = {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_minEx,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.efield}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        store[<span class="stringliteral">&quot;minEy&quot;</span>] = {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_minEy,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.efield}</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        store[<span class="stringliteral">&quot;minEz&quot;</span>] = {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_minEz,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.efield}</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        store[<span class="stringliteral">&quot;minBx&quot;</span>] = {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_minBx,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.bfield}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        store[<span class="stringliteral">&quot;minBy&quot;</span>] = {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_minBy,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.bfield}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        store[<span class="stringliteral">&quot;minBz&quot;</span>] = {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_minBz,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.bfield}</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        store[<span class="stringliteral">&quot;maxEx&quot;</span>] = {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_maxEx,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.efield}</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        store[<span class="stringliteral">&quot;maxEy&quot;</span>] = {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_maxEy,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.efield}</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        store[<span class="stringliteral">&quot;maxEz&quot;</span>] = {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_maxEz,</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.efield}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        store[<span class="stringliteral">&quot;maxBx&quot;</span>] = {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_maxBx,</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.bfield}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        store[<span class="stringliteral">&quot;maxBy&quot;</span>] = {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_maxBy,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.bfield}</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        store[<span class="stringliteral">&quot;maxBz&quot;</span>] = {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_maxBz,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.bfield}</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        store[<span class="stringliteral">&quot;minR&quot;</span>] = {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_minR,</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.length}</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        store[<span class="stringliteral">&quot;maxR&quot;</span>] = {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_maxR,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.length}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        store[<span class="stringliteral">&quot;theta&quot;</span>] = {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_theta,</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: Units.angle}</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        store[<span class="stringliteral">&quot;exponent&quot;</span>] = {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_exponent,</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        store[<span class="stringliteral">&quot;steps&quot;</span>] = {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_steps,</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        store[<span class="stringliteral">&quot;precision&quot;</span>] = {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.lineedit_system_precision,</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        store[<span class="stringliteral">&quot;matCombined&quot;</span>] = {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_system_matCombined,</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        store[<span class="stringliteral">&quot;matSeparate&quot;</span>] = {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_system_matSeparate,</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        store[<span class="stringliteral">&quot;missingCalc&quot;</span>] = {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_system_missingCalc,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        store[<span class="stringliteral">&quot;missingWhittaker&quot;</span>] = {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_system_missingWhittaker,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        store[<span class="stringliteral">&quot;cores&quot;</span>] = {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.spinbox_system_cores,</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        store[<span class="stringliteral">&quot;diamagnetism&quot;</span>] = {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_system_diamagnetic,</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        store[<span class="stringliteral">&quot;symAuto&quot;</span>] = {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_symAuto,</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        store[<span class="stringliteral">&quot;symManual&quot;</span>] = {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.radiobutton_symManual,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        store[<span class="stringliteral">&quot;invE&quot;</span>] = {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_system_invE,</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        store[<span class="stringliteral">&quot;invO&quot;</span>] = {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_system_invO,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        store[<span class="stringliteral">&quot;perE&quot;</span>] = {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_system_perE,</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        store[<span class="stringliteral">&quot;perO&quot;</span>] = {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_system_perO,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        store[<span class="stringliteral">&quot;refE&quot;</span>] = {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_system_refE,</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        store[<span class="stringliteral">&quot;refO&quot;</span>] = {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_system_refO,</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        store[<span class="stringliteral">&quot;conserveM&quot;</span>] = {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_system_conserveM,</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        store[<span class="stringliteral">&quot;sametrafo&quot;</span>] = {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="stringliteral">&#39;widget&#39;</span>: ui.checkbox_system_sametrafo,</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="stringliteral">&#39;unit&#39;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment"># field map of atom 1 (samebasis == False)</span></div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1SystemDict.html#a8a0e9d6447f32b9f5c003cc253e91efa">  368</a></span>&#160;    keys_for_cprogram_field1 = [<span class="stringliteral">&quot;species1&quot;</span>, <span class="stringliteral">&quot;n1&quot;</span>, <span class="stringliteral">&quot;l1&quot;</span>, <span class="stringliteral">&quot;j1&quot;</span>, <span class="stringliteral">&quot;m1&quot;</span>,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                <span class="stringliteral">&quot;deltaESingle&quot;</span>, <span class="stringliteral">&quot;deltaLSingle&quot;</span>, <span class="stringliteral">&quot;deltaJSingle&quot;</span>, <span class="stringliteral">&quot;deltaMSingle&quot;</span>, <span class="stringliteral">&quot;deltaNSingle&quot;</span>,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                <span class="stringliteral">&quot;samebasis&quot;</span>, <span class="stringliteral">&quot;steps&quot;</span>, <span class="stringliteral">&quot;precision&quot;</span>, <span class="stringliteral">&quot;missingCalc&quot;</span>, <span class="stringliteral">&quot;missingWhittaker&quot;</span>,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                <span class="stringliteral">&quot;minEx&quot;</span>, <span class="stringliteral">&quot;minEy&quot;</span>, <span class="stringliteral">&quot;minEz&quot;</span>, <span class="stringliteral">&quot;minBx&quot;</span>, <span class="stringliteral">&quot;minBy&quot;</span>, <span class="stringliteral">&quot;minBz&quot;</span>, <span class="stringliteral">&quot;maxEx&quot;</span>, <span class="stringliteral">&quot;maxEy&quot;</span>, <span class="stringliteral">&quot;maxEz&quot;</span>, <span class="stringliteral">&quot;maxBx&quot;</span>, <span class="stringliteral">&quot;maxBy&quot;</span>, <span class="stringliteral">&quot;maxBz&quot;</span>, <span class="stringliteral">&quot;diamagnetism&quot;</span>]</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment"># field map of atom 2 (samebasis == False)</span></div>
<div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1SystemDict.html#a8331a15f4f5bbd6aa49cd7e0f3051931">  374</a></span>&#160;    keys_for_cprogram_field2 = [<span class="stringliteral">&quot;species2&quot;</span>, <span class="stringliteral">&quot;n2&quot;</span>, <span class="stringliteral">&quot;l2&quot;</span>, <span class="stringliteral">&quot;j2&quot;</span>, <span class="stringliteral">&quot;m2&quot;</span>,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                                <span class="stringliteral">&quot;deltaESingle&quot;</span>, <span class="stringliteral">&quot;deltaLSingle&quot;</span>, <span class="stringliteral">&quot;deltaJSingle&quot;</span>, <span class="stringliteral">&quot;deltaMSingle&quot;</span>, <span class="stringliteral">&quot;deltaNSingle&quot;</span>,</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                                <span class="stringliteral">&quot;samebasis&quot;</span>, <span class="stringliteral">&quot;steps&quot;</span>, <span class="stringliteral">&quot;precision&quot;</span>, <span class="stringliteral">&quot;missingCalc&quot;</span>, <span class="stringliteral">&quot;missingWhittaker&quot;</span>,</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                <span class="stringliteral">&quot;minEx&quot;</span>, <span class="stringliteral">&quot;minEy&quot;</span>, <span class="stringliteral">&quot;minEz&quot;</span>, <span class="stringliteral">&quot;minBx&quot;</span>, <span class="stringliteral">&quot;minBy&quot;</span>, <span class="stringliteral">&quot;minBz&quot;</span>, <span class="stringliteral">&quot;maxEx&quot;</span>, <span class="stringliteral">&quot;maxEy&quot;</span>, <span class="stringliteral">&quot;maxEz&quot;</span>, <span class="stringliteral">&quot;maxBx&quot;</span>, <span class="stringliteral">&quot;maxBy&quot;</span>, <span class="stringliteral">&quot;maxBz&quot;</span>, <span class="stringliteral">&quot;diamagnetism&quot;</span>]</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment"># pair potential</span></div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1SystemDict.html#a4576ea361ceafdebea81cec0fec65ee8">  380</a></span>&#160;    keys_for_cprogram_potential = [<span class="stringliteral">&quot;species1&quot;</span>, <span class="stringliteral">&quot;n1&quot;</span>, <span class="stringliteral">&quot;l1&quot;</span>, <span class="stringliteral">&quot;j1&quot;</span>, <span class="stringliteral">&quot;m1&quot;</span>, <span class="stringliteral">&quot;species2&quot;</span>, <span class="stringliteral">&quot;n2&quot;</span>, <span class="stringliteral">&quot;l2&quot;</span>, <span class="stringliteral">&quot;j2&quot;</span>, <span class="stringliteral">&quot;m2&quot;</span>,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                   <span class="stringliteral">&quot;deltaESingle&quot;</span>, <span class="stringliteral">&quot;deltaLSingle&quot;</span>, <span class="stringliteral">&quot;deltaJSingle&quot;</span>, <span class="stringliteral">&quot;deltaMSingle&quot;</span>, <span class="stringliteral">&quot;deltaNSingle&quot;</span>, <span class="stringliteral">&quot;deltaEPair&quot;</span>, <span class="stringliteral">&quot;deltaLPair&quot;</span>, <span class="stringliteral">&quot;deltaJPair&quot;</span>, <span class="stringliteral">&quot;deltaMPair&quot;</span>, <span class="stringliteral">&quot;deltaNPair&quot;</span>,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                   <span class="stringliteral">&quot;samebasis&quot;</span>, <span class="stringliteral">&quot;steps&quot;</span>, <span class="stringliteral">&quot;precision&quot;</span>, <span class="stringliteral">&quot;missingCalc&quot;</span>, <span class="stringliteral">&quot;missingWhittaker&quot;</span>, <span class="stringliteral">&quot;exponent&quot;</span>,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                   <span class="stringliteral">&quot;minEx&quot;</span>, <span class="stringliteral">&quot;minEy&quot;</span>, <span class="stringliteral">&quot;minEz&quot;</span>, <span class="stringliteral">&quot;minBx&quot;</span>, <span class="stringliteral">&quot;minBy&quot;</span>, <span class="stringliteral">&quot;minBz&quot;</span>, <span class="stringliteral">&quot;maxEx&quot;</span>, <span class="stringliteral">&quot;maxEy&quot;</span>, <span class="stringliteral">&quot;maxEz&quot;</span>, <span class="stringliteral">&quot;maxBx&quot;</span>, <span class="stringliteral">&quot;maxBy&quot;</span>, <span class="stringliteral">&quot;maxBz&quot;</span>, <span class="stringliteral">&quot;diamagnetism&quot;</span>, <span class="stringliteral">&quot;minR&quot;</span>, <span class="stringliteral">&quot;maxR&quot;</span>,</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                   <span class="stringliteral">&quot;invE&quot;</span>,<span class="stringliteral">&quot;invO&quot;</span>,<span class="stringliteral">&quot;perE&quot;</span>,<span class="stringliteral">&quot;perO&quot;</span>,<span class="stringliteral">&quot;refE&quot;</span>,<span class="stringliteral">&quot;refO&quot;</span>, <span class="stringliteral">&quot;conserveM&quot;</span>, <span class="stringliteral">&quot;sametrafo&quot;</span>]</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment"># field map of atom 1 and atom 2 (samebasis == True)</span></div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1SystemDict.html#a9938942008b39ec92804567c3184b207">  387</a></span>&#160;    keys_for_cprogram_field12 = [<span class="stringliteral">&quot;species1&quot;</span>, <span class="stringliteral">&quot;n1&quot;</span>, <span class="stringliteral">&quot;l1&quot;</span>, <span class="stringliteral">&quot;j1&quot;</span>, <span class="stringliteral">&quot;m1&quot;</span>, <span class="stringliteral">&quot;species2&quot;</span>, <span class="stringliteral">&quot;n2&quot;</span>, <span class="stringliteral">&quot;l2&quot;</span>, <span class="stringliteral">&quot;j2&quot;</span>, <span class="stringliteral">&quot;m2&quot;</span>,</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                 <span class="stringliteral">&quot;deltaESingle&quot;</span>, <span class="stringliteral">&quot;deltaLSingle&quot;</span>, <span class="stringliteral">&quot;deltaJSingle&quot;</span>, <span class="stringliteral">&quot;deltaMSingle&quot;</span>, <span class="stringliteral">&quot;deltaNSingle&quot;</span>,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                 <span class="stringliteral">&quot;samebasis&quot;</span>, <span class="stringliteral">&quot;steps&quot;</span>, <span class="stringliteral">&quot;precision&quot;</span>, <span class="stringliteral">&quot;missingCalc&quot;</span>, <span class="stringliteral">&quot;missingWhittaker&quot;</span>,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                 <span class="stringliteral">&quot;minEx&quot;</span>, <span class="stringliteral">&quot;minEy&quot;</span>, <span class="stringliteral">&quot;minEz&quot;</span>, <span class="stringliteral">&quot;minBx&quot;</span>, <span class="stringliteral">&quot;minBy&quot;</span>, <span class="stringliteral">&quot;minBz&quot;</span>, <span class="stringliteral">&quot;maxEx&quot;</span>, <span class="stringliteral">&quot;maxEy&quot;</span>, <span class="stringliteral">&quot;maxEz&quot;</span>, <span class="stringliteral">&quot;maxBx&quot;</span>, <span class="stringliteral">&quot;maxBy&quot;</span>, <span class="stringliteral">&quot;maxBz&quot;</span>, <span class="stringliteral">&quot;diamagnetism&quot;</span>]</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html">  393</a></span>&#160;<span class="keyword">class </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html">MainWindow</a>(QtGui.QMainWindow):</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a48b720192a86370bc7df0faccd220a43">  395</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a48b720192a86370bc7df0faccd220a43">__init__</a>(self, parent=None):</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">if</span> os.name == <span class="stringliteral">&#39;nt&#39;</span>:</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            ext = <span class="stringliteral">&quot;.exe&quot;</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            locale.setlocale(locale.LC_ALL, <span class="stringliteral">&#39;English&#39;</span>)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            ext = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            locale.setlocale(locale.LC_ALL, <span class="stringliteral">&#39;en_US.UTF-8&#39;</span>)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        QtCore.QLocale.setDefault(QtCore.QLocale(locale.getlocale()[0]))</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        super().<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a48b720192a86370bc7df0faccd220a43">__init__</a>(parent)</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        del pg.graphicsItems.GradientEditorItem.Gradients[<span class="stringliteral">&#39;greyclip&#39;</span>]</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        del pg.graphicsItems.GradientEditorItem.Gradients[<span class="stringliteral">&#39;cyclic&#39;</span>]</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        del pg.graphicsItems.GradientEditorItem.Gradients[<span class="stringliteral">&#39;spectrum&#39;</span>]</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        del pg.graphicsItems.GradientEditorItem.Gradients[<span class="stringliteral">&#39;bipolar&#39;</span>]</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="comment"># TODO make class, check if module exists</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;from palettable import cubehelix&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;color = cubehelix.Cubehelix.make(sat=1.8,n=7,rotation=1.21,start=1.2,reverse=True).colors[::-1]</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="stringliteral">        color = np.append(color, [[255]]*len(color), axis=1).astype(np.ubyte)&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        color = [</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            [0, 0, 0, 255],</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            [12, 67, 0, 255],</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            [0, 123, 118, 255],</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            [122, 109, 240, 255],</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            [255, 121, 197, 255],</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            [247, 204, 159, 255],</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            [255, 255, 255, 255]</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        ]</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        pos = np.linspace(0, 1, len(color))</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        pg.graphicsItems.GradientEditorItem.Gradients[<span class="stringliteral">&#39;cubehelix1&#39;</span>] = {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="stringliteral">&#39;mode&#39;</span>: <span class="stringliteral">&#39;rgb&#39;</span>, <span class="stringliteral">&#39;ticks&#39;</span>: [(p, tuple(c)) <span class="keywordflow">for</span> c, p <span class="keywordflow">in</span> zip(color, pos)]}</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;color = cubehelix.Cubehelix.make(sat=1.5,n=7,rotation=-1.0,start=0.9,reverse=True).colors[::-1]</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="stringliteral">        color = np.append(color, [[255]]*len(color), axis=1).astype(np.ubyte)&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        color = [</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            [0, 0, 0, 255],</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            [75, 19, 77, 255],</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            [63, 80, 167, 255],</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            [44, 164, 156, 255],</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            [117, 206, 113, 255],</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            [226, 215, 161, 255],</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            [255, 255, 255, 255]</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        ]</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        pos = np.linspace(0, 1, len(color))</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        pg.graphicsItems.GradientEditorItem.Gradients[<span class="stringliteral">&#39;cubehelix2&#39;</span>] = {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="stringliteral">&#39;mode&#39;</span>: <span class="stringliteral">&#39;rgb&#39;</span>, <span class="stringliteral">&#39;ticks&#39;</span>: [(p, tuple(c)) <span class="keywordflow">for</span> c, p <span class="keywordflow">in</span> zip(color, pos)]}</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> pg.graphicsItems.GradientEditorItem.Gradients.items():</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            mapticks = [(1 - p, c) <span class="keywordflow">for</span> p, c <span class="keywordflow">in</span> v[<span class="stringliteral">&#39;ticks&#39;</span>]]</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="comment"># mappos = [1-p for p, c in v[&#39;ticks&#39;]]</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="comment"># mapticks[np.argmin(mappos)] = (mapticks[np.argmin(mappos)][0],(245,245,245,255))</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            pg.graphicsItems.GradientEditorItem.Gradients[k][<span class="stringliteral">&#39;ticks&#39;</span>] = mapticks</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a5756de37786f4c2fa8961172ba488aa6">  452</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5756de37786f4c2fa8961172ba488aa6">ui</a> = Ui_plotwindow()</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        self.ui.setupUi(self)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a72b7c6eaa63dadd913ae13a47076435a">  455</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a72b7c6eaa63dadd913ae13a47076435a">invalidQuantumnumbers</a> = [<span class="keyword">False</span>, <span class="keyword">False</span>, <span class="keyword">False</span>, <span class="keyword">False</span>]</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a0160d657f0be712d865eae0989fd1dfb">  457</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0160d657f0be712d865eae0989fd1dfb">samebasis</a> = <span class="keyword">False</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">  459</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a> = <a class="code" href="classpairinteraction_1_1app_1_1SystemDict.html">SystemDict</a>(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5756de37786f4c2fa8961172ba488aa6">ui</a>)</div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">  460</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a> = <a class="code" href="classpairinteraction_1_1app_1_1PlotDict.html">PlotDict</a>(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5756de37786f4c2fa8961172ba488aa6">ui</a>)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a6881b182d82561f3ad78a1fdb56f9662">  462</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6881b182d82561f3ad78a1fdb56f9662">userpath</a> = os.path.expanduser(<span class="stringliteral">&#39;~&#39;</span>)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e1f73e35c24ab57308c2c7192fae7e1">  464</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e1f73e35c24ab57308c2c7192fae7e1">filepath</a> = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6881b182d82561f3ad78a1fdb56f9662">userpath</a>  <span class="comment"># os.getcwd()</span></div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a0577d7e5e93edf944ab8d5cc14c9504f">  465</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0577d7e5e93edf944ab8d5cc14c9504f">systemfile</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a4d207f06452973d73bb4cbf07aa08259">  466</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4d207f06452973d73bb4cbf07aa08259">plotfile</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a5dc7fa0fbd10ef4a43f2f758ea6d1978">  467</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5dc7fa0fbd10ef4a43f2f758ea6d1978">resultfile</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="comment"># http://stackoverflow.com/questions/404744/determining-application-path-in-a-python-exe-generated-by-pyinstaller</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">if</span> getattr(sys, <span class="stringliteral">&#39;frozen&#39;</span>, <span class="keyword">False</span>):</div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">  471</a></span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a> = os.path.dirname(os.path.realpath(sys.executable))</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">elif</span> __file__:</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a> = os.path.dirname(os.path.realpath(__file__))</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">if</span> os.path.exists(os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a>, <span class="stringliteral">&quot;conf&quot;</span>, <span class="stringliteral">&quot;example.sconf&quot;</span>)):</div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a16adc045cd90a68973de6ba66d0b6904">  476</a></span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a16adc045cd90a68973de6ba66d0b6904">path_configurationdir</a> = os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a>, <span class="stringliteral">&quot;conf&quot;</span>)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">elif</span> os.path.exists(os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a>, <span class="stringliteral">&quot;../conf&quot;</span>, <span class="stringliteral">&quot;example.sconf&quot;</span>)):</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a16adc045cd90a68973de6ba66d0b6904">path_configurationdir</a> = os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a>, <span class="stringliteral">&quot;../conf&quot;</span>)</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&#39;Directory containing configurations not found.&#39;</span>)</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">if</span> os.path.exists(os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a>, <span class="stringliteral">&quot;pairinteraction-real&quot;</span>+ext)):</div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aa05626b1e49487ebfefb687929fb4fdb">  483</a></span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa05626b1e49487ebfefb687929fb4fdb">path_workingdir</a> = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">elif</span> os.path.exists(os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a>, <span class="stringliteral">&quot;../../calc&quot;</span>, <span class="stringliteral">&quot;pairinteraction-real&quot;</span>+ext)):</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa05626b1e49487ebfefb687929fb4fdb">path_workingdir</a> = os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a>, <span class="stringliteral">&quot;../../calc&quot;</span>)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&#39;Directory containing executables not found.&#39;</span>)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a45dd87dd4723239acdba19109ea86b">  489</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a45dd87dd4723239acdba19109ea86b">path_cpp_real</a> = os.path.join(</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a>, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa05626b1e49487ebfefb687929fb4fdb">path_workingdir</a>, <span class="stringliteral">&quot;pairinteraction-real&quot;</span>)</div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aac6f957b795c64ac480b09b0816b5d5b">  491</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aac6f957b795c64ac480b09b0816b5d5b">path_cpp_complex</a> = os.path.join(</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a>, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa05626b1e49487ebfefb687929fb4fdb">path_workingdir</a>, <span class="stringliteral">&quot;pairinteraction-complex&quot;</span>)</div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a80f744d477fbdd70d090a353a0022bcf">  493</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a80f744d477fbdd70d090a353a0022bcf">path_quantumdefects</a> = os.path.join(</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">path_base</a>, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa05626b1e49487ebfefb687929fb4fdb">path_workingdir</a>, <span class="stringliteral">&quot;databases/quantum_defects.db&quot;</span>)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">if</span> os.name == <span class="stringliteral">&#39;nt&#39;</span>:</div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">  497</a></span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">path_out</a> = os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6881b182d82561f3ad78a1fdb56f9662">userpath</a>, <span class="stringliteral">&quot;pairinteraction/&quot;</span>)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">path_out</a> = os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6881b182d82561f3ad78a1fdb56f9662">userpath</a>, <span class="stringliteral">&quot;.pairinteraction/&quot;</span>)</div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">  500</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">path_cache</a> = os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">path_out</a>, <span class="stringliteral">&quot;cache/&quot;</span>)</div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#abccfb0957cca90c1f184c231cb73ec2d">  501</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#abccfb0957cca90c1f184c231cb73ec2d">path_cache_wignerd</a> = os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">path_cache</a>, <span class="stringliteral">&quot;wignerd/&quot;</span>)</div>
<div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">  502</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">path_lastsettings</a> = os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">path_out</a>, <span class="stringliteral">&quot;lastsettings/&quot;</span>)</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a0ad515864dfa4aaf27aed2d0e3ecef63">  504</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0ad515864dfa4aaf27aed2d0e3ecef63">path_system_last</a> = os.path.join(</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">path_lastsettings</a>, <span class="stringliteral">&quot;lastsettings.sconf&quot;</span>)</div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aa2f28078d3a8ce2f53ac55bb14a772e8">  506</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa2f28078d3a8ce2f53ac55bb14a772e8">path_plot_last</a> = os.path.join(</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">path_lastsettings</a>, <span class="stringliteral">&quot;lastsettings.pconf&quot;</span>)</div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ac985ac6c3ab821413baf4e8022a996bb">  508</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac985ac6c3ab821413baf4e8022a996bb">path_view_last</a> = os.path.join(</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">path_lastsettings</a>, <span class="stringliteral">&quot;lastview.json&quot;</span>)</div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a17b5d9459f1d9f3fee1dbf7cb9252722">  510</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a17b5d9459f1d9f3fee1dbf7cb9252722">path_cache_last</a> = os.path.join(</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">path_lastsettings</a>, <span class="stringliteral">&quot;lastcache.json&quot;</span>)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a3674fe4d7a64b874c544311c59ce71ba">  513</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3674fe4d7a64b874c544311c59ce71ba">path_config</a> = os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">path_out</a>, <span class="stringliteral">&quot;conf.json&quot;</span>)</div>
<div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">  514</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">path_version</a> = os.path.join(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">path_out</a>, <span class="stringliteral">&quot;version.json&quot;</span>)</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aa411fd6e17ac64709348b9e71e169758">  516</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa411fd6e17ac64709348b9e71e169758">proc</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a6c0265d83679e5b5201debe11b70fb2c">  518</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6c0265d83679e5b5201debe11b70fb2c">thread</a> = Worker()</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a4083076abd93609ae7b07f9e083e1ef6">  520</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4083076abd93609ae7b07f9e083e1ef6">timer</a> = QtCore.QTimer()</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">  522</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a> = [(55, 126, 184), (77, 175, 74), (228, 26, 28), (152, 78, 163), (</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            0, 0, 0), (255 // 5, 255 // 5, 255 // 5)]  <span class="comment"># s, p, d, f, other, undetermined</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a3e4ac2abc6ad3bd2d27d3cf489c88f59">  525</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3e4ac2abc6ad3bd2d27d3cf489c88f59">momentummat</a> = [<span class="keywordtype">None</span>] * 3</div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aee827a1ab0fe963062d0f35cf1284551">  526</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aee827a1ab0fe963062d0f35cf1284551">labelmat</a> = [<span class="keywordtype">None</span>] * 3</div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#adb387dd28bbf38f6ff3e44673f366c03">  527</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#adb387dd28bbf38f6ff3e44673f366c03">labelstates</a> = [<span class="keywordtype">None</span>] * 3</div>
<div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ace152a2d97602cbf5338c5ddd667f956">  528</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ace152a2d97602cbf5338c5ddd667f956">momentumstrings</a> = [<span class="keywordtype">None</span>] * 3</div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">  529</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a> = [<span class="keywordtype">None</span>] * 3</div>
<div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">  530</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a> = [<span class="keywordtype">None</span>] * 3</div>
<div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">  531</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a> = [<span class="keywordtype">None</span>] * 3</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="comment"># fill comboboxes with elements from the quantum defects database</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keyword">import</span> sqlite3</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        conn = sqlite3.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a80f744d477fbdd70d090a353a0022bcf">path_quantumdefects</a>)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        c = conn.cursor()</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        c.execute(<span class="stringliteral">&#39;SELECT DISTINCT element FROM rydberg_ritz&#39;</span>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        elements = [e[0] <span class="keywordflow">for</span> e <span class="keywordflow">in</span> c.fetchall()]</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        conn.close()</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="keywordflow">for</span> combobox <span class="keywordflow">in</span> [self.ui.combobox_system_species1, self.ui.combobox_system_species2]:</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            combobox.clear()</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            combobox.addItems(elements)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment"># TODO !!!!!! numBlocks kann auch hoeher als 3 sein!</span></div>
<div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">  546</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">buffer_basis</a> = [{}, {}, {}]</div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">  547</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">buffer_energies</a> = [{}, {}, {}]</div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ac189ab7a1f368b30cfcfeef9679ba75d">  548</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac189ab7a1f368b30cfcfeef9679ba75d">buffer_positions</a> = [{}, {}, {}]</div>
<div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">  549</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">buffer_boolarr</a> = [{}, {}, {}]</div>
<div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a3d7e0756679ec7ad36d0e27c2c103bca">  550</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3d7e0756679ec7ad36d0e27c2c103bca">buffer_basis_potential</a> = {}</div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a67c0309fa03f0d270902ff30a63fb3b1">  551</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a67c0309fa03f0d270902ff30a63fb3b1">buffer_energies_potential</a> = {}</div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a62500f4b7c611245092f762f0b1bbb81">  552</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a62500f4b7c611245092f762f0b1bbb81">buffer_positions_potential</a> = {}</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">  554</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a> = [{}, {}, {}]</div>
<div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">  555</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">buffer_positionsMap</a> = [{}, {}, {}]</div>
<div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">  556</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a> = [{}, {}, {}]</div>
<div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#addf7aec4b2b494f302122748320ddbec">  557</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#addf7aec4b2b494f302122748320ddbec">buffer_energiesMap_potential</a> = {}</div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0f4c6e3b1014f06bfa695a6338ce8c7">  558</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0f4c6e3b1014f06bfa695a6338ce8c7">buffer_positionsMap_potential</a> = {}</div>
<div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aa6506ffe5a682c0904f4006feb456178">  559</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa6506ffe5a682c0904f4006feb456178">buffer_overlapMap_potential</a> = {}</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a6302b06a4bf9a63ca6c3784ad5e8a143">  561</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6302b06a4bf9a63ca6c3784ad5e8a143">lines_buffer_minIdx</a> = {}</div>
<div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a16760c3dc39c8388b95dcd48a4d7780a">  562</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a16760c3dc39c8388b95dcd48a4d7780a">colormap_buffer_minIdx_potential</a> = 0</div>
<div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">  563</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a> = [0] * 3</div>
<div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">  564</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a> = [0] * 3</div>
<div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a781536ebec2b59affe9f7ff6e4ccafcf">  565</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a781536ebec2b59affe9f7ff6e4ccafcf">iSelected</a> = {}</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;self.ui.colorbutton_plot_nosym.setColor(self.symmetrycolors[0])</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="stringliteral">        self.ui.colorbutton_plot_sym.setColor(self.symmetrycolors[1])</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="stringliteral">        self.ui.colorbutton_plot_asym.setColor(self.symmetrycolors[2])&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        self.ui.colorbutton_plot_invE.setColor((180, 0, 120))</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        self.ui.colorbutton_plot_invO.setColor((0, 120, 180))</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        self.ui.colorbutton_plot_perE.setColor((180, 60, 60))</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        self.ui.colorbutton_plot_perO.setColor((60, 60, 180))</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        self.ui.colorbutton_plot_refE.setColor((180, 120, 0))</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        self.ui.colorbutton_plot_refO.setColor((120, 0, 180))</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="comment"># clrmp = pg.ColorMap(pos,color)</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="comment"># self.lut = clrmp.getLookupTable()</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        self.ui.gradientwidget_plot_gradient.setOrientation(<span class="stringliteral">&quot;top&quot;</span>)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        self.ui.gradientwidget_plot_gradient.loadPreset(<span class="stringliteral">&#39;cubehelix1&#39;</span>)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#abdd5f3505c51bac65b236818f98dafae">  584</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#abdd5f3505c51bac65b236818f98dafae">tab_field2</a> = self.ui.tabwidget_plotter.widget(1)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a21a8a7b0183d0754d3b2246f66fb22db">  586</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a21a8a7b0183d0754d3b2246f66fb22db">storage_data</a> = [[], [], []]</div>
<div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ae13f97a88abfbe6b994208961a760aa2">  587</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae13f97a88abfbe6b994208961a760aa2">storage_states</a> = [<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a0e786c56cd0d032730ec4015f9094791">  588</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0e786c56cd0d032730ec4015f9094791">storage_configuration</a> = [[<span class="keywordtype">None</span>, <span class="keywordtype">None</span>], [<span class="keywordtype">None</span>, <span class="keywordtype">None</span>], [<span class="keywordtype">None</span>, <span class="keywordtype">None</span>]]</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a419e4c55122138ac4bd5bbeb26aa7b97">  590</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a419e4c55122138ac4bd5bbeb26aa7b97">manualRangeX</a> = [<span class="keyword">False</span>, <span class="keyword">False</span>, <span class="keyword">False</span>]</div>
<div class="line"><a name="l00591"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a76196466b7d333cccf857661150ff10c">  591</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a76196466b7d333cccf857661150ff10c">manualRangeY</a> = [<span class="keyword">False</span>, <span class="keyword">False</span>, <span class="keyword">False</span>]</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#af96ad046e50ebfa5e9762c862f9adaff">  593</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af96ad046e50ebfa5e9762c862f9adaff">printer</a> = QPrinter(QPrinter.HighResolution)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        self.printer.setPageMargins(20, 15, 20, 20, QPrinter.Millimeter)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a166618d26a037e32f3c6c83530b8c1fb">  596</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a166618d26a037e32f3c6c83530b8c1fb">momentslabels</a> = [<span class="stringliteral">&#39;S&#39;</span>, <span class="stringliteral">&#39;P&#39;</span>, <span class="stringliteral">&#39;D&#39;</span>, <span class="stringliteral">&#39;F&#39;</span>]</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div>
<div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aee202fc85410b700beb8a31b66ab20b2">  598</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aee202fc85410b700beb8a31b66ab20b2">unperturbedstate</a> = [<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">  599</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a> = [<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a1fe811b0303d79377d94d5c987852bbe">  601</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1fe811b0303d79377d94d5c987852bbe">linesX</a> = [<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a8539759e8e84d4b45646d2114e68f759">  602</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8539759e8e84d4b45646d2114e68f759">linesY</a> = [<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0e0f3218ad4e41588e4f1bd301b0c8d">  603</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0e0f3218ad4e41588e4f1bd301b0c8d">linesO</a> = [<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#afbab9be1bec12ebb94286ce30698c967">  604</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#afbab9be1bec12ebb94286ce30698c967">linesSelected</a> = [0, 0, 0]  <span class="comment"># [None,None,None] waere auch ok</span></div>
<div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">  605</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a> = [[], [], []]  <span class="comment"># [None,None,None] waere auch ok</span></div>
<div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a95c194535839406f58e702cb49d03207">  606</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a95c194535839406f58e702cb49d03207">linesSender</a> = [<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="comment"># TODOs</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        self.ui.checkbox_system_override.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        self.ui.action_radial_clear.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="comment"># self.ui.spinbox_system_exponent.setMaximum(3)</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        self.ui.lineedit_system_precision.hide()</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        self.ui.label_system_precision.hide()</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="comment"># Group up buttons</span></div>
<div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aedc059ee30f83a08b3dd59d83a42fb11">  616</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aedc059ee30f83a08b3dd59d83a42fb11">overlapgroup</a> = QtGui.QButtonGroup()</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        self.overlapgroup.addButton(self.ui.radiobutton_plot_overlapDefined)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        self.overlapgroup.addButton(</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            self.ui.radiobutton_plot_overlapUnperturbed)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a83905dc057f06d82a0986dad4beea63a">  621</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a83905dc057f06d82a0986dad4beea63a">missinggroup</a> = QtGui.QButtonGroup()</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        self.missinggroup.addButton(self.ui.radiobutton_system_missingCalc)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        self.missinggroup.addButton(</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            self.ui.radiobutton_system_missingWhittaker)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="comment"># self.missinggroup.addButton(self.ui.radiobutton_system_missingError)</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#acf72d3149ced7f67c1c586e91df47572">  627</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#acf72d3149ced7f67c1c586e91df47572">matgroup</a> = QtGui.QButtonGroup()</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        self.matgroup.addButton(self.ui.radiobutton_system_matCombined)</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        self.matgroup.addButton(self.ui.radiobutton_system_matSeparate)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ad6b6bc66026b9fdccaa2efd88033a7f4">  631</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad6b6bc66026b9fdccaa2efd88033a7f4">quantizationgroup</a> = QtGui.QButtonGroup()</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        self.quantizationgroup.addButton(</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            self.ui.radiobutton_system_quantizationZ)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        self.quantizationgroup.addButton(</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            self.ui.radiobutton_system_quantizationInteratomic)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a3571be8368aaf16b4671f62bec63defa">  637</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3571be8368aaf16b4671f62bec63defa">symgroup</a> = QtGui.QButtonGroup()</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        self.symgroup.addButton(self.ui.radiobutton_symAuto)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        self.symgroup.addButton(self.ui.radiobutton_symManual)</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="comment"># Set validators</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        validator_double = DoubleValidator()</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        validator_doublenone = DoublenoneValidator()</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        validator_doublepositive = DoublepositiveValidator()</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        validator_doubledelta = DoubledeltaValidator()</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        self.ui.lineedit_system_deltaESingle.setValidator(</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            validator_doubledelta)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        self.ui.lineedit_system_deltaEPair.setValidator(validator_doubledelta)</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        self.ui.lineedit_system_minEx.setValidator(validator_double)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        self.ui.lineedit_system_minEy.setValidator(validator_double)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        self.ui.lineedit_system_minEz.setValidator(validator_double)</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        self.ui.lineedit_system_maxEx.setValidator(validator_double)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        self.ui.lineedit_system_maxEy.setValidator(validator_double)</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        self.ui.lineedit_system_maxEz.setValidator(validator_double)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        self.ui.lineedit_system_minBx.setValidator(validator_double)</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        self.ui.lineedit_system_minBy.setValidator(validator_double)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        self.ui.lineedit_system_minBz.setValidator(validator_double)</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        self.ui.lineedit_system_maxBx.setValidator(validator_double)</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        self.ui.lineedit_system_maxBy.setValidator(validator_double)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        self.ui.lineedit_system_maxBz.setValidator(validator_double)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        self.ui.lineedit_system_minR.setValidator(validator_doublepositive)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        self.ui.lineedit_system_maxR.setValidator(validator_doublepositive)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        self.ui.lineedit_system_theta.setValidator(validator_double)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        self.ui.lineedit_system_precision.setValidator(</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            validator_doublepositive)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        self.ui.lineedit_field1_minE.setValidator(validator_doublenone)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        self.ui.lineedit_field1_maxE.setValidator(validator_doublenone)</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        self.ui.lineedit_field2_minE.setValidator(validator_doublenone)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        self.ui.lineedit_field2_maxE.setValidator(validator_doublenone)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        self.ui.lineedit_potential_minE.setValidator(validator_doublenone)</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        self.ui.lineedit_potential_maxE.setValidator(validator_doublenone)</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="comment"># Connect signals and slots</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        self.thread.criticalsignal.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a309fe184a739158519f8eaf041d04042">showCriticalMessage</a>)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        self.ui.spinbox_system_n1.valueChanged.connect(</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        self.ui.spinbox_system_n2.valueChanged.connect(</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        self.ui.spinbox_system_l1.valueChanged.connect(</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        self.ui.spinbox_system_l2.valueChanged.connect(</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        self.ui.spinbox_system_j1.valueChanged.connect(</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        self.ui.spinbox_system_j2.valueChanged.connect(</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        self.ui.spinbox_system_m1.valueChanged.connect(</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        self.ui.spinbox_system_m2.valueChanged.connect(</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        self.ui.spinbox_plot_n1.valueChanged.connect(</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        self.ui.spinbox_plot_n2.valueChanged.connect(</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        self.ui.spinbox_plot_l1.valueChanged.connect(</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        self.ui.spinbox_plot_l2.valueChanged.connect(</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        self.ui.spinbox_plot_j1.valueChanged.connect(</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        self.ui.spinbox_plot_j2.valueChanged.connect(</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        self.ui.spinbox_plot_m1.valueChanged.connect(</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        self.ui.spinbox_plot_m2.valueChanged.connect(</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        self.ui.spinbox_system_j1.editingFinished.connect(</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0d6db012037e3462b63744fa102a63be">validateHalfinteger</a>)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        self.ui.spinbox_system_j2.editingFinished.connect(</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0d6db012037e3462b63744fa102a63be">validateHalfinteger</a>)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        self.ui.spinbox_system_m1.editingFinished.connect(</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0d6db012037e3462b63744fa102a63be">validateHalfinteger</a>)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        self.ui.spinbox_system_m2.editingFinished.connect(</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0d6db012037e3462b63744fa102a63be">validateHalfinteger</a>)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        self.ui.spinbox_plot_j1.editingFinished.connect(</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#afe6cdffdad66d599b27a686ef7924de7">validateHalfintegerpositiveOrMinusone</a>)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        self.ui.spinbox_plot_j2.editingFinished.connect(</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#afe6cdffdad66d599b27a686ef7924de7">validateHalfintegerpositiveOrMinusone</a>)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        self.ui.spinbox_plot_m1.editingFinished.connect(</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1af5d82b37562a95bd7b6e5eb13f8d">validateHalfintegerOrMinusone</a>)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        self.ui.spinbox_plot_m2.editingFinished.connect(</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1af5d82b37562a95bd7b6e5eb13f8d">validateHalfintegerOrMinusone</a>)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        self.ui.spinbox_plot_n1.editingFinished.connect(</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a99d8def321731e763f57237bb33185ec">validateIntegerpositiveOrMinusone</a>)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        self.ui.spinbox_plot_n2.editingFinished.connect(</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a99d8def321731e763f57237bb33185ec">validateIntegerpositiveOrMinusone</a>)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        self.ui.combobox_system_species1.currentIndexChanged[</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            str].connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1f82f0c6d71332333c62b84c70ad645e">forbidSamebasis</a>)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        self.ui.combobox_system_species2.currentIndexChanged[</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            str].connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1f82f0c6d71332333c62b84c70ad645e">forbidSamebasis</a>)</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        self.ui.radiobutton_system_pairbasisDefined.toggled.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#abdb4b0d04b98c18ed5d21422bf7f9fe0">togglePairbasis</a>)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        self.ui.radiobutton_plot_overlapDefined.toggled.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a921ae051197605d1537cd032b3cc4657">toggleOverlapstate</a>)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        self.ui.radiobutton_plot_log.toggled.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5366129ad7f4943bda1fe98ceb6a24ef">toggleYScale</a>)</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        self.ui.radiobutton_symManual.toggled.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaf7cd77b208c135332f4b2d88f5841b8">toggleSymmetrization</a>)</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        self.ui.checkbox_plot_antialiasing.toggled.connect(</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aea56529752b4a21db7a2616471eeab1c">toggleAntialiasing</a>)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        self.ui.checkbox_system_samebasis.toggled.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a2de7bc129f30c1181a31ef8d30e7e18e">toggleSamebasis</a>)</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        self.ui.spinbox_system_deltaNSingle.valueChanged.connect(</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a99a5c370b41caacc095f90b1e584b0ff">adjustPairlimits</a>)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        self.ui.spinbox_system_deltaLSingle.valueChanged.connect(</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a99a5c370b41caacc095f90b1e584b0ff">adjustPairlimits</a>)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        self.ui.spinbox_system_deltaJSingle.valueChanged.connect(</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a99a5c370b41caacc095f90b1e584b0ff">adjustPairlimits</a>)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        self.ui.spinbox_system_deltaMSingle.valueChanged.connect(</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a99a5c370b41caacc095f90b1e584b0ff">adjustPairlimits</a>)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        self.ui.action_system_open.triggered.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a77f8deb8a10ce9aa785b2a9650f5d6d7">openSystemConf</a>)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        self.ui.action_system_save.triggered.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a886f7651907f1655f023e49f2c4fe3e6">saveSystemConf</a>)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        self.ui.action_plot_open.triggered.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#abde9abf5830c6da6428ca41e7995e918">openPlotConf</a>)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        self.ui.action_plot_save.triggered.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a2400114496a810746478808ba518f64d">savePlotConf</a>)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        self.ui.action_quit.triggered.connect(self.close)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        self.ui.action_reporterror.triggered.connect(</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <span class="keyword">lambda</span>: webbrowser.open(</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                <span class="stringliteral">&quot;https://github.com/pairinteraction/pairinteraction/issues/new&quot;</span>))</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        self.ui.action_whatsthis.triggered.connect(</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            QtGui.QWhatsThis.enterWhatsThisMode)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        self.ui.action_cache_directory.triggered.connect(</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#accebe30275b240e9ec5a34efb5b9b5cd">changeCacheDirectory</a>)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        self.ui.action_cache_clear.triggered.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1f629d6b316a6d6430b6dcfd9d4dc721">clearCache</a>)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        self.ui.action_print.triggered.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e190994bbaaf494916ea18b9d0ad1e9">print</a>)</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        self.ui.action_sconf_reset.triggered.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#acb3266a8e997021379ed920e3f628eb4">resetSConf</a>)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        self.ui.action_pconf_reset.triggered.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a185fecc2006e1f68bd102dad334899bd">resetPConf</a>)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        self.ui.pushbutton_field1_calc.clicked.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a768fd3a31e3fca1498903c5f50267221">startCalc</a>)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        self.ui.pushbutton_field2_calc.clicked.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a768fd3a31e3fca1498903c5f50267221">startCalc</a>)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        self.ui.pushbutton_potential_calc.clicked.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a768fd3a31e3fca1498903c5f50267221">startCalc</a>)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        self.ui.pushbutton_field1_save.clicked.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa614f9a92cf3cdc3783e8181db115fcd">saveResult</a>)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        self.ui.pushbutton_field2_save.clicked.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa614f9a92cf3cdc3783e8181db115fcd">saveResult</a>)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        self.ui.pushbutton_potential_save.clicked.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa614f9a92cf3cdc3783e8181db115fcd">saveResult</a>)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        self.ui.pushbutton_potential_fit.clicked.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a681a6e5331862060886962b64294f4a1">fitC3C6</a>)</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        self.timer.timeout.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a791671f5d4e938e31e2e2afbb4a9c1cb">checkForData</a>)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        self.ui.graphicsview_field1_plot.sigXRangeChanged.connect(</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a2d572211f66ba0b63f871ef755dfdf74">detectManualRangeX</a>)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        self.ui.graphicsview_field2_plot.sigXRangeChanged.connect(</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a2d572211f66ba0b63f871ef755dfdf74">detectManualRangeX</a>)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        self.ui.graphicsview_potential_plot.sigXRangeChanged.connect(</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a2d572211f66ba0b63f871ef755dfdf74">detectManualRangeX</a>)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        self.ui.graphicsview_field1_plot.sigYRangeChanged.connect(</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa4ea4bae7bdfe387b83419887bc28c34">detectManualRangeY</a>)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        self.ui.graphicsview_field2_plot.sigYRangeChanged.connect(</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa4ea4bae7bdfe387b83419887bc28c34">detectManualRangeY</a>)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        self.ui.graphicsview_potential_plot.sigYRangeChanged.connect(</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa4ea4bae7bdfe387b83419887bc28c34">detectManualRangeY</a>)</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        self.ui.spinbox_system_exponent.valueChanged.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        self.ui.lineedit_system_minBx.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        self.ui.lineedit_system_maxBx.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        self.ui.lineedit_system_minBy.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        self.ui.lineedit_system_maxBy.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        self.ui.lineedit_system_minBz.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        self.ui.lineedit_system_maxBz.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        self.ui.lineedit_system_minEx.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        self.ui.lineedit_system_maxEx.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        self.ui.lineedit_system_minEy.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        self.ui.lineedit_system_maxEy.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        self.ui.lineedit_system_minEz.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        self.ui.lineedit_system_maxEz.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        self.ui.lineedit_system_theta.editingFinished.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        self.ui.spinbox_system_m1.valueChanged.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        self.ui.spinbox_system_m2.valueChanged.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        self.ui.checkbox_system_samebasis.stateChanged.connect(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="comment"># Load cache directory</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">if</span> os.path.isfile(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a17b5d9459f1d9f3fee1dbf7cb9252722">path_cache_last</a>):</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            with open(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a17b5d9459f1d9f3fee1dbf7cb9252722">path_cache_last</a>, <span class="stringliteral">&#39;</span><span class="stringliteral">r&#39;) as f:</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="stringliteral">                params = json.load(f)</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="stringliteral">                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">path_cache</a> = params[</span><span class="stringliteral">&quot;cachedir&quot;</span>]</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="comment"># Check version</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="comment"># Load version</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        version_settings_saved = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        version_cache_saved = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="keywordflow">if</span> os.path.isfile(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">path_version</a>):</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            with open(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">path_version</a>, <span class="stringliteral">&#39;</span><span class="stringliteral">r&#39;) as f:</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="stringliteral">                params = json.load(f)</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="stringliteral">                version_settings_saved = params[</span><span class="stringliteral">&quot;version_settings&quot;</span>]</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                version_cache_saved = params[<span class="stringliteral">&quot;version_cache&quot;</span>]</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="comment"># Compare version</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;if os.path.exists(self.path_out) and version_settings_saved != version_settings and version_cache_saved != version_cache: # Poblem: Cachedirectory muss nicht mehr in self.path_out liegen</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="stringliteral">            msg = QtGui.QMessageBox()</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="stringliteral">            msg.setText(&#39;A new program version has been installed. Due to major changes, cache and settings have to be cleared. This deletes the directory {}.&#39;.format(self.path_out))</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="stringliteral">            msg.setIcon(QtGui.QMessageBox.Information);</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="stringliteral">            msg.addButton(QtGui.QMessageBox.Cancel)</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="stringliteral">            msg.addButton(QtGui.QMessageBox.Ok)</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="stringliteral">            msg.setDefaultButton(QtGui.QMessageBox.Ok)</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="stringliteral">            answer = msg.exec()</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="stringliteral">            # Delete directory</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="stringliteral">            if answer == QtGui.QMessageBox.Ok:</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="stringliteral">                shutil.rmtree(self.path_out)</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="stringliteral">            else:</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="stringliteral">                sys.exit()&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="keywordflow">if</span> os.path.exists(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">path_lastsettings</a>) <span class="keywordflow">and</span> version_settings_saved != version_settings:</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            msg = QtGui.QMessageBox()</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            msg.setText(<span class="stringliteral">&#39;A new program version has been installed. Due to configuration changes, settings have to be cleared. This deletes the directory {}.&#39;</span>.format(</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">path_lastsettings</a>))</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            msg.setIcon(QtGui.QMessageBox.Information)</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            msg.addButton(QtGui.QMessageBox.Cancel)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            msg.addButton(QtGui.QMessageBox.Ok)</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            msg.setDefaultButton(QtGui.QMessageBox.Ok)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            answer = msg.exec()</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="comment"># Delete directory</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <span class="keywordflow">if</span> answer == QtGui.QMessageBox.Ok:</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                shutil.rmtree(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">path_lastsettings</a>)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                sys.exit()</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">if</span> os.path.exists(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">path_cache</a>) <span class="keywordflow">and</span> version_cache_saved != version_cache:</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            msg = QtGui.QMessageBox()</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            msg.setText(<span class="stringliteral">&#39;A new program version has been installed. Due to database changes, the cache has to be cleared. This deletes the directory {}.&#39;</span>.format(</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">path_cache</a>))</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            msg.setIcon(QtGui.QMessageBox.Information)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            msg.addButton(QtGui.QMessageBox.Cancel)</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            msg.addButton(QtGui.QMessageBox.Ok)</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            msg.setDefaultButton(QtGui.QMessageBox.Ok)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            answer = msg.exec()</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <span class="comment"># Delete directory</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            <span class="keywordflow">if</span> answer == QtGui.QMessageBox.Ok:</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                shutil.rmtree(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">path_cache</a>)</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                sys.exit()</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="comment"># Create directories</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">path_out</a>):</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            os.makedirs(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">path_out</a>)</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <span class="keywordflow">if</span> os.name == <span class="stringliteral">&#39;nt&#39;</span>:</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                <span class="keyword">import</span> ctypes</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                FILE_ATTRIBUTE_HIDDEN = 0x02</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                ret = ctypes.windll.kernel32.SetFileAttributesW(</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">path_out</a>, FILE_ATTRIBUTE_HIDDEN)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                <span class="keywordflow">if</span> <span class="keywordflow">not</span> ret:</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                    <span class="keywordflow">raise</span> ctypes.WinError()</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isfile(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">path_version</a>):</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            with open(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">path_version</a>, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                json.dump({<span class="stringliteral">&#39;version_settings&#39;</span>: version_settings,</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                           <span class="stringliteral">&#39;version_cache&#39;</span>: version_cache}, f, indent=4, sort_keys=<span class="keyword">True</span>)</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">path_lastsettings</a>):</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            os.makedirs(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">path_lastsettings</a>)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            with open(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">path_version</a>, <span class="stringliteral">&#39;</span><span class="stringliteral">r&#39;) as f:</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="stringliteral">                version_cache_saved = json.load(f)[</span><span class="stringliteral">&quot;version_cache&quot;</span>]</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            with open(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">path_version</a>, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                json.dump({<span class="stringliteral">&#39;version_settings&#39;</span>: version_settings,</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                           <span class="stringliteral">&#39;version_cache&#39;</span>: version_cache_saved}, f, indent=4, sort_keys=<span class="keyword">True</span>)</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isfile(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a17b5d9459f1d9f3fee1dbf7cb9252722">path_cache_last</a>):</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            with open(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a17b5d9459f1d9f3fee1dbf7cb9252722">path_cache_last</a>, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                json.dump({<span class="stringliteral">&quot;cachedir&quot;</span>: self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">path_cache</a>},</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                          f, indent=4, sort_keys=<span class="keyword">True</span>)</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">path_cache</a>):</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            os.makedirs(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">path_cache</a>)</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            with open(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">path_version</a>, <span class="stringliteral">&#39;</span><span class="stringliteral">r&#39;) as f:</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="stringliteral">                version_settings_saved = json.load(f)[</span><span class="stringliteral">&quot;version_settings&quot;</span>]</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            with open(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">path_version</a>, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                json.dump({<span class="stringliteral">&#39;version_settings&#39;</span>: version_settings_saved,</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                           <span class="stringliteral">&#39;version_cache&#39;</span>: version_cache}, f, indent=4, sort_keys=<span class="keyword">True</span>)</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#abccfb0957cca90c1f184c231cb73ec2d">path_cache_wignerd</a>):</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            os.makedirs(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#abccfb0957cca90c1f184c231cb73ec2d">path_cache_wignerd</a>)</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="comment"># create object to calculate wigner d matrix</span></div>
<div class="line"><a name="l00926"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a312674c2f148f4dc892c1ae9f8429a09">  926</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a312674c2f148f4dc892c1ae9f8429a09">wignerd</a> = Wignerd(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#abccfb0957cca90c1f184c231cb73ec2d">path_cache_wignerd</a>)</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="comment"># print(self.wignerd.calc(1/2, 1/2, -1/2, -np.pi/5))</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="comment"># Load last settings</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isfile(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0ad515864dfa4aaf27aed2d0e3ecef63">path_system_last</a>):</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            shutil.copyfile(os.path.join(</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a16adc045cd90a68973de6ba66d0b6904">path_configurationdir</a>, <span class="stringliteral">&quot;example.sconf&quot;</span>), self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0ad515864dfa4aaf27aed2d0e3ecef63">path_system_last</a>)</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad9387172e9b17d5ca0ca6f4d732dfb82">loadSettingsSystem</a>(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0ad515864dfa4aaf27aed2d0e3ecef63">path_system_last</a>)</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isfile(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa2f28078d3a8ce2f53ac55bb14a772e8">path_plot_last</a>):</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            shutil.copyfile(os.path.join(</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a16adc045cd90a68973de6ba66d0b6904">path_configurationdir</a>, <span class="stringliteral">&quot;example.pconf&quot;</span>), self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa2f28078d3a8ce2f53ac55bb14a772e8">path_plot_last</a>)</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#add310023b54241d70931daca243dc95f">loadSettingsPlotter</a>(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa2f28078d3a8ce2f53ac55bb14a772e8">path_plot_last</a>)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">if</span> os.path.isfile(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac985ac6c3ab821413baf4e8022a996bb">path_view_last</a>):</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4372ae12df1d47f27571fdfdfae08c32">loadSettingsView</a>(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac985ac6c3ab821413baf4e8022a996bb">path_view_last</a>)</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div>
<div class="line"><a name="l00944"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a0df40ac1415dffe0c7e5ab1a8643260d">  944</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0df40ac1415dffe0c7e5ab1a8643260d">samebasis_state</a> = self.ui.checkbox_system_samebasis.checkState()</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="comment"># Emit change-signals in order to let the validation run</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        self.ui.spinbox_system_n1.valueChanged.emit(</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            self.ui.spinbox_system_n1.value())</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        self.ui.spinbox_system_n2.valueChanged.emit(</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            self.ui.spinbox_system_n2.value())</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        self.ui.spinbox_plot_n1.valueChanged.emit(</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            self.ui.spinbox_plot_n1.value())</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        self.ui.spinbox_plot_n2.valueChanged.emit(</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            self.ui.spinbox_plot_n2.value())</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        self.ui.spinbox_system_j1.editingFinished.emit()</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        self.ui.spinbox_system_j2.editingFinished.emit()</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        self.ui.spinbox_system_m1.editingFinished.emit()</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        self.ui.spinbox_system_m2.editingFinished.emit()</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        self.ui.spinbox_plot_j1.editingFinished.emit()</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        self.ui.spinbox_plot_j2.editingFinished.emit()</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        self.ui.spinbox_plot_m1.editingFinished.emit()</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        self.ui.spinbox_plot_m2.editingFinished.emit()</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        self.ui.combobox_system_species1.currentIndexChanged.emit(</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            self.ui.combobox_system_species1.currentIndex())</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        self.ui.radiobutton_system_pairbasisDefined.toggled.emit(</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            self.ui.radiobutton_system_pairbasisDefined.isChecked())</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        self.ui.radiobutton_plot_overlapDefined.toggled.emit(</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            self.ui.radiobutton_plot_overlapDefined.isChecked())</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        self.ui.radiobutton_plot_log.toggled.emit(</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            self.ui.radiobutton_plot_log.isChecked())</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        self.ui.radiobutton_symManual.toggled.emit(</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            self.ui.radiobutton_symManual.isChecked())</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        self.ui.checkbox_plot_antialiasing.toggled.emit(</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            self.ui.checkbox_plot_antialiasing.isChecked())</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        self.ui.checkbox_system_samebasis.toggled.emit(</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            self.ui.checkbox_system_samebasis.isChecked())</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        self.ui.spinbox_system_deltaNSingle.valueChanged.emit(</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            self.ui.spinbox_system_deltaNSingle.value())</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        self.ui.spinbox_system_deltaLSingle.valueChanged.emit(</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            self.ui.spinbox_system_deltaLSingle.value())</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        self.ui.spinbox_system_deltaJSingle.valueChanged.emit(</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            self.ui.spinbox_system_deltaJSingle.value())</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        self.ui.spinbox_system_deltaMSingle.valueChanged.emit(</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            self.ui.spinbox_system_deltaMSingle.value())</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="comment"># Setup plot</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        constDistance = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad952123ce541b2fe480485d50b151513">getConstDistance</a>()</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        constEField = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a410ae29f1987003cb060e02b9f977423">getConstEField</a>()</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        constBField = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac9a756cac7c8831b9708b5e859b4df68">getConstBField</a>()</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div>
<div class="line"><a name="l00996"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">  996</a></span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a> = [self.ui.graphicsview_field1_plot,</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                                  self.ui.graphicsview_field2_plot, self.ui.graphicsview_potential_plot]</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setDownsampling(</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                ds=<span class="keyword">True</span>, auto=<span class="keyword">True</span>, mode=<span class="stringliteral">&#39;peak&#39;</span>)</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setClipToView(<span class="keyword">True</span>)</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setLabel(</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                <span class="stringliteral">&#39;left&#39;</span>, <span class="stringliteral">&#39;Energy (&#39;</span> + str(Units.energy) + <span class="stringliteral">&#39;)&#39;</span>)</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].scene().contextMenu = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].plotItem.ctrlMenu = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].getAxis(<span class="stringliteral">&quot;bottom&quot;</span>).setZValue(</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                1000)  <span class="comment"># HACK to bring axis into the foreground</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].getAxis(<span class="stringliteral">&quot;left&quot;</span>).setZValue(</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                1000)  <span class="comment"># HACK to bring axis into the foreground</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            <span class="keywordflow">if</span> (idx <span class="keywordflow">in</span> [0, 1] <span class="keywordflow">and</span> constEField <span class="keywordflow">and</span> <span class="keywordflow">not</span> constBField) <span class="keywordflow">or</span> (idx == 2 <span class="keywordflow">and</span> constDistance <span class="keywordflow">and</span> <span class="keywordflow">not</span> constBField):</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setLabel(</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                    <span class="stringliteral">&#39;bottom&#39;</span>, <span class="stringliteral">&#39;Magnetic field (&#39;</span> + str(Units.bfield) + <span class="stringliteral">&#39;)&#39;</span>)</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <span class="keywordflow">elif</span> (idx <span class="keywordflow">in</span> [0, 1]) <span class="keywordflow">or</span> (idx == 2 <span class="keywordflow">and</span> constDistance <span class="keywordflow">and</span> <span class="keywordflow">not</span> constEField):</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setLabel(</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                    <span class="stringliteral">&#39;bottom&#39;</span>, <span class="stringliteral">&#39;Electric field (&#39;</span> + str(Units.efield) + <span class="stringliteral">&#39;)&#39;</span>)</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            <span class="keywordflow">elif</span> (idx == 2):</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setLabel(</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                    <span class="stringliteral">&#39;bottom&#39;</span>, <span class="stringliteral">&#39;Interatomic distance (&#39;</span> + str(Units.length) + <span class="stringliteral">&#39;)&#39;</span>)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div>
<div class="line"><a name="l01023"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ad9387172e9b17d5ca0ca6f4d732dfb82"> 1023</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad9387172e9b17d5ca0ca6f4d732dfb82">loadSettingsSystem</a>(self, path):</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        with open(path, <span class="stringliteral">&#39;</span><span class="stringliteral">r&#39;) as f:</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="stringliteral">            params = json.load(f)</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="stringliteral">            </span><span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> params.items():</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[k] = Quantity(v[0], v[1])</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div>
<div class="line"><a name="l01029"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#add310023b54241d70931daca243dc95f"> 1029</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#add310023b54241d70931daca243dc95f">loadSettingsPlotter</a>(self, path):</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        with open(path, <span class="stringliteral">&#39;</span><span class="stringliteral">r&#39;) as f:</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="stringliteral">            params = json.load(f)</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="stringliteral">            self.ui.gradientwidget_plot_gradient.restoreState(</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="stringliteral">                params[</span><span class="stringliteral">&quot;gradientwidget&quot;</span>])</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            del params[<span class="stringliteral">&quot;gradientwidget&quot;</span>]</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> params.items():</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[k] = Quantity(v[0], v[1])</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div>
<div class="line"><a name="l01038"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a4372ae12df1d47f27571fdfdfae08c32"> 1038</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4372ae12df1d47f27571fdfdfae08c32">loadSettingsView</a>(self, path):</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        with open(path, <span class="stringliteral">&#39;</span><span class="stringliteral">r&#39;) as f:</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="stringliteral">            params = json.load(f)</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="stringliteral">            self.ui.tabwidget_config.setCurrentIndex(params[</span><span class="stringliteral">&quot;config&quot;</span>])</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            self.ui.tabwidget_plotter.setCurrentIndex(params[<span class="stringliteral">&quot;plotter&quot;</span>])</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            self.ui.toolbox_system.setCurrentIndex(params[<span class="stringliteral">&quot;system&quot;</span>])</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <span class="keywordflow">if</span> <span class="stringliteral">&quot;filepath&quot;</span> <span class="keywordflow">in</span> params.keys():</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e1f73e35c24ab57308c2c7192fae7e1">filepath</a> = params[<span class="stringliteral">&quot;filepath&quot;</span>]</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div>
<div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#acb08c3fede0e6fd74a82508acdd0e02a"> 1047</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#acb08c3fede0e6fd74a82508acdd0e02a">saveSettingsSystem</a>(self, path):</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keyword">def </span>save(f):</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            params = dict()</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> self.systemdict.items():</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                params[k] = [v.magnitude, v.units]</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            json.dump(params, f, indent=4, sort_keys=<span class="keyword">True</span>)</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">if</span> isinstance(path, str):</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            with open(path, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                save(f)</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            save(path)</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div>
<div class="line"><a name="l01060"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ae729eba5e6848548dc4aa380f228b7c4"> 1060</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae729eba5e6848548dc4aa380f228b7c4">saveSettingsPlotter</a>(self, path):</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="keyword">def </span>save(f):</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            params = dict()</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> self.plotdict.items():</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                params[k] = [v.magnitude, v.units]</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            params[<span class="stringliteral">&quot;gradientwidget&quot;</span>] = self.ui.gradientwidget_plot_gradient.saveState()</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            json.dump(params, f, indent=4, sort_keys=<span class="keyword">True</span>)</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <span class="keywordflow">if</span> isinstance(path, str):</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            with open(path, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                save(f)</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            save(path)</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div>
<div class="line"><a name="l01074"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a1ca691364724b3ae1ece6cde64686c22"> 1074</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1ca691364724b3ae1ece6cde64686c22">saveSettingsView</a>(self, path):</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="keyword">def </span>save(f):</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            params = dict()</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            params[<span class="stringliteral">&quot;config&quot;</span>] = self.ui.tabwidget_config.currentIndex()</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            params[<span class="stringliteral">&quot;plotter&quot;</span>] = self.ui.tabwidget_plotter.currentIndex()</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            params[<span class="stringliteral">&quot;system&quot;</span>] = self.ui.toolbox_system.currentIndex()</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e1f73e35c24ab57308c2c7192fae7e1">filepath</a> != self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6881b182d82561f3ad78a1fdb56f9662">userpath</a>:</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                params[<span class="stringliteral">&quot;filepath&quot;</span>] = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e1f73e35c24ab57308c2c7192fae7e1">filepath</a></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            json.dump(params, f, indent=4, sort_keys=<span class="keyword">True</span>)</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordflow">if</span> isinstance(path, str):</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            with open(path, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                save(f)</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            save(path)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div>
<div class="line"><a name="l01090"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a60d1a37d4e2390b835d5d93578cdfa56"> 1090</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a60d1a37d4e2390b835d5d93578cdfa56">get1DPosition</a>(self, vec):</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        vec = np.array(vec)</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="keywordflow">return</span> np.sign(np.vdot(vec, [1, 1, 1])) * np.linalg.norm(vec)</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div>
<div class="line"><a name="l01094"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a410ae29f1987003cb060e02b9f977423"> 1094</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a410ae29f1987003cb060e02b9f977423">getConstEField</a>(self):</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        minVec = np.array([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;minEx&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                          <span class="stringliteral">&#39;minEy&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;minEz&#39;</span>].magnitude])</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        maxVec = np.array([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;maxEx&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                          <span class="stringliteral">&#39;maxEy&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;maxEz&#39;</span>].magnitude])</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">return</span> np.all(minVec == maxVec)</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div>
<div class="line"><a name="l01101"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ac9a756cac7c8831b9708b5e859b4df68"> 1101</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac9a756cac7c8831b9708b5e859b4df68">getConstBField</a>(self):</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        minVec = np.array([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;minBx&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                          <span class="stringliteral">&#39;minBy&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;minBz&#39;</span>].magnitude])</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        maxVec = np.array([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;maxBx&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                          <span class="stringliteral">&#39;maxBy&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;maxBz&#39;</span>].magnitude])</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="keywordflow">return</span> np.all(minVec == maxVec)</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div>
<div class="line"><a name="l01108"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ad952123ce541b2fe480485d50b151513"> 1108</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad952123ce541b2fe480485d50b151513">getConstDistance</a>(self):</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        minR = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;minR&#39;</span>].magnitude  <span class="comment"># TODO</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        maxR = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;maxR&#39;</span>].magnitude  <span class="comment"># TODO</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keywordflow">return</span> minR == maxR</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="comment"># def getSameSpecies(self):</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="comment">#    return self.systemdict[&#39;species1&#39;] == self.systemdict[&#39;species2&#39;]</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aba6275846fa0b0509cb2f5baaa019a35"> 1116</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba6275846fa0b0509cb2f5baaa019a35">abortCalculation</a>(self):</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="comment"># kill c++ process - this terminates the self.thread, too</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa411fd6e17ac64709348b9e71e169758">proc</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            self.proc.terminate()</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="comment"># wait until self.thread has finished</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        self.thread.wait()</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="comment"># clear queues</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        self.thread.clear()</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div>
<div class="line"><a name="l01127"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a791671f5d4e938e31e2e2afbb4a9c1cb"> 1127</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a791671f5d4e938e31e2e2afbb4a9c1cb">checkForData</a>(self):</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        dataamount = 0</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <span class="comment"># === print status ===</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        elapsedtime = <span class="stringliteral">&quot;{}&quot;</span>.format(</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            timedelta(seconds=int(time() - self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa203c438bbd4ef975f3a0c2dd28f6026">starttime</a>)))</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="keywordflow">if</span> self.thread.message != <span class="stringliteral">&quot;&quot;</span>:</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            self.ui.statusbar.showMessage(</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                self.thread.message + <span class="stringliteral">&quot;, elapsed time &quot;</span> + elapsedtime)</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            self.ui.statusbar.showMessage(<span class="stringliteral">&quot;Elapsed time &quot;</span> + elapsedtime)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="comment"># === check if memory consumption is to high ===</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="keywordflow">if</span> psutil.virtual_memory().percent &gt; 99:  <span class="comment"># TODO: is the virtual or swap memory the problem on rqo-donkey?</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba6275846fa0b0509cb2f5baaa019a35">abortCalculation</a>()</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            QtGui.QMessageBox.critical(</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                self, <span class="stringliteral">&quot;Message&quot;</span>, <span class="stringliteral">&quot;The program has run out of memory.&quot;</span>)</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="comment"># === process field and potential maps ===</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            <span class="keywordflow">if</span> idx &gt; 0 <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.thread.dataqueue_field1.empty():</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                <span class="keywordflow">continue</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <span class="keywordflow">if</span> idx &gt; 1 <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.thread.dataqueue_field2.empty():</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                <span class="keywordflow">continue</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            basisfile = [self.thread.basisfile_field1,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                         self.thread.basisfile_field2, self.thread.basisfile_potential][idx]</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            dataqueue = [self.thread.dataqueue_field1,</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                         self.thread.dataqueue_field2, self.thread.dataqueue_potential][idx]</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            <span class="comment"># --- load basis states ---</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            <span class="keywordflow">if</span> basisfile != <span class="stringliteral">&quot;&quot;</span>:</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                <span class="comment"># load basis</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                basis = np.loadtxt(basisfile)</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                <span class="keywordflow">if</span> len(basis.shape) == 1:</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                    basis = np.array([basis])</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                <span class="keywordflow">if</span> basis.size == 0:</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                    nState = 0</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                    nState = len(basis)</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                <span class="keywordflow">if</span> nState == 0:</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                    <span class="comment"># save basis</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae13f97a88abfbe6b994208961a760aa2">storage_states</a>[idx] = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                    <span class="comment"># save basis</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae13f97a88abfbe6b994208961a760aa2">storage_states</a>[idx] = basis</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                    <span class="comment"># determine which state to highlite</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                    <span class="keywordflow">if</span> self.ui.groupbox_plot_overlap.isChecked():</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                        <span class="comment"># update status bar</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                        message_old = self.ui.statusbar.currentMessage()</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                        <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">and</span> self.thread.samebasis:</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                            idxtype = 3</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                            idxtype = idx</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                        status_type = [<span class="stringliteral">&quot;Field map of first atom: &quot;</span>, <span class="stringliteral">&quot;Field map of second atom: &quot;</span>,</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                                       <span class="stringliteral">&quot;Pair potential: &quot;</span>, <span class="stringliteral">&quot;Field maps: &quot;</span>][idxtype]</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                        self.ui.statusbar.showMessage(</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                            status_type + <span class="stringliteral">&quot;calculate overlap states&quot;</span>)</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                        QtGui.QApplication.processEvents()</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                        <span class="comment"># calculate overlap states</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                        <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a> != 0:  <span class="comment"># TODO Vereinheitlichen: fuer die verschidenden idx selbe Funktion verwenden, erste Spalte aus basis entfernen</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                            <span class="keywordflow">if</span> idx == 0:</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                                boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][[0, 1, 2]] != -1</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                                stateidx = np.where(np.all(basis[:, [1, 2, 3]][:, boolarr] == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                                                    idx][<span class="keywordtype">None</span>, [0, 1, 2]][:, boolarr], axis=-1))[0]</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                                relevantBasis = basis[stateidx]</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                                statecoeff = np.ones_like(stateidx, dtype=np.float)</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                                m1 = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][3]</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                                <span class="keywordflow">if</span> m1 != -1:</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                                    <span class="keywordflow">for</span> j <span class="keywordflow">in</span> np.unique(relevantBasis[:, 3]):</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                                        boolarr = np.all(</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                                            relevantBasis[:, [3]] == [j], axis=-1)</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                                        <span class="keywordflow">if</span> np.abs(m1) &gt; j:</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                                            statecoeff[boolarr] *= 0</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                                        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                                            withjBasis = relevantBasis[boolarr]</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                                            <span class="keywordflow">for</span> m2 <span class="keywordflow">in</span> np.unique(withjBasis[:, 4]):</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                                                boolarr = np.all(</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                                                    relevantBasis[:, [3, 4]] == [j, m2], axis=-1)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                                                statecoeff[</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                                                    boolarr] *= self.wignerd.calc(j, m1, m2, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                                boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                                    idx][[0, 1, 2, 3]] == -1</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                                <span class="keywordflow">if</span> sum(boolarr) &gt; 0:</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                                    undeterminedQuantumNumbers = relevantBasis[</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                        :, [1, 2, 3, 4]][:, boolarr]</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                                    sorter = np.lexsort(</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                        undeterminedQuantumNumbers.T[::-1])</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                    diff = np.append([<span class="keyword">False</span>], np.diff(</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                                        undeterminedQuantumNumbers[sorter], axis=0).any(axis=1))</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                    stateamount = np.cumsum(</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                                        diff)[np.argsort(sorter)]</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                                    stateamount = np.zeros_like(stateidx)</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                                <span class="keywordflow">if</span> self.thread.samebasis <span class="keywordflow">and</span> np.any(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][[0, 1, 2, 3]] != self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][[4, 5, 6, 7]]):</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                                    boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                                        idx][[4, 5, 6]] != -1</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                                    stateidx2 = np.where(np.all(basis[:, [1, 2, 3]][:, boolarr] == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                                                         idx][<span class="keywordtype">None</span>, [4, 5, 6]][:, boolarr], axis=-1))[0]</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                                    relevantBasis = basis[stateidx2]</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                                    statecoeff2 = np.ones_like(</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                                        stateidx2, dtype=np.float)</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                                    m1 = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][7]</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                                    <span class="keywordflow">if</span> m1 != -1:</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                                        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> np.unique(relevantBasis[:, 3]):</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                                            boolarr = np.all(</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                                                relevantBasis[:, [3]] == [j], axis=-1)</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                                            <span class="keywordflow">if</span> np.abs(m1) &gt; j:</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                                                statecoeff2[boolarr] *= 0</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                                            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                                                withjBasis = relevantBasis[boolarr]</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                                                <span class="keywordflow">for</span> m2 <span class="keywordflow">in</span> np.unique(withjBasis[:, 4]):</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                                                    boolarr = np.all(</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                                                        relevantBasis[:, [3, 4]] == [j, m2], axis=-1)</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                                                    statecoeff2[</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                                                        boolarr] *= self.wignerd.calc(j, m1, m2, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                                    boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                                        idx][[4, 5, 6, 7]] == -1</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                                    <span class="keywordflow">if</span> sum(boolarr) &gt; 0:</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                                        undeterminedQuantumNumbers = relevantBasis[</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                                            :, [1, 2, 3, 4]][:, boolarr]</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                                        sorter = np.lexsort(</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                                            undeterminedQuantumNumbers.T[::-1])</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                                        diff = np.append([<span class="keyword">False</span>], np.diff(</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                                            undeterminedQuantumNumbers[sorter], axis=0).any(axis=1))</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                                        stateamount2 = np.cumsum(</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                                            diff)[np.argsort(sorter)]</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                                    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                                        stateamount2 = np.zeros_like(stateidx2)</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                                    statecoeff = np.append(statecoeff, statecoeff2)</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                                    stateidx = np.append(stateidx, stateidx2)</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                                    stateamount = np.append(</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                                        stateamount, stateamount2)</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                                <span class="stringliteral">&quot;&quot;&quot;stateidx = np.where(np.all(basis[:,[1,2,3]] == self.overlapstate[idx][None,[0,1,2]],axis=-1))[0]</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="stringliteral">                                statecoeff = []</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="stringliteral">                                j = self.overlapstate[idx][2]</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="stringliteral">                                for state in basis[stateidx]:</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="stringliteral">                                    m2 = state[4]</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="stringliteral">                                    m1 = self.overlapstate[idx][3]</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="stringliteral">                                    coeff = self.wignerd.calc(j, m2, m1, self.angle)</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="stringliteral">                                    statecoeff.append(coeff)</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="stringliteral">                                stateamount = np.zeros_like(stateidx)</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="stringliteral">                                if self.thread.samebasis and np.any(self.overlapstate[idx][[0,1,2,3]] != self.overlapstate[idx][[4,5,6,7]]):</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="stringliteral">                                    stateidx_second = np.where(np.all(basis[:,[1,2,3]] == self.overlapstate[idx][None,[4,5,6]],axis=-1))[0]</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="stringliteral">                                    j = self.overlapstate[idx][6]</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="stringliteral">                                    for state in basis[stateidx_second]:</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="stringliteral">                                        m2 = state[4]</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="stringliteral">                                        m1 = self.overlapstate[idx][7]</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="stringliteral">                                        coeff = self.wignerd.calc(j, m2, m1, self.angle)</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="stringliteral">                                        statecoeff.append(coeff)</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="stringliteral">                                    stateidx = np.append(stateidx, stateidx_second)</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="stringliteral">                                    stateamount = np.append(stateamount,np.ones_like(stateidx_second))&quot;&quot;&quot;</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                            <span class="keywordflow">elif</span> idx == 1:</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                                boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][[4, 5, 6]] != -1</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                                stateidx = np.where(np.all(basis[:, [1, 2, 3]][:, boolarr] == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                                                    idx][<span class="keywordtype">None</span>, [4, 5, 6]][:, boolarr], axis=-1))[0]</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                                relevantBasis = basis[stateidx]</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                                statecoeff = np.ones_like(stateidx, dtype=np.float)</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                                m1 = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][7]</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                                <span class="keywordflow">if</span> m1 != -1:</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                                    <span class="keywordflow">for</span> j <span class="keywordflow">in</span> np.unique(relevantBasis[:, 3]):</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                                        boolarr = np.all(</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                                            relevantBasis[:, [3]] == [j], axis=-1)</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                                        <span class="keywordflow">if</span> np.abs(m1) &gt; j:</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                                            statecoeff[boolarr] *= 0</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                                        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                                            withjBasis = relevantBasis[boolarr]</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                                            <span class="keywordflow">for</span> m2 <span class="keywordflow">in</span> np.unique(withjBasis[:, 4]):</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                                                boolarr = np.all(</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                                                    relevantBasis[:, [3, 4]] == [j, m2], axis=-1)</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                                                statecoeff[</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                                                    boolarr] *= self.wignerd.calc(j, m1, m2, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                                boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                                    idx][[4, 5, 6, 7]] == -1</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                                <span class="keywordflow">if</span> sum(boolarr) &gt; 0:</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                                    undeterminedQuantumNumbers = relevantBasis[</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                                        :, [1, 2, 3, 4]][:, boolarr]</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                                    sorter = np.lexsort(</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                                        undeterminedQuantumNumbers.T[::-1])</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                                    diff = np.append([<span class="keyword">False</span>], np.diff(</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                                        undeterminedQuantumNumbers[sorter], axis=0).any(axis=1))</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                                    stateamount = np.cumsum(</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                                        diff)[np.argsort(sorter)]</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                                    stateamount = np.zeros_like(stateidx)</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                                <span class="stringliteral">&quot;&quot;&quot;stateidx = np.where(np.all(basis[:,[1,2,3]] == self.overlapstate[idx][None,[4,5,6]],axis=-1))[0]</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="stringliteral">                                statecoeff = []</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="stringliteral">                                j = self.overlapstate[idx][2]</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="stringliteral">                                for state in basis[stateidx]:</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="stringliteral">                                    m2 = state[4]</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="stringliteral">                                    m1 = self.overlapstate[idx][7]</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="stringliteral">                                    coeff = self.wignerd.calc(j, m2, m1, self.angle)</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="stringliteral">                                    statecoeff.append(coeff)</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="stringliteral">                                stateamount = np.zeros_like(stateidx)&quot;&quot;&quot;</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                            <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                                boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                                    [0, 1, 2, 4, 5, 6]] != -1</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                                stateidx = np.where(np.all(basis[:, [1, 2, 3, 5, 6, 7]][:, boolarr] == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                                                    idx][<span class="keywordtype">None</span>, [0, 1, 2, 4, 5, 6]][:, boolarr], axis=-1))[0]</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                                relevantBasis = basis[stateidx]</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                                statecoeff = np.ones_like(stateidx, dtype=np.float)</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                                <span class="keywordflow">for</span> selector <span class="keywordflow">in</span> [0, 4]:</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                                    m1 = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][3 + selector]</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                                    <span class="keywordflow">if</span> m1 != -1:</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                                        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> np.unique(relevantBasis[:, 3 + selector]):</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                                            boolarr = np.all(</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                                                relevantBasis[:, [3 + selector]] == [j], axis=-1)</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                                            <span class="keywordflow">if</span> np.abs(m1) &gt; j:</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                                                statecoeff[boolarr] *= 0</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                                            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                                                withjBasis = relevantBasis[boolarr]</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                                                <span class="keywordflow">for</span> m2 <span class="keywordflow">in</span> np.unique(withjBasis[:, 4 + selector]):</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                                                    boolarr = np.all(</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                                                        relevantBasis[:, [3 + selector, 4 + selector]] == [j, m2], axis=-1)</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                                                    statecoeff[</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                                                        boolarr] *= self.wignerd.calc(j, m1, m2, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                                boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                                    [0, 1, 2, 3, 4, 5, 6, 7]] == -1</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                                <span class="keywordflow">if</span> sum(boolarr) &gt; 0:</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                                    undeterminedQuantumNumbers = relevantBasis[:, [1, 2, 3, 4, 5, 6, 7, 8]][:, boolarr]</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                                    sorter = np.lexsort(</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                                        undeterminedQuantumNumbers.T[::-1])</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                                    diff = np.append([<span class="keyword">False</span>], np.diff(</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                                        undeterminedQuantumNumbers[sorter], axis=0).any(axis=1))</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                                    stateamount = np.cumsum(</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                                        diff)[np.argsort(sorter)]</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                                    stateamount = np.zeros_like(stateidx)</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                                <span class="stringliteral">&quot;&quot;&quot;stateidx = np.where(np.all(basis[:,[1,2,3,5,6,7]] == self.overlapstate[idx][None,[0,1,2,4,5,6]],axis=-1))[0]</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="stringliteral">                                statecoeff = []</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="stringliteral">                                j = self.overlapstate[idx][[2,6]]</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="stringliteral">                                for state in basis[stateidx]:</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="stringliteral">                                    m_final = state[[4,8]]</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="stringliteral">                                    m_initial = self.overlapstate[idx][[3,7]]</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="stringliteral">                                    coeff = 1</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="stringliteral">                                    for m2, m1, jj in zip(m_final, m_initial, j):</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="stringliteral">                                        coeff *= self.wignerd.calc(jj, m2, m1, self.angle)</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="stringliteral">                                    statecoeff.append(coeff)</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="stringliteral">                                stateamount = np.zeros_like(stateidx)&quot;&quot;&quot;</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                            <span class="comment"># write calculated wigner d matrix elements into the</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                            <span class="comment"># cache</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                            self.wignerd.save()</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                            <span class="keywordflow">if</span> idx == 0:</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                                boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][[0, 1, 2, 3]] != -1</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                                stateidx = np.where(np.all(basis[:, [1, 2, 3, 4]][:, boolarr] == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][<span class="keywordtype">None</span>, [0, 1, 2, 3]][:, boolarr], axis=-1))[0]</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                                <span class="keywordflow">if</span> self.thread.samebasis <span class="keywordflow">and</span> np.any(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][[0, 1, 2, 3]] != self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][[4, 5, 6, 7]]):</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                                    boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][[4, 5, 6, 7]] != -1</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                                    stateidx = np.append(stateidx, np.where(np.all(basis[:, [1, 2, 3, 4]][:, boolarr] == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][<span class="keywordtype">None</span>, [4, 5, 6, 7]][:, boolarr], axis=-1))[0])</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                            <span class="keywordflow">elif</span> idx == 1:</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                                boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][[4, 5, 6, 7]] != -1</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                                stateidx = np.where(np.all(basis[:, [1, 2, 3, 4]][:, boolarr] == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][<span class="keywordtype">None</span>, [4, 5, 6, 7]][:, boolarr], axis=-1))[0]</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                            <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                                boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][[0, 1, 2, 3, 4, 5, 6, 7]] != -1</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                                stateidx = np.where(np.all(basis[:, [1, 2, 3, 4, 5, 6, 7, 8]][:, boolarr] == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx][<span class="keywordtype">None</span>, [0, 1, 2, 3, 4, 5, 6, 7]][:, boolarr], axis=-1))[0]</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                            statecoeff = np.ones_like(stateidx)</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                            stateamount = np.arange(len(stateidx))</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                        <span class="keywordflow">if</span> len(stateidx) &lt; 1:</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] = sparse.csc_matrix(</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                                (statecoeff, (stateamount, stateidx)), shape=(np.max(stateamount) + 1, nState))</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                        <span class="comment"># update status bar</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                        self.ui.statusbar.showMessage(message_old)</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                        QtGui.QApplication.processEvents()</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                    <span class="comment"># calculate a matrix that can be used to determine the momenta</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                    <span class="comment"># inside a basis element</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                    <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                        momentum = basis[:, 2]</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3e4ac2abc6ad3bd2d27d3cf489c88f59">momentummat</a>[idx] = sparse.csc_matrix(</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                            (momentum[:, <span class="keywordtype">None</span>] == np.arange(np.max(momentum) + 1)[<span class="keywordtype">None</span>, :]).astype(int))</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                    <span class="comment"># extract labels</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                    <span class="comment"># TODO only if necessary !!!!!</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                    <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                        nlj = basis[:, [1, 2, 3]]</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                    <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                        nlj = basis[:, [1, 2, 3, 5, 6, 7]]</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                    <span class="comment"># sort pair state names</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                    <span class="keywordflow">if</span> idx == 2 <span class="keywordflow">and</span> self.thread.samebasis:</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                        firstsmaller = np.argmax(np.append(nlj[:, 0:3] &lt; nlj[:, 3:6], np.ones(</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                            (len(nlj), 1), dtype=bool), axis=-1), axis=-1)  <span class="comment"># TODO in Funktion auslagern</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                        firstsmaller_reverted = np.argmax(np.append(nlj[:, 3:6] &lt; nlj[:, 0:3], np.ones(</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                            (len(nlj), 1), dtype=bool), axis=-1), axis=-1)  <span class="comment"># TODO in Funktion auslagern</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                        namesToSwap = firstsmaller &gt; firstsmaller_reverted</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                        nlj[namesToSwap] = nlj[namesToSwap][:, [3, 4, 5, 0, 1, 2]]</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                    sorter = np.lexsort(nlj.T[::-1])</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                    nlj = nlj[sorter]</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                    diff = np.append([<span class="keyword">True</span>], np.diff(nlj, axis=0).any(axis=1))</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                    cumsum = np.cumsum(diff)[np.argsort(sorter)]</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                    <span class="comment"># determine labels of states</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#adb387dd28bbf38f6ff3e44673f366c03">labelstates</a>[idx] = nlj[diff]</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aee827a1ab0fe963062d0f35cf1284551">labelmat</a>[idx] = sparse.coo_matrix((np.ones_like(cumsum), (np.arange(len(</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                        cumsum)), cumsum - 1)), shape=(len(cumsum), len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#adb387dd28bbf38f6ff3e44673f366c03">labelstates</a>[idx]))).tocsr()  <span class="comment"># nStates, nLabels</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                    <span class="comment"># determine labels of momenta</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                    <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:  <span class="comment"># TODO !!!</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ace152a2d97602cbf5338c5ddd667f956">momentumstrings</a>[idx] = [<span class="stringliteral">&quot; {}&quot;</span>.format(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> np.arange(</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                            np.max(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#adb387dd28bbf38f6ff3e44673f366c03">labelstates</a>[idx][:, 1]) + 1).astype(np.int)]</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                    <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ace152a2d97602cbf5338c5ddd667f956">momentumstrings</a>[idx] = [<span class="stringliteral">&quot; {}&quot;</span>.format(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> np.arange(</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                            np.max(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#adb387dd28bbf38f6ff3e44673f366c03">labelstates</a>[idx][:, [1, 4]]) + 1).astype(np.int)]</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ace152a2d97602cbf5338c5ddd667f956">momentumstrings</a>[idx][:4] = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a166618d26a037e32f3c6c83530b8c1fb">momentslabels</a></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                <span class="comment"># remove basis file from hard disk</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                os.remove(basisfile)</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                <span class="comment"># clear variables</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a> = {}</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">buffer_basis</a> = {}</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">buffer_energies</a> = {}</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac189ab7a1f368b30cfcfeef9679ba75d">buffer_positions</a> = {}</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">buffer_boolarr</a> = {}</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div>
<div class="line"><a name="l01476"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a9b737dc0d29c689bdfbb0a6d37f72c7c"> 1476</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9b737dc0d29c689bdfbb0a6d37f72c7c">labelprob</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a58d094527c25fbdbd46ac02da2f3931e"> 1477</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a58d094527c25fbdbd46ac02da2f3931e">labelprob_energy</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx] = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx] = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                <span class="comment"># indicate that the basis file is already processed</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                <span class="keywordflow">if</span> idx == 0:</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                    self.thread.basisfile_field1 = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                <span class="keywordflow">elif</span> idx == 1:</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                    self.thread.basisfile_field2 = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                    self.thread.basisfile_potential = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                    self.thread.basisfile_potential = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            <span class="comment"># --- check if there is some new data and if yes, plot it ---</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> dataqueue.empty() <span class="keywordflow">and</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae13f97a88abfbe6b994208961a760aa2">storage_states</a>[idx] <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                dataqueue.get()  <span class="comment"># TODO make this hack unnecessary</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;            <span class="keywordflow">elif</span> <span class="keywordflow">not</span> dataqueue.empty():</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                graphicsview_plot = [self.ui.graphicsview_field1_plot,</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                                     self.ui.graphicsview_field2_plot, self.ui.graphicsview_potential_plot]</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                minE = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3bd04cd590b80ca03b911ea68c473e3c">minE</a>[idx]</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                maxE = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4f0962dfb5f1f2bc57dc3afbae62f503">maxE</a>[idx]</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                <span class="comment"># --- storage that allows to draw the hole buffer at once, at least if it is no very large ---</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                x = np.array([])</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                y = np.array([])</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                l = np.array([])</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                s = []</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                <span class="keywordflow">while</span> <span class="keywordflow">not</span> dataqueue.empty() <span class="keywordflow">and</span> dataamount &lt; 5000:  <span class="comment"># stop loop if enough data is collected</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                    <span class="comment"># --- load eigenvalues (energies, y value) and eigenvectors (basis) ---</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                    filestep, numBlocks, blocknumber, filename = dataqueue.get()</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                    <span class="comment"># save data</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a21a8a7b0183d0754d3b2246f66fb22db">storage_data</a>[idx].append(</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                        [filestep, blocknumber, filename])</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                    eigensystem = Eigensystem(filename)</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                    energies = eigensystem.energies</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                    basis = eigensystem.basis</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                    <span class="keywordflow">if</span> idx == 2:</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                        symmetrycolor = []</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                        <span class="keywordflow">if</span> eigensystem.params[<span class="stringliteral">&quot;inversion&quot;</span>] == <span class="stringliteral">&quot;1&quot;</span>:</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                            symmetrycolor.append(self.ui.colorbutton_plot_invE.color().getRgb()[:-1])</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                        <span class="keywordflow">elif</span> eigensystem.params[<span class="stringliteral">&quot;inversion&quot;</span>] == <span class="stringliteral">&quot;-1&quot;</span>:</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                            symmetrycolor.append(self.ui.colorbutton_plot_invO.color().getRgb()[:-1])</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                        <span class="keywordflow">if</span> eigensystem.params[<span class="stringliteral">&quot;permutation&quot;</span>] == <span class="stringliteral">&quot;1&quot;</span>:</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                            symmetrycolor.append(self.ui.colorbutton_plot_perE.color().getRgb()[:-1])</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                        <span class="keywordflow">elif</span> eigensystem.params[<span class="stringliteral">&quot;permutation&quot;</span>] == <span class="stringliteral">&quot;-1&quot;</span>:</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                            symmetrycolor.append(self.ui.colorbutton_plot_perO.color().getRgb()[:-1])</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                        <span class="keywordflow">if</span> eigensystem.params[<span class="stringliteral">&quot;reflection&quot;</span>] == <span class="stringliteral">&quot;1&quot;</span>:</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                            symmetrycolor.append(self.ui.colorbutton_plot_refE.color().getRgb()[:-1])</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                        <span class="keywordflow">elif</span> eigensystem.params[<span class="stringliteral">&quot;reflection&quot;</span>] == <span class="stringliteral">&quot;-1&quot;</span>:</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                            symmetrycolor.append(self.ui.colorbutton_plot_refO.color().getRgb()[:-1])</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                        <span class="keywordflow">if</span> len(symmetrycolor) &gt; 0:</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                            symmetrycolor = tuple(np.mean(symmetrycolor, axis=0).astype(int))</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                            symmetrycolor = (40, 40, 40)</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                    <span class="comment"># --- determine which basis elements are within the energy range ---</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                    boolarr = np.ones(len(energies), dtype=np.bool)</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                    boolarr[np.isnan(energies)] = <span class="keyword">False</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                    energies[np.isnan(energies)] = 0</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                    <span class="keywordflow">if</span> minE <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                        boolarr &amp;= energies &gt;= minE / self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6dae7182bb28e6d8df16c83ef7b57b68">converter_y</a></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                    <span class="keywordflow">if</span> maxE <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                        boolarr &amp;= energies &lt;= maxE / self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6dae7182bb28e6d8df16c83ef7b57b68">converter_y</a></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                    <span class="comment"># cut the energies</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                    energies = energies[boolarr]</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                    <span class="comment"># convert the energies</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                    energies *= self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6dae7182bb28e6d8df16c83ef7b57b68">converter_y</a></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                    <span class="comment"># cut the basis</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                    idxarr, = np.nonzero(boolarr)</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                    transformator = sparse.coo_matrix((np.ones_like(idxarr), (idxarr, np.arange(</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                        len(idxarr)))), shape=(basis.shape[1], len(idxarr))).tocsr()</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                    basis = basis * transformator</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                    <span class="comment"># probability to be in a certain state</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                    probs = np.abs(basis)  <span class="comment"># nState, nBasis</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                    probs.data **= 2</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                    <span class="comment"># --- calculate the momentum that is associated with a basis element ---</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                    <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                        <span class="comment"># calculate which momenta appear in a basis element</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                        momentum_probabilty = probs.T * \</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3e4ac2abc6ad3bd2d27d3cf489c88f59">momentummat</a>[idx]  <span class="comment"># nBasis, nMomentum</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                        <span class="comment"># keep information about the momentum that appears with</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                        <span class="comment"># a probability &gt; 0.5 only</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                        momentum_probabilty.data[</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                            :] *= momentum_probabilty.data &gt; 0.5</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                        momentum_probabilty.eliminate_zeros()</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                        momentum_probabilty = sparse.coo_matrix(</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                            momentum_probabilty)</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                        <span class="comment"># store the value of this momentum</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                        <span class="comment"># -1 means no determinable momentum</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                        momentum = - \</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                            np.ones(momentum_probabilty.shape[0], dtype=np.int)</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                        momentum[</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                            momentum_probabilty.row] = momentum_probabilty.col</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;                    <span class="comment"># --- calculate the position (x value) ---</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9f3157fc2476433facf837afc87f1a14">xAxis</a>[idx] <span class="keywordflow">in</span> [<span class="stringliteral">&#39;B&#39;</span>, <span class="stringliteral">&#39;E&#39;</span>]:</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                        rotator = np.array([[np.cos(-self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>), 0, -np.sin(-self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)], [</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                                           0, 1, 0], [np.sin(-self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>), 0, np.cos(-self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)]])</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9f3157fc2476433facf837afc87f1a14">xAxis</a>[idx] == <span class="stringliteral">&#39;B&#39;</span>:</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                        fields = [[float(eigensystem.params[<span class="stringliteral">&quot;Bx&quot;</span>])], [float(</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                            eigensystem.params[<span class="stringliteral">&quot;By&quot;</span>])], [float(eigensystem.params[<span class="stringliteral">&quot;Bz&quot;</span>])]]</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                        fields = np.dot(rotator, fields).flatten()</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                        position = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a60d1a37d4e2390b835d5d93578cdfa56">get1DPosition</a>(</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                            fields) * self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e8c172c9582f259c48e7ee427df8294">converter_x</a>[idx]</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                    <span class="keywordflow">elif</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9f3157fc2476433facf837afc87f1a14">xAxis</a>[idx] == <span class="stringliteral">&#39;E&#39;</span>:</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                        fields = [[float(eigensystem.params[<span class="stringliteral">&quot;Ex&quot;</span>])], [float(</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                            eigensystem.params[<span class="stringliteral">&quot;Ey&quot;</span>])], [float(eigensystem.params[<span class="stringliteral">&quot;Ez&quot;</span>])]]</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                        fields = np.dot(rotator, fields).flatten()</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                        position = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a60d1a37d4e2390b835d5d93578cdfa56">get1DPosition</a>(</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                            fields) * self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e8c172c9582f259c48e7ee427df8294">converter_x</a>[idx]</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                    <span class="keywordflow">elif</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9f3157fc2476433facf837afc87f1a14">xAxis</a>[idx] == <span class="stringliteral">&#39;</span><span class="stringliteral">R&#39;:</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="stringliteral">                        position = float(eigensystem.params[</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="stringliteral">                                         </span><span class="stringliteral">&quot;</span><span class="stringliteral">R&quot;]) * self.converter_x[idx]</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="stringliteral">                    </span><span class="comment"># --- draw labels at the beginning of the plotting ---</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                    <span class="keywordflow">if</span> self.ui.groupbox_plot_labels.isChecked() <span class="keywordflow">and</span> filestep == 0:</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                        <span class="comment"># probability to find a label inside a basis element</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(self, <span class="stringliteral">&#39;labelprob_energy&#39;</span>) <span class="keywordflow">or</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a58d094527c25fbdbd46ac02da2f3931e">labelprob_energy</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                            <span class="comment"># nBasis, nLabels # TODO !!! tocsr</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9b737dc0d29c689bdfbb0a6d37f72c7c">labelprob</a> = (</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                                probs.T * self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aee827a1ab0fe963062d0f35cf1284551">labelmat</a>[idx]).tocsr()</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a58d094527c25fbdbd46ac02da2f3931e">labelprob_energy</a> = [energies]</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                            <a class="code" href="namespacepairinteraction_1_1utils.html#a1bb8f94091738f65efd1247c61410ccc">csr_vappend</a>(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9b737dc0d29c689bdfbb0a6d37f72c7c">labelprob</a>,</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                                        (probs.T * self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aee827a1ab0fe963062d0f35cf1284551">labelmat</a>[idx]).tocsr())</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                            self.labelprob_energy.append(energies)</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                        labelprob_num_potential = len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a58d094527c25fbdbd46ac02da2f3931e">labelprob_energy</a>)</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                        <span class="keywordflow">if</span> labelprob_num_potential == numBlocks:</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                            <span class="comment"># total probability to find a label</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                            cumprob = self.labelprob.sum(axis=0).getA1()</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                            boolarr = cumprob &gt; 0.1</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                            <span class="comment"># normalize in such a way that the total</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                            <span class="comment"># probability is always one</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                            idxarr, = np.nonzero(boolarr)</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                            normalizer = sparse.coo_matrix((1 / cumprob[idxarr], (idxarr, np.arange(</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                                len(idxarr)))), shape=(self.labelprob.shape[1], len(idxarr))).tocsr()</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                            <span class="comment"># store the energetic expectation value of the</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                            <span class="comment"># labels</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                            labelenergies = (</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                                (self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9b737dc0d29c689bdfbb0a6d37f72c7c">labelprob</a> * normalizer).T * np.concatenate(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a58d094527c25fbdbd46ac02da2f3931e">labelprob_energy</a>))</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                            <span class="keywordflow">if</span> len(labelenergies) == 0:</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                                <span class="keywordflow">continue</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                            <span class="comment"># store the position of the labels</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                            labelposition = position</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                            <span class="comment"># get size and alpha value of labels</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                            size = <span class="stringliteral">&#39;{}&#39;</span>.format(</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                                max(int(round(self.ui.spinbox_plot_szLabel.value() * 11)), 1))</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                            alpha = int(</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                                round(self.ui.spinbox_plot_transpLabel.value() * 255))</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                            <span class="comment"># draw the labels</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                            <span class="keywordflow">for</span> labelstate, labelenergy <span class="keywordflow">in</span> zip(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#adb387dd28bbf38f6ff3e44673f366c03">labelstates</a>[idx][boolarr], labelenergies):</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af7f874b372ad9fb6034b2ebbe0956902">leftSmallerRight</a>[idx]:</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                                    anchorX = 0</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                                    anchorX = 1</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                                <span class="keywordflow">if</span> (idx == 0 <span class="keywordflow">and</span> np.all(labelstate == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aee202fc85410b700beb8a31b66ab20b2">unperturbedstate</a>[idx][[0, 1, 2]])) \</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                                        <span class="keywordflow">or</span> ((idx == 1 <span class="keywordflow">or</span> self.thread.samebasis) <span class="keywordflow">and</span> np.all(labelstate == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aee202fc85410b700beb8a31b66ab20b2">unperturbedstate</a>[idx][[4, 5, 6]])) \</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                                        <span class="keywordflow">or</span> (idx == 2 <span class="keywordflow">and</span> np.all(labelstate == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aee202fc85410b700beb8a31b66ab20b2">unperturbedstate</a>[idx][[0, 1, 2, 4, 5, 6]])) \</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                                        <span class="keywordflow">or</span> ((idx == 2 <span class="keywordflow">and</span> self.thread.samebasis) <span class="keywordflow">and</span> np.all(labelstate == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aee202fc85410b700beb8a31b66ab20b2">unperturbedstate</a>[idx][[4, 5, 6, 0, 1, 2]])):</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                                    color_fill = (255, 192, 203, alpha)</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                                    color_border = (255, 182, 193, 255)</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                                    zvalue = 16</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                                    color_fill = (250, 235, 215, alpha)</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                                    color_border = (255, 228, 181, 255)</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                                    zvalue = 15</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                                <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                                    sn, sl, sj = labelstate</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                                    text = pg.TextItem(html=<span class="stringliteral">&#39;&lt;div style=&quot;text-align: center; font-size: &#39;</span> + size + <span class="stringliteral">&#39;pt;&quot;&gt;&#39;</span> +</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                                                       <span class="stringliteral">&#39;&lt;span style=&quot;color: rgba(0,0,0,255);&quot;&gt;{}{}&lt;sub style=&quot;font-size: &#39;</span>.format(</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                                                           int(sn), self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ace152a2d97602cbf5338c5ddd667f956">momentumstrings</a>[idx][int(sl)]) +</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                                                       size + <span class="stringliteral">&#39;pt;&quot;&gt;{}/2&lt;/sub&gt;&lt;/span&gt;&lt;/div&gt;&#39;</span>.format(int(2 * sj)), anchor=(anchorX, 0.5), fill=color_fill, border=color_border)</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                                <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                                    sn1, sl1, sj1, sn2, sl2, sj2 = labelstate</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                                    text = pg.TextItem(html=<span class="stringliteral">&#39;&lt;div style=&quot;text-align: center; font-size: &#39;</span> + size + <span class="stringliteral">&#39;pt;&quot;&gt;&lt;span style=&quot;color: rgba(0,0,0,255);&quot;&gt;&#39;</span> +</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                                                       <span class="stringliteral">&#39;{}{}&lt;sub style=&quot;font-size: &#39;</span>.format(int(sn1), self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ace152a2d97602cbf5338c5ddd667f956">momentumstrings</a>[idx][int(sl1)]) +</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                                                       size +</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                                                       <span class="stringliteral">&#39;pt;&quot;&gt;{}/2&lt;/sub&gt;&#39;</span>.format(</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                                                           int(2 * sj1)) +</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                                                       <span class="stringliteral">&#39; {}{}&lt;sub style=&quot;font-size: &#39;</span>.format(int(sn2), self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ace152a2d97602cbf5338c5ddd667f956">momentumstrings</a>[idx][int(sl2)]) +</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                                                       size +</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                                                       <span class="stringliteral">&#39;pt;&quot;&gt;{}/2&lt;/sub&gt;&#39;</span>.format(</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                                                           int(2 * sj2)) +</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                                                       <span class="stringliteral">&#39;&lt;/span&gt;&lt;/div&gt;&#39;</span>, anchor=(anchorX, 0.5), fill=color_fill, border=color_border)</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;                                text.setPos(labelposition, labelenergy)</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                                text.setZValue(zvalue)</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                                graphicsview_plot[idx].addItem(text)</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                            posx = labelposition * \</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                                np.ones_like(labelenergies) + 1e-12</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                            posy = labelenergies + 1e-12</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                            curve = PointsItem(np.append(</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                                posx, posx - 2e-12), np.append(posy, posy - 2e-12), 0, 0, (255, 255, 255))</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                            curve.setZValue(5)</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                            graphicsview_plot[idx].addItem(curve)</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                            <span class="comment"># drawing labels take some time</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                            dataamount += 3000</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9b737dc0d29c689bdfbb0a6d37f72c7c">labelprob</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a58d094527c25fbdbd46ac02da2f3931e">labelprob_energy</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                    <span class="comment"># --- draw color map ---</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                    <span class="keywordflow">if</span> self.ui.groupbox_plot_overlap.isChecked() <span class="keywordflow">and</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8df176b9bd7dfd8fb366b74e8b78ba2e">steps</a> &gt; 1:</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                        <span class="comment"># --- get settings ---</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                        <span class="comment"># get size and alpha value</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                        size = self.ui.spinbox_plot_szOverlap.value()</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                        alpha = min(</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                            self.ui.spinbox_plot_transpOverlap.value(), 0.9999)  <span class="comment"># HACK</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                        <span class="comment"># get resolution</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                        res = self.ui.spinbox_plot_resolution.value()</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                        <span class="comment"># calculate size of color map</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                        height_pixelunits = res</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                        enlargement = int(</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                            max(np.round((height_pixelunits / self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8df176b9bd7dfd8fb366b74e8b78ba2e">steps</a> - 2) / 2), 0))</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                        width_pixelunits = 5 + 4 * enlargement</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                        <span class="comment"># calculate values to smooth the colormap</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                        smootherX = (enlargement * 2 + 2) * 1 / 2</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                        smootherY = height_pixelunits * 1 / 150 * size</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                        <span class="comment"># --- build buffers ---</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                        <span class="comment"># initialize arrays if first run at a new position</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                        <span class="comment"># (&quot;filestep&quot;)</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                        <span class="keywordflow">if</span> filestep <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">buffer_positionsMap</a>[idx].keys():</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">buffer_positionsMap</a>[idx][filestep] = position</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][filestep] = []</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx][filestep] = []</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                        <span class="comment"># try to get limits</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                        <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> maxE <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx] = maxE</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                        <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> minE <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx] = minE</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                        <span class="comment"># calculate overlap</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                        <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                            overlap = np.abs(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx].conjugate() * basis)</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                            overlap.data **= 2</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                            overlap = overlap.sum(axis=0).getA1()</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                        <span class="comment"># check if limits do not exists</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                        <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                            <span class="comment"># append the energies to the arrays</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                                filestep].append(energies)</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                            <span class="comment"># append the overlaps to the arrays</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx][</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                                    filestep].append(overlap)</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx][</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                                    filestep].append(np.zeros_like(energies))</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                            <span class="comment"># check if all data of the zeroth position is</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                            <span class="comment"># collected</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                            <span class="comment"># TODO ensure that this also works if numBlocks</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                            <span class="comment"># changes with the step</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                            <span class="keywordflow">if</span> 0 <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx].keys() <span class="keywordflow">and</span> len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx][0]) == numBlocks:</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                                <span class="comment"># make limits</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx] = np.nanmin(</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                                        np.concatenate(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][0]))</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx] = np.nanmax(</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                                        np.concatenate(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][0]))</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                                <span class="comment"># calculate energy-indices</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                                <span class="keywordflow">for</span> f <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx].keys():</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                                    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][f])):</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                                        boolarr = (self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][f][i] &gt;= self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx]) &amp; (</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][f][i] &lt;= self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx])</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][f][i] = <a class="code" href="namespacepairinteraction_1_1utils.html#a62b224be6775d3881bbe77430674fc83">bytescale</a>(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][f][i][</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                                                                                       boolarr], low=0, high=height_pixelunits - 1, cmin=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx], cmax=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx])</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx][f][</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                                            i] = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx][f][i][boolarr]</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                            <span class="comment"># determine whether the energies lie within the</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                            <span class="comment"># limits</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                            boolarr = (energies &gt;= self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx]) &amp; (</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                                energies &lt;= self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx])</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                            <span class="comment"># append the energy-indices to the arrays</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][filestep].append(<a class="code" href="namespacepairinteraction_1_1utils.html#a62b224be6775d3881bbe77430674fc83">bytescale</a>(</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                                energies[boolarr], low=0, high=height_pixelunits - 1, cmin=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx], cmax=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx]))</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                            <span class="comment"># append the overlaps to the arrays</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx][</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                                    filestep].append(overlap[boolarr])</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx][filestep].append(</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                                    np.zeros_like(energies[boolarr]))</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                        <span class="comment"># extract line to fit C3 or C6</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                        <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> len(overlap) &gt; 0 <span class="keywordflow">and</span> (blocknumber <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0e0f3218ad4e41588e4f1bd301b0c8d">linesO</a>[idx].keys() <span class="keywordflow">or</span> np.max(overlap) &gt; 0.5 * np.max(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0e0f3218ad4e41588e4f1bd301b0c8d">linesO</a>[idx][blocknumber])):</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                            idxSelected = np.argmax(overlap)</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                            xSelected = position</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                            eSelected = energies[idxSelected]</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                            oSelected = overlap[idxSelected]</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                            <span class="keywordflow">if</span> blocknumber <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1fe811b0303d79377d94d5c987852bbe">linesX</a>[idx].keys():</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1fe811b0303d79377d94d5c987852bbe">linesX</a>[idx][blocknumber] = []</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                            <span class="keywordflow">if</span> blocknumber <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8539759e8e84d4b45646d2114e68f759">linesY</a>[idx].keys():</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8539759e8e84d4b45646d2114e68f759">linesY</a>[idx][blocknumber] = []</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                            <span class="keywordflow">if</span> blocknumber <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0e0f3218ad4e41588e4f1bd301b0c8d">linesO</a>[idx].keys():</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0e0f3218ad4e41588e4f1bd301b0c8d">linesO</a>[idx][blocknumber] = []</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1fe811b0303d79377d94d5c987852bbe">linesX</a>[idx][blocknumber].append(xSelected)</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8539759e8e84d4b45646d2114e68f759">linesY</a>[idx][blocknumber].append(eSelected)</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0e0f3218ad4e41588e4f1bd301b0c8d">linesO</a>[idx][blocknumber].append(oSelected)</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                            <span class="comment"># the c3 and c6 buttons should be enabled</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                            <span class="keywordflow">if</span> filestep == 0 <span class="keywordflow">and</span> idx == 2:</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;                                self.ui.pushbutton_potential_fit.setEnabled(</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;                                    <span class="keyword">True</span>)</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;                                self.ui.combobox_potential_fct.setEnabled(<span class="keyword">True</span>)</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                        <span class="comment"># --- build color maps starting at the lowest position---</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                        <span class="comment"># loop over positions (&quot;filestep&quot;) as long as three</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                        <span class="comment"># subsequent positions</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                        <span class="comment"># (&quot;self.colormap_buffer_minIdx_field[idx]+0,1,2&quot;) are</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                        <span class="comment"># within the buffers</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                            <span class="comment"># break if limits do not exist</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                                <span class="keywordflow">break</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                            <span class="comment"># break if buffer index is not in the buffer</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;                            bufferidx = []</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                            <span class="comment"># not start</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] != 0:</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] - 1 <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">buffer_positionsMap</a>[idx].keys():</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                                    <span class="keywordflow">break</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                                bufferidx.append(-1)</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">buffer_positionsMap</a>[idx].keys():</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                                <span class="keywordflow">break</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                            bufferidx.append(0)</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                            <span class="comment"># not end</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] != self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8df176b9bd7dfd8fb366b74e8b78ba2e">steps</a> - 1:</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] + 1 <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">buffer_positionsMap</a>[idx].keys():</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                                    <span class="keywordflow">break</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                                bufferidx.append(1)</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                            <span class="comment"># break if the data is not buffered of all blocks,</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                            <span class="comment"># yet</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                            tobreak = <span class="keyword">False</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> bufferidx:</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                                <span class="keywordflow">if</span> len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] + i]) &lt; numBlocks:</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                                    tobreak = <span class="keyword">True</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                            <span class="keywordflow">if</span> tobreak:</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                                <span class="keywordflow">break</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                            <span class="comment"># calculate position-indices</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                            positions = [self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">buffer_positionsMap</a>[idx][</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] + i] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> bufferidx]</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                            <span class="comment"># add outer points if at the end or start</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                            <span class="comment"># end</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8df176b9bd7dfd8fb366b74e8b78ba2e">steps</a> - 1:</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                                positions = positions + \</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                                    [2 * positions[1] - positions[0]]</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                            <span class="comment"># start</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                            <span class="keywordflow">elif</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] == 0:</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                                positions = [2 * positions[0] -</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                                             positions[1]] + positions</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                            <span class="comment"># determine limits of the color map part</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                            posLeft = (positions[0] + positions[1]) / 2</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                            posRight = (positions[1] + positions[2]) / 2</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                            idx_left, idx_right = <a class="code" href="namespacepairinteraction_1_1utils.html#a62b224be6775d3881bbe77430674fc83">bytescale</a>(np.array(</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                                [posLeft, posRight]), low=0, high=width_pixelunits - 1, cmin=positions[0], cmax=positions[-1])</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                            <span class="comment"># calculate unit converters</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aaf6e8c273688e56d84d42e153ba5c2fd"> 1891</a></span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaf6e8c273688e56d84d42e153ba5c2fd">displayunits2pixelunits_x</a> = width_pixelunits / \</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                                (positions[2] - positions[0])</div>
<div class="line"><a name="l01893"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ae20d6cfb31ed60d077a86fc4cd982789"> 1893</a></span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae20d6cfb31ed60d077a86fc4cd982789">displayunits2pixelunits_y</a> = height_pixelunits / \</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                                (self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[idx] - self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx])</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                            <span class="comment"># build map</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                            <span class="comment"># x-y-coordinate system, origin is at the bottom</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                            <span class="comment"># left corner</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                            colormap = np.zeros(</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                                (width_pixelunits, height_pixelunits))</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> bufferidx:</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                                overlap = np.concatenate(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx][</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                                                         self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] + i])</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                                pos = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">buffer_positionsMap</a>[idx][</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] + i]</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                                idx_pos = <a class="code" href="namespacepairinteraction_1_1utils.html#a62b224be6775d3881bbe77430674fc83">bytescale</a>(</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                                    pos, low=0, high=width_pixelunits - 1, cmin=positions[0], cmax=positions[-1])</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                                idx_energies = np.concatenate(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                                                              self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] + i])</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac5d65b16183d15017cd8e2d93f25d02b">logscale</a>:</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                                    overlap[overlap &lt; 1e-2] = 1e-2</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                                    overlap = (2 + np.log10(overlap)) / 2</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                                colormap[idx_pos, :] = sparse.coo_matrix((overlap, (idx_energies, np.arange(len(</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                                    idx_energies)))), shape=(height_pixelunits, len(idx_energies))).sum(axis=1).getA1()</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                                dataamount += len(idx_energies) * 10</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                            <span class="comment"># smoothing</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                            colormap = gaussian_filter(</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                                colormap, (smootherX, smootherY), mode=<span class="stringliteral">&#39;constant&#39;</span>)</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                            <span class="comment"># cutting</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                            colormap = colormap[idx_left:idx_right]</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;                            <span class="comment"># normalizing</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                            normalizer = np.zeros(</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                                (width_pixelunits, int(2 * 3 * smootherY + 1)))</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                            normalizer[</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                                int((width_pixelunits - 1) / 2), int(3 * smootherY)] = 1</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                            normalizer = gaussian_filter(</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                                normalizer, (smootherX, smootherY), mode=<span class="stringliteral">&#39;constant&#39;</span>)</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                            colormap /= np.max(normalizer)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                            <span class="comment"># plotting</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                            img = pg.ImageItem(</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                                image=colormap, opacity=alpha, autoDownsample=<span class="keyword">True</span>, lut=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7c7efde172775757f94c59f0f5fa176f">lut</a>, levels=[-0.002, 1])  <span class="comment"># HACK</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                            img.setRect(QtCore.QRectF(posLeft - 0.5 / self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaf6e8c273688e56d84d42e153ba5c2fd">displayunits2pixelunits_x</a>, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx] - 0.5 / self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae20d6cfb31ed60d077a86fc4cd982789">displayunits2pixelunits_y</a>, posRight - posLeft, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">yMax_field</a>[</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                                        idx] - self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">yMin_field</a>[idx] + 1 / self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae20d6cfb31ed60d077a86fc4cd982789">displayunits2pixelunits_y</a>))  <span class="comment"># xMin, yMin_field[idx], xSize, ySize # TODO energyMin anpassen wegen Pixelgroesse</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                            img.setZValue(3)</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;                            graphicsview_plot[idx].addItem(img)</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;                            <span class="comment"># remove plotted data from buffer</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                            <span class="comment"># not start</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] != 0:</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                                del self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a>[idx][</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] - 1]</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;                                del self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">buffer_positionsMap</a>[idx][</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] - 1]</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;                                del self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a>[idx][</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;                                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] - 1]</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                            <span class="comment"># increase the buffer index</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a>[idx] += 1</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                    <span class="comment"># --- draw lines ---</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                    <span class="keywordflow">if</span> self.ui.groupbox_plot_lines.isChecked():</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                        <span class="keywordflow">if</span> blocknumber <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.buffer_basis.keys():</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">buffer_basis</a>[blocknumber] = {}</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">buffer_energies</a>[blocknumber] = {}</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac189ab7a1f368b30cfcfeef9679ba75d">buffer_positions</a>[blocknumber] = {}</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">buffer_boolarr</a>[blocknumber] = {}</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber] = 0</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                            <span class="stringliteral">&quot;&quot;&quot;self.iSelected[blocknumber] = None</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="stringliteral">                            self.linesX[idx][blocknumber] = []</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;<span class="stringliteral">                            self.linesY[idx][blocknumber] = []&quot;&quot;&quot;</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">buffer_basis</a>[blocknumber][filestep] = basis</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">buffer_energies</a>[blocknumber][filestep] = energies</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac189ab7a1f368b30cfcfeef9679ba75d">buffer_positions</a>[blocknumber][filestep] = position</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">buffer_boolarr</a>[blocknumber][filestep] = []</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                        <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                            <span class="comment"># cut the momenta to reasonable values</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                            momentum[momentum &gt; len(</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a>) - 2] = len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a>) - 2</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                            momentum[momentum &lt; 0] = len(</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a>) - 1</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                            <span class="comment"># loop over momenta</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a>)):</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                                <span class="comment"># determine which basis elements have the</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                                <span class="comment"># current momentum</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                                boolarr = momentum == i</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">buffer_boolarr</a>[blocknumber][</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                                    filestep].append(boolarr)</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                        <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">buffer_boolarr</a>[blocknumber][filestep].append(np.ones_like(</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">buffer_energies</a>[blocknumber][filestep], dtype=np.bool))</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                        <span class="comment"># get size and alpha value of points</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                        size = self.ui.spinbox_plot_szLine.value()</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                        alpha = self.ui.spinbox_plot_transpLine.value() * 255</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                        <span class="stringliteral">&quot;&quot;&quot;# legend</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="stringliteral">                        if idx == 2 and filestep == 0 and symmetry != 0:</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="stringliteral">                            graphicsview_plot[idx].addLegend()</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;<span class="stringliteral">                            style = pg.PlotDataItem(pen = pg.mkPen(self.symmetrycolors[1]+(alpha,),width=size,cosmetic=True))</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;<span class="stringliteral">                            graphicsview_plot[idx].plotItem.legend.addItem(style, &quot;sym&quot;)</span></div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;<span class="stringliteral">                            style = pg.PlotDataItem(pen = pg.mkPen(self.symmetrycolors[2]+(alpha,),width=size,cosmetic=True))</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;<span class="stringliteral">                            graphicsview_plot[idx].plotItem.legend.addItem(style, &quot;asym&quot;)&quot;&quot;&quot;</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                        <span class="keywordflow">while</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber] <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">buffer_basis</a>[blocknumber].keys() <span class="keywordflow">and</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber] + 1 <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">buffer_basis</a>[blocknumber].keys():</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                            <span class="comment"># determine the data to plot</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                            overlap = np.abs(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">buffer_basis</a>[blocknumber][self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber]].conj(</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;                            ).T * self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">buffer_basis</a>[blocknumber][self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber] + 1])  <span class="comment"># nBasis first, nBasis second</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                            overlap.data[overlap.data &lt;= np.sqrt(</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                                self.ui.spinbox_plot_connectionthreshold.value())] = 0</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                            overlap.eliminate_zeros()</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;                            <a class="code" href="namespacepairinteraction_1_1utils.html#a9649714345e7bd3d3193c3ebe6631d0e">csr_keepmax</a>(overlap)</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;                            overlap = overlap.tocoo()</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                            iFirst = overlap.row</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;                            iSecond = overlap.col</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                            ydata = np.transpose([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">buffer_energies</a>[blocknumber][self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber]][</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                                                 iFirst], self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">buffer_energies</a>[blocknumber][self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber] + 1][iSecond]])</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;                            xdata = np.ones_like(ydata)</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                            xdata[:, 0] *= self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac189ab7a1f368b30cfcfeef9679ba75d">buffer_positions</a>[blocknumber][</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber]]</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                            xdata[:, 1] *= self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac189ab7a1f368b30cfcfeef9679ba75d">buffer_positions</a>[blocknumber][</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber] + 1]</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                            <span class="stringliteral">&quot;&quot;&quot;# track lines with the largest probability to find the overlapstate</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;<span class="stringliteral">                            if self.lines_buffer_minIdx_field[blocknumber] == 0:</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="stringliteral">                                overlapWithOverlapstate = np.abs(self.stateidx_field[idx].conjugate()*self.buffer_basis[blocknumber][self.lines_buffer_minIdx_field[blocknumber]])</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="stringliteral">                                overlapWithOverlapstate.data **= 2</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;<span class="stringliteral">                                overlapWithOverlapstate = overlapWithOverlapstate.sum(axis=0).getA1()</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="stringliteral">                                if len(overlapWithOverlapstate) &gt; 0:</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="stringliteral">                                    self.iSelected[blocknumber] = np.argmax(overlapWithOverlapstate)</span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="stringliteral">                                    xSelected = self.buffer_positions[blocknumber][self.lines_buffer_minIdx_field[blocknumber]]</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="stringliteral">                                    eSelected = self.buffer_energies[blocknumber][self.lines_buffer_minIdx_field[blocknumber]][self.iSelected[blocknumber]]</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="stringliteral">                                    self.linesX[idx][blocknumber].append(xSelected)</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="stringliteral">                                    self.linesY[idx][blocknumber].append(eSelected)</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="stringliteral">                                else:</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="stringliteral">                                    self.iSelected[blocknumber] = -1</span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="stringliteral">                            boolarr = iFirst == self.iSelected[blocknumber]</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="stringliteral">                            if np.sum(boolarr) == 1:</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="stringliteral">                                self.iSelected[blocknumber] = iSecond[boolarr]</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="stringliteral">                                xSelected = self.buffer_positions[blocknumber][self.lines_buffer_minIdx_field[blocknumber]+1]</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;<span class="stringliteral">                                eSelected, = self.buffer_energies[blocknumber][self.lines_buffer_minIdx_field[blocknumber]+1][self.iSelected[blocknumber]]</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="stringliteral">                                self.linesX[idx][blocknumber].append(xSelected)</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;<span class="stringliteral">                                self.linesY[idx][blocknumber].append(eSelected)</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;<span class="stringliteral">                            else:</span></div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="stringliteral">                                self.iSelected[blocknumber] = -1&quot;&quot;&quot;</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;                            <span class="comment"># loop over momenta</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;                            numMomenta = len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">buffer_boolarr</a>[blocknumber][</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                                             self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber]])</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(numMomenta):</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                                boolarr = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">buffer_boolarr</a>[blocknumber][</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;                                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber]][i][iFirst]</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                                <span class="keywordflow">if</span> np.sum(boolarr) == 0:</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;                                    <span class="keywordflow">continue</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                                <span class="comment"># determine the associated color</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                                <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;                                    color = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a>[i]</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                                <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;                                    color = symmetrycolor</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                                <span class="comment"># plot the data</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                                <span class="comment"># TODO alpha and color der Funktion zusammen</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                                <span class="comment"># uebergeben</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                                curve = MultiLine(xdata[boolarr], ydata[</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                                                  boolarr], size, alpha, color)</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                                curve.setZValue(7)</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                                graphicsview_plot[idx].addItem(curve)</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;                            del self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">buffer_basis</a>[blocknumber][</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber]]</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                            del self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">buffer_energies</a>[blocknumber][</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber]]</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                            del self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac189ab7a1f368b30cfcfeef9679ba75d">buffer_positions</a>[blocknumber][</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber]]</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                            del self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">buffer_boolarr</a>[blocknumber][</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber]]</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                            <span class="comment"># increase the buffer index</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a>[blocknumber] += 1</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                            dataamount += len(iFirst) * 10</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                    <span class="comment"># --- store data to plot several points at once ---</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                    <span class="keywordflow">if</span> self.ui.groupbox_plot_points.isChecked():</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;                        x = np.append(x, position * np.ones_like(energies))</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                        y = np.append(y, energies)</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                        <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                            l = np.append(l, momentum)</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                        <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                            s += [symmetrycolor]*len(energies)</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;                        dataamount += len(x)</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                <span class="comment"># --- plot the stored data ---</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                <span class="keywordflow">if</span> self.ui.groupbox_plot_points.isChecked() <span class="keywordflow">and</span> len(x) &gt; 0:</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;                    <span class="comment"># get size and alpha value of points</span></div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;                    size = self.ui.spinbox_plot_szPoint.value()</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;                    alpha = self.ui.spinbox_plot_transpPoint.value() * 255</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;                    <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                        <span class="comment"># cut the momenta to reasonable values</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                        l[l &gt; len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a>) -</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                          2] = len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a>) - 2</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                        l[l &lt; 0] = len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a>) - 1</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                    <span class="comment"># find unique symmetry colors</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                    <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                        looprange = len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a>)</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;                    <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;                        s = np.array(s)</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                        uniquesymmetrycolors = np.unique(s.view(np.dtype((np.void, s.dtype.itemsize*s. shape[1])))).view(s.dtype).reshape(-1, s.shape[1])</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                        looprange = len(uniquesymmetrycolors)</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                    <span class="comment"># loop over momenta</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(looprange):</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                        <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                            <span class="comment"># determine which basis elements have the current</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                            <span class="comment"># momentum</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                            boolarr = l == i</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                            <span class="keywordflow">if</span> (np.sum(boolarr) == 0):</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                                <span class="keywordflow">continue</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;                            <span class="comment"># determine the associated color</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;                            color = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">momentumcolors</a>[i]</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;                        <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;                            <span class="comment"># determine which basis elements have the current</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;                            <span class="comment"># symmetry</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;                            boolarr = np.all(s == uniquesymmetrycolors[i], axis=1)</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;                            <span class="keywordflow">if</span> (np.sum(boolarr) == 0):</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;                                <span class="keywordflow">continue</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                            <span class="comment"># determine the associated color</span></div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                            color = tuple(uniquesymmetrycolors[i])</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                        <span class="comment"># plot the basis elements</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                        curve = PointsItem(</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                            x[boolarr], y[boolarr], size, alpha, color)</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                        curve.setZValue(5)</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                        graphicsview_plot[idx].addItem(curve)</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                <span class="comment"># --- update the graphics view ---</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;                graphicsview_plot[idx].repaint()</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        <span class="comment"># check if thread has finished</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;        <span class="keywordflow">if</span> self.thread.isFinished() <span class="keywordflow">and</span> self.thread.dataqueue_field1.empty() <span class="keywordflow">and</span> self.thread.dataqueue_field2.empty() <span class="keywordflow">and</span> self.thread.dataqueue_potential.empty():</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;            <span class="comment"># Delete buffers</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">buffer_basis</a> = [{}, {}, {}]</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">buffer_energies</a> = [{}, {}, {}]</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac189ab7a1f368b30cfcfeef9679ba75d">buffer_positions</a> = [{}, {}, {}]</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">buffer_boolarr</a> = [{}, {}, {}]</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3d7e0756679ec7ad36d0e27c2c103bca">buffer_basis_potential</a> = {}</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a67c0309fa03f0d270902ff30a63fb3b1">buffer_energies_potential</a> = {}</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a62500f4b7c611245092f762f0b1bbb81">buffer_positions_potential</a> = {}</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">buffer_energiesMap</a> = [{}, {}, {}]</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">buffer_positionsMap</a> = [{}, {}, {}]</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">buffer_overlapMap</a> = [{}, {}, {}]</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#addf7aec4b2b494f302122748320ddbec">buffer_energiesMap_potential</a> = {}</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0f4c6e3b1014f06bfa695a6338ce8c7">buffer_positionsMap_potential</a> = {}</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa6506ffe5a682c0904f4006feb456178">buffer_overlapMap_potential</a> = {}</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6302b06a4bf9a63ca6c3784ad5e8a143">lines_buffer_minIdx</a> = {}</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a16760c3dc39c8388b95dcd48a4d7780a">colormap_buffer_minIdx_potential</a> = 0</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">colormap_buffer_minIdx_field</a> = [0] * 3</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">lines_buffer_minIdx_field</a> = [0] * 3</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;            <span class="comment"># Delete c++ process</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa411fd6e17ac64709348b9e71e169758">proc</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                self.proc.wait()</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa411fd6e17ac64709348b9e71e169758">proc</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;            <span class="comment"># Stop this timer</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            self.timer.stop()</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            <span class="comment"># Change buttons</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;            <span class="keywordflow">if</span> self.ui.pushbutton_field1_calc != self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a>:</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;                self.ui.pushbutton_field1_calc.setEnabled(<span class="keyword">True</span>)</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;            <span class="keywordflow">if</span> self.ui.pushbutton_field2_calc != self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a>:</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;                self.ui.pushbutton_field2_calc.setEnabled(<span class="keyword">True</span>)</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;            <span class="keywordflow">if</span> self.ui.pushbutton_potential_calc != self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a>:</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;                self.ui.pushbutton_potential_calc.setEnabled(<span class="keyword">True</span>)</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;            <span class="keywordflow">if</span> self.ui.pushbutton_field1_calc == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a>:</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;                self.senderbutton.setText(<span class="stringliteral">&quot;Calculate field map&quot;</span>)</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            <span class="keywordflow">if</span> self.ui.pushbutton_field2_calc == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a>:</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                self.senderbutton.setText(<span class="stringliteral">&quot;Calculate field map&quot;</span>)</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;            <span class="keywordflow">if</span> self.ui.pushbutton_potential_calc == self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a>:</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;                self.senderbutton.setText(<span class="stringliteral">&quot;Calculate potential&quot;</span>)</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            <span class="comment"># Toggle antialiasing # HACK</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            <span class="keywordflow">if</span> self.ui.checkbox_plot_antialiasing.isChecked():</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                <span class="keywordflow">for</span> plotarea <span class="keywordflow">in</span> [self.ui.graphicsview_field1_plot, self.ui.graphicsview_field2_plot, self.ui.graphicsview_potential_plot]:</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                    plotarea.setAntialiasing(<span class="keyword">False</span>)</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;                    plotarea.setAntialiasing(<span class="keyword">True</span>)</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;            <span class="comment"># Reset status bar</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;            self.ui.statusbar.showMessage(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    @QtCore.pyqtSlot()</div>
<div class="line"><a name="l02209"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a681a6e5331862060886962b64294f4a1"> 2209</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a681a6e5331862060886962b64294f4a1">fitC3C6</a>(self):</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        C6notC3 = self.ui.combobox_potential_fct.currentIndex()  <span class="comment"># TODO rename variable</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        idx = 2</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        arrk = list(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1fe811b0303d79377d94d5c987852bbe">linesX</a>[idx].keys())</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#afbab9be1bec12ebb94286ce30698c967">linesSelected</a>[idx] == 0 <span class="keywordflow">or</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a95c194535839406f58e702cb49d03207">linesSender</a>[idx] <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a95c194535839406f58e702cb49d03207">linesSender</a>[idx] == C6notC3:</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#afbab9be1bec12ebb94286ce30698c967">linesSelected</a>[idx] = (</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#afbab9be1bec12ebb94286ce30698c967">linesSelected</a>[idx] + 1) % (len(arrk) + 1)</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a95c194535839406f58e702cb49d03207">linesSender</a>[idx] = C6notC3  <span class="comment"># TODO rename variable</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        <span class="comment"># --- Remove old data from the plot ---</span></div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;        <span class="keywordflow">if</span> len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx]) &gt; 0:</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;            <span class="keywordflow">for</span> item <span class="keywordflow">in</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx]:</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].removeItem(item)</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx] = []</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        <span class="comment"># --- Add new data to the plot ---</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#afbab9be1bec12ebb94286ce30698c967">linesSelected</a>[idx] &gt; 0:</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;            k = arrk[self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#afbab9be1bec12ebb94286ce30698c967">linesSelected</a>[idx] - 1]</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;            x = np.array(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1fe811b0303d79377d94d5c987852bbe">linesX</a>[2][k])</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;            y = np.array(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8539759e8e84d4b45646d2114e68f759">linesY</a>[2][k])</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;            <span class="comment"># HACK: otherwise plot(x,y,...) would not properly work</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;            sorter = np.argsort(x)</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;            x = x[sorter]</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;            y = y[sorter]</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;            <span class="keywordflow">if</span> len(x) &gt;= 2:</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;                <span class="comment"># Get line size</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                size = self.ui.spinbox_plot_szLine.value()</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                <span class="comment"># Plot selected line</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx].append(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].plot(x, y,</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;                                                                            pen=pg.mkPen((100, 200, 255, 155), width=size * 2, cosmetic=<span class="keyword">True</span>)))</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx][-1].setZValue(13)</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                <span class="comment"># Plot fitted line</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                <span class="keyword">from</span> scipy <span class="keyword">import</span> optimize</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                y0 = y[np.argmax(x)]</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                x0 = np.max(x)</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                <span class="keywordflow">if</span> C6notC3 == 0:</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                    coefftype = [<span class="stringliteral">&#39;6&#39;</span>]</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                    <span class="keyword">def </span>fitfct(x, c6):</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;                        <span class="keywordflow">return</span> c6 / x**6 - c6 / x0**6 + y0</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                <span class="keywordflow">elif</span> C6notC3 == 1:</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;                    coefftype = [<span class="stringliteral">&#39;3&#39;</span>]</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                    <span class="keyword">def </span>fitfct(x, c3):</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                        <span class="keywordflow">return</span> c3 / x**3 - c3 / x0**3 + y0</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;                <span class="keywordflow">elif</span> C6notC3 == 2:</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;                    coefftype = [<span class="stringliteral">&#39;3&#39;</span>, <span class="stringliteral">&#39;6&#39;</span>]</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;                    <span class="keyword">def </span>fitfct(x, c3, c6):</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;                        <span class="keywordflow">return</span> c3 / x**3 + c6 / x**6 - c3 / x0**3 - c6 / x0**6 + y0</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;                par, cov = optimize.curve_fit(fitfct, x, y)</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;                xfit = np.linspace(np.min(x), np.max(x), 300)</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;                yfit = fitfct(xfit, *par)</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx].append(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].plot(xfit, yfit,</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                                                                            pen=pg.mkPen((0, 200, 200, 255), width=size * 2, style=QtCore.Qt.DotLine, cosmetic=<span class="keyword">True</span>)))</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx][-1].setZValue(14)</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;                <span class="comment"># Plot coefficient</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;                size = <span class="stringliteral">&#39;{}&#39;</span>.format(</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;                    max(int(round(self.ui.spinbox_plot_szLabel.value() * 11)), 1))</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;                alpha = int(</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;                    round(self.ui.spinbox_plot_transpLabel.value() * 255))</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                color_fill = (200, 255, 255, alpha)</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;                color_border = (0, 200, 200, 255)</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;                htmltext = <span class="stringliteral">&#39;&lt;div style=&quot;text-align: center; font-size: &#39;</span> + \</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                    size + <span class="stringliteral">&#39;pt;&quot;&gt;&lt;span style=&quot;color: rgba(0,0,0,255);&quot;&gt;&lt;b&gt;&#39;</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                separator = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                <span class="keywordflow">for</span> p, c <span class="keywordflow">in</span> zip(par, coefftype):</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;                    htmltext += separator</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;                    htmltext += <span class="stringliteral">&#39;{:.4g} GHz &amp;mu;m&lt;sup style=&quot;font-size: &#39;</span>.format(</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                        p)</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;                    htmltext += size + <span class="stringliteral">&#39;pt;&quot;&gt;{}&lt;/sup&gt;&#39;</span>.format(c)</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;                    separator = <span class="stringliteral">&#39;, &#39;</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;                htmltext += <span class="stringliteral">&#39;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&#39;</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx].append(pg.TextItem(</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;                    html=htmltext, fill=color_fill, border=color_border, anchor=(0.5, 0.5)))</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                    idx][-1].setPos(np.mean(xfit), yfit[np.argmin(np.abs(xfit - np.mean(xfit)))])</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx][-1].setZValue(20)</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].addItem(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx][-1])</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        <span class="comment"># Toggle antialiasing # HACK</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        <span class="keywordflow">if</span> self.ui.checkbox_plot_antialiasing.isChecked():</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setAntialiasing(<span class="keyword">False</span>)</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setAntialiasing(<span class="keyword">True</span>)</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="comment"># @QtCore.pyqtSlot(bool) # TODO !!!!!!!!!!</span></div>
<div class="line"><a name="l02310"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a2d572211f66ba0b63f871ef755dfdf74"> 2310</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a2d572211f66ba0b63f871ef755dfdf74">detectManualRangeX</a>(self):</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        sender = self.sender()</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;        idx = -1</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        <span class="keywordflow">if</span> sender == self.ui.graphicsview_field1_plot:</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            idx = 0</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        <span class="keywordflow">elif</span> sender == self.ui.graphicsview_field2_plot:</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;            idx = 1</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;        <span class="keywordflow">elif</span> sender == self.ui.graphicsview_potential_plot:</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;            idx = 2</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;        <span class="keywordflow">if</span> idx &gt; -1:</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a419e4c55122138ac4bd5bbeb26aa7b97">manualRangeX</a>[idx] = <span class="keywordflow">not</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                idx].getViewBox().getState()[<span class="stringliteral">&quot;autoRange&quot;</span>][0]</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="comment"># @QtCore.pyqtSlot(bool) # TODO !!!!!!!!!!</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aa4ea4bae7bdfe387b83419887bc28c34"> 2326</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa4ea4bae7bdfe387b83419887bc28c34">detectManualRangeY</a>(self):</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        sender = self.sender()</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        idx = -1</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;        <span class="keywordflow">if</span> sender == self.ui.graphicsview_field1_plot.getPlotItem():</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;            idx = 0</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;        <span class="keywordflow">elif</span> sender == self.ui.graphicsview_field2_plot.getPlotItem():</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;            idx = 1</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;        <span class="keywordflow">elif</span> sender == self.ui.graphicsview_potential_plot.getPlotItem():</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;            idx = 2</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;        <span class="keywordflow">if</span> idx &gt; -1:</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a76196466b7d333cccf857661150ff10c">manualRangeY</a>[idx] = <span class="keywordflow">not</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;                idx].getViewBox().getState()[<span class="stringliteral">&quot;autoRange&quot;</span>][1]</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    @QtCore.pyqtSlot(int)</div>
<div class="line"><a name="l02342"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a99a5c370b41caacc095f90b1e584b0ff"> 2342</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a99a5c370b41caacc095f90b1e584b0ff">adjustPairlimits</a>(self, value):</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        sender = self.sender()</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        <span class="keywordflow">if</span> value == -1:</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            maximum = 999</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;            minimum = -1</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;            maximum = value</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;            minimum = 0</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        <span class="keywordflow">if</span> sender == self.ui.spinbox_system_deltaNSingle:</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;            self.ui.spinbox_system_deltaNPair.setMaximum(maximum)</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;            self.ui.spinbox_system_deltaNPair.setMinimum(minimum)</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        <span class="keywordflow">elif</span> sender == self.ui.spinbox_system_deltaLSingle:</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            self.ui.spinbox_system_deltaLPair.setMaximum(maximum)</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;            self.ui.spinbox_system_deltaLPair.setMinimum(minimum)</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;        <span class="keywordflow">elif</span> sender == self.ui.spinbox_system_deltaJSingle:</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;            self.ui.spinbox_system_deltaJPair.setMaximum(maximum)</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;            self.ui.spinbox_system_deltaJPair.setMinimum(minimum)</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;        <span class="keywordflow">elif</span> sender == self.ui.spinbox_system_deltaMSingle:</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;            self.ui.spinbox_system_deltaMPair.setMaximum(maximum)</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;            self.ui.spinbox_system_deltaMPair.setMinimum(minimum)</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    @QtCore.pyqtSlot(bool)  <span class="comment"># TODO</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aea56529752b4a21db7a2616471eeab1c"> 2366</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aea56529752b4a21db7a2616471eeab1c">toggleAntialiasing</a>(self):</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;        checked = self.ui.checkbox_plot_antialiasing.isChecked()</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        <span class="keywordflow">for</span> plotarea <span class="keywordflow">in</span> [self.ui.graphicsview_field1_plot, self.ui.graphicsview_field2_plot, self.ui.graphicsview_potential_plot]:</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            plotarea.setAntialiasing(checked)</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;        pg.setConfigOptions(antialias=checked)  <span class="comment"># TODO</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    @QtCore.pyqtSlot(bool)  <span class="comment"># TODO</span></div>
<div class="line"><a name="l02373"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#abdb4b0d04b98c18ed5d21422bf7f9fe0"> 2373</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#abdb4b0d04b98c18ed5d21422bf7f9fe0">togglePairbasis</a>(self):</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        checked = self.ui.radiobutton_system_pairbasisDefined.isChecked()</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        self.ui.widget_system_pair.setEnabled(checked)</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    @QtCore.pyqtSlot(bool)  <span class="comment"># TODO</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a921ae051197605d1537cd032b3cc4657"> 2378</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a921ae051197605d1537cd032b3cc4657">toggleOverlapstate</a>(self):</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;        checked = self.ui.radiobutton_plot_overlapDefined.isChecked()</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        self.ui.widget_plot_qn.setEnabled(checked)</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    @QtCore.pyqtSlot(bool)  <span class="comment"># TODO</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aaf7cd77b208c135332f4b2d88f5841b8"> 2383</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aaf7cd77b208c135332f4b2d88f5841b8">toggleSymmetrization</a>(self):</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        checked = self.ui.radiobutton_symManual.isChecked()</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;        self.ui.checkbox_system_invE.setEnabled(checked)</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        self.ui.checkbox_system_invO.setEnabled(checked)</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        self.ui.checkbox_system_perE.setEnabled(checked)</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;        self.ui.checkbox_system_perO.setEnabled(checked)</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;        self.ui.checkbox_system_refE.setEnabled(checked)</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;        self.ui.checkbox_system_refO.setEnabled(checked)</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        self.ui.checkbox_system_conserveM.setEnabled(checked)</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>()</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;</div>
<div class="line"><a name="l02394"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0"> 2394</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">autosetSymmetrization</a>(self):</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        <span class="keywordflow">if</span> self.ui.radiobutton_symManual.isChecked():</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;            <span class="keywordflow">return</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        angle = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;theta&quot;</span>].magnitude</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        arrlabels = [[<span class="stringliteral">&quot;minEx&quot;</span>, <span class="stringliteral">&quot;minEy&quot;</span>, <span class="stringliteral">&quot;minEz&quot;</span>], [<span class="stringliteral">&quot;maxEx&quot;</span>, <span class="stringliteral">&quot;maxEy&quot;</span>, <span class="stringliteral">&quot;maxEz&quot;</span>], [<span class="stringliteral">&quot;minBx&quot;</span>, <span class="stringliteral">&quot;minBy&quot;</span>, <span class="stringliteral">&quot;minBz&quot;</span>], [<span class="stringliteral">&quot;maxBx&quot;</span>, <span class="stringliteral">&quot;maxBy&quot;</span>, <span class="stringliteral">&quot;maxBz&quot;</span>]]</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;        rotator = np.array([[np.cos(angle), 0, -np.sin(angle)], [0, 1, 0], [np.sin(angle), 0, np.cos(angle)]])</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;        fields_unrotated = [np.array([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[l].magnitude <span class="keywordflow">for</span> l <span class="keywordflow">in</span> ls]) <span class="keywordflow">for</span> ls <span class="keywordflow">in</span> arrlabels]</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;        fields = [np.dot(rotator, f).flatten() <span class="keywordflow">for</span> f <span class="keywordflow">in</span> fields_unrotated]</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;        higherOrder = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;exponent&quot;</span>].magnitude &gt; 3</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        electricX = fields[0][0] != 0 <span class="keywordflow">or</span> fields[1][0] != 0</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;        electricY = fields[0][1] != 0 <span class="keywordflow">or</span> fields[1][1] != 0</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;        electricZ = fields[0][2] != 0 <span class="keywordflow">or</span> fields[1][2] != 0</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        magneticX = fields[2][0] != 0 <span class="keywordflow">or</span> fields[3][0] != 0</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        magneticY = fields[2][1] != 0 <span class="keywordflow">or</span> fields[3][1] != 0</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        magneticZ = fields[2][2] != 0 <span class="keywordflow">or</span> fields[3][2] != 0</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;        nonzeroM = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;m1&quot;</span>].magnitude + self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;m2&quot;</span>].magnitude != 0</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;        heteronuclear = <span class="keywordflow">not</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;samebasis&quot;</span>].magnitude</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;        sym_inversion = (<span class="keywordflow">not</span> electricZ) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> electricX) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> electricY) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> heteronuclear)</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;        sym_permutation = (<span class="keywordflow">not</span> higherOrder) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> heteronuclear)</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        sym_reflection = (<span class="keywordflow">not</span> magneticZ) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> magneticX) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> magneticY) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> electricX) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> electricY) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> nonzeroM)</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;        sym_rotation = (<span class="keywordflow">not</span> magneticX) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> magneticY) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> electricX) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> electricY)</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;        self.ui.checkbox_system_invE.setChecked(sym_inversion)</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;        self.ui.checkbox_system_invO.setChecked(sym_inversion)</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        self.ui.checkbox_system_perE.setChecked(sym_permutation)</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;        self.ui.checkbox_system_perO.setChecked(sym_permutation)</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        self.ui.checkbox_system_refE.setChecked(sym_reflection)</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        self.ui.checkbox_system_refO.setChecked(sym_reflection)</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;        self.ui.checkbox_system_conserveM.setChecked(sym_rotation)</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    @QtCore.pyqtSlot(bool)  <span class="comment"># TODO</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a2de7bc129f30c1181a31ef8d30e7e18e"> 2429</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a2de7bc129f30c1181a31ef8d30e7e18e">toggleSamebasis</a>(self):</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        checked = self.ui.checkbox_system_samebasis.isChecked()</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        <span class="keywordflow">if</span> checked <span class="keywordflow">and</span> self.ui.tabwidget_plotter.count() == 3:</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;            self.ui.tabwidget_plotter.removeTab(1)</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;            self.ui.tabwidget_plotter.setTabText(</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;                0, <span class="stringliteral">&quot;Field map of atom 1 and 2&quot;</span>)</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> checked <span class="keywordflow">and</span> self.ui.tabwidget_plotter.count() == 2:</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;            self.ui.tabwidget_plotter.insertTab(</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                1, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#abdd5f3505c51bac65b236818f98dafae">tab_field2</a>, <span class="stringliteral">&quot;Field map of atom 2&quot;</span>)</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;            self.ui.tabwidget_plotter.setTabText(0, <span class="stringliteral">&quot;Field map of atom 1&quot;</span>)</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    @QtCore.pyqtSlot(bool)  <span class="comment"># TODO</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a5366129ad7f4943bda1fe98ceb6a24ef"> 2441</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5366129ad7f4943bda1fe98ceb6a24ef">toggleYScale</a>(self):</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        log = self.ui.radiobutton_plot_log.isChecked()</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;        <span class="keywordflow">if</span> log:</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;            self.ui.label_plot_1st.setText(<span class="stringliteral">&quot;&lt; 0.01&quot;</span>)  <span class="comment"># TODO</span></div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;            self.ui.label_plot_2nd.setText(<span class="stringliteral">&quot;0.1&quot;</span>)  <span class="comment"># TODO</span></div>
<div class="line"><a name="l02446"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ac5d65b16183d15017cd8e2d93f25d02b"> 2446</a></span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac5d65b16183d15017cd8e2d93f25d02b">logscale</a> = <span class="keyword">True</span></div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;            self.ui.label_plot_1st.setText(<span class="stringliteral">&quot;0&quot;</span>)</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;            self.ui.label_plot_2nd.setText(<span class="stringliteral">&quot;0.5&quot;</span>)</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac5d65b16183d15017cd8e2d93f25d02b">logscale</a> = <span class="keyword">False</span></div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    @QtCore.pyqtSlot(str)  <span class="comment"># TODO</span></div>
<div class="line"><a name="l02453"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a1f82f0c6d71332333c62b84c70ad645e"> 2453</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1f82f0c6d71332333c62b84c70ad645e">forbidSamebasis</a>(self):</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        <span class="keywordflow">if</span> self.ui.combobox_system_species1.currentIndex() != self.ui.combobox_system_species2.currentIndex():</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;            <span class="keywordflow">if</span> self.ui.checkbox_system_samebasis.isEnabled():</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                self.ui.checkbox_system_samebasis.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0df40ac1415dffe0c7e5ab1a8643260d">samebasis_state</a> = self.ui.checkbox_system_samebasis.checkState()</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                self.ui.checkbox_system_samebasis.setCheckState(</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                    QtCore.Qt.Unchecked)  <span class="comment"># TODO !!!!!!!!!!!</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.ui.checkbox_system_samebasis.isEnabled():</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                self.ui.checkbox_system_samebasis.setEnabled(<span class="keyword">True</span>)</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;                self.ui.checkbox_system_samebasis.setCheckState(</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0df40ac1415dffe0c7e5ab1a8643260d">samebasis_state</a>)</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    @QtCore.pyqtSlot()</div>
<div class="line"><a name="l02467"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a1053392f0944f5a68444d72c89643d6f"> 2467</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1053392f0944f5a68444d72c89643d6f">validateCores</a>(self):</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        sender = self.sender()</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        <span class="keywordflow">if</span> sender.value() != -1 <span class="keywordflow">and</span> sender.value() &lt; 2:</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;            sender.setValue(2)</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    @QtCore.pyqtSlot()</div>
<div class="line"><a name="l02473"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89"> 2473</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">validateQuantumnumbers</a>(self):</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        sender = self.sender()</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        quantumnumbers = [</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;            [self.ui.spinbox_system_n1, self.ui.spinbox_system_l1,</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;             self.ui.spinbox_system_j1, self.ui.spinbox_system_m1],</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;            [self.ui.spinbox_system_n2, self.ui.spinbox_system_l2,</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;             self.ui.spinbox_system_j2, self.ui.spinbox_system_m2],</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;            [self.ui.spinbox_plot_n1, self.ui.spinbox_plot_l1,</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;             self.ui.spinbox_plot_j1, self.ui.spinbox_plot_m1],</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;            [self.ui.spinbox_plot_n2, self.ui.spinbox_plot_l2,</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;             self.ui.spinbox_plot_j2, self.ui.spinbox_plot_m2]]</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <span class="keywordflow">for</span> i, qn <span class="keywordflow">in</span> enumerate(quantumnumbers):</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;            <span class="keywordflow">if</span> sender <span class="keywordflow">in</span> qn:</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;                n, l, j, m = qn</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                n_err = <span class="keyword">False</span></div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;                l_err = <span class="keyword">False</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;                j_err = <span class="keyword">False</span></div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;                m_err = <span class="keyword">False</span></div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;                nn = n.value()</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;                ll = l.value()</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;                jj = j.value()</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;                mm = m.value()</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;                <span class="keywordflow">if</span> (nn != -1 <span class="keywordflow">and</span> ll != -1) <span class="keywordflow">and</span> (nn - 1 &lt; ll):</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;                    n_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;                    l_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;                <span class="keywordflow">if</span> (ll != -1 <span class="keywordflow">and</span> jj != -1) <span class="keywordflow">and</span> (abs(ll - jj) != 0.5):</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;                    l_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;                    j_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;                <span class="keywordflow">if</span> (jj != -1 <span class="keywordflow">and</span> mm != -1) <span class="keywordflow">and</span> (jj &lt; abs(mm)):</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;                    j_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;                    m_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;                <span class="keywordflow">if</span> (nn != -1 <span class="keywordflow">and</span> jj != -1) <span class="keywordflow">and</span> (nn - 0.5 &lt; jj):</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                    n_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;                    j_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                <span class="keywordflow">if</span> (nn != -1 <span class="keywordflow">and</span> mm != -1) <span class="keywordflow">and</span> (nn - 0.5 &lt; abs(mm)):</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;                    n_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                    m_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                <span class="keywordflow">if</span> (ll != -1 <span class="keywordflow">and</span> mm != -1) <span class="keywordflow">and</span> (ll + 0.5 &lt; abs(mm)):</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                    l_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;                    m_err |= <span class="keyword">True</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;                <span class="keywordflow">if</span> n_err <span class="keywordflow">or</span> l_err <span class="keywordflow">or</span> j_err <span class="keywordflow">or</span> m_err:</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a72b7c6eaa63dadd913ae13a47076435a">invalidQuantumnumbers</a>[i] = <span class="keyword">True</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a72b7c6eaa63dadd913ae13a47076435a">invalidQuantumnumbers</a>[i] = <span class="keyword">False</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;        <span class="keywordflow">if</span> np.any(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a72b7c6eaa63dadd913ae13a47076435a">invalidQuantumnumbers</a>):</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;            self.ui.statusbar.showMessage(</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;                <span class="stringliteral">&#39;Invalide quantum numbers specified.&#39;</span>)</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;            self.ui.statusbar.showMessage(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    @QtCore.pyqtSlot()</div>
<div class="line"><a name="l02533"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a0d6db012037e3462b63744fa102a63be"> 2533</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0d6db012037e3462b63744fa102a63be">validateHalfinteger</a>(self):</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        value = self.sender().value()</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        self.sender().setValue(np.floor(value) + 0.5)</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    @QtCore.pyqtSlot()</div>
<div class="line"><a name="l02538"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#afe6cdffdad66d599b27a686ef7924de7"> 2538</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#afe6cdffdad66d599b27a686ef7924de7">validateHalfintegerpositiveOrMinusone</a>(self):</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;        value = self.sender().value()</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        <span class="keywordflow">if</span> value &lt;= 0:</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;            self.sender().setValue(-1)</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;            self.sender().setValue(np.floor(value) + 0.5)</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    @QtCore.pyqtSlot()</div>
<div class="line"><a name="l02546"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1af5d82b37562a95bd7b6e5eb13f8d"> 2546</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1af5d82b37562a95bd7b6e5eb13f8d">validateHalfintegerOrMinusone</a>(self):</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        value = self.sender().value()</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        <span class="keywordflow">if</span> value == -1:</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;            <span class="keywordflow">pass</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;            self.sender().setValue(np.floor(value) + 0.5)</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    @QtCore.pyqtSlot()</div>
<div class="line"><a name="l02554"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a99d8def321731e763f57237bb33185ec"> 2554</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a99d8def321731e763f57237bb33185ec">validateIntegerpositiveOrMinusone</a>(self):</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        value = self.sender().value()</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        <span class="keywordflow">if</span> value &lt;= 0:</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;            self.sender().setValue(-1)</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    @QtCore.pyqtSlot(str)</div>
<div class="line"><a name="l02560"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a309fe184a739158519f8eaf041d04042"> 2560</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a309fe184a739158519f8eaf041d04042">showCriticalMessage</a>(self, msg):</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        QtGui.QMessageBox.critical(self, <span class="stringliteral">&quot;Message&quot;</span>, msg)</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    @QtCore.pyqtSlot()</div>
<div class="line"><a name="l02564"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a768fd3a31e3fca1498903c5f50267221"> 2564</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a768fd3a31e3fca1498903c5f50267221">startCalc</a>(self):</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa411fd6e17ac64709348b9e71e169758">proc</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;            <span class="comment"># ensure that validators are called</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;            focused_widget = QtGui.QApplication.focusWidget()</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;            <span class="keywordflow">if</span> focused_widget <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;                focused_widget.clearFocus()</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;            <span class="keywordflow">if</span> np.any(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a72b7c6eaa63dadd913ae13a47076435a">invalidQuantumnumbers</a>):</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;                QtGui.QMessageBox.critical(</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;                    self, <span class="stringliteral">&quot;Message&quot;</span>, <span class="stringliteral">&quot;Invalide quantum numbers specified.&quot;</span>)</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;            <span class="keywordflow">elif</span> self.ui.radiobutton_system_missingWhittaker.isChecked() <span class="keywordflow">and</span> max(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;n1&quot;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;n1&quot;</span>].magnitude) + max(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;deltaNSingle&quot;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;deltaNPair&quot;</span>].magnitude) &gt; 97:</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                QtGui.QMessageBox.critical(</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;                    self, <span class="stringliteral">&quot;Message&quot;</span>, <span class="stringliteral">&quot;If the principal quantum number exceeds 97, radial matrix elements must be calculated from model potentials.&quot;</span>)</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02581"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104"> 2581</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> = self.sender()</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> <span class="keywordflow">in</span> [self.ui.pushbutton_field1_calc, self.ui.pushbutton_field2_calc] <span class="keywordflow">and</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;theta&quot;</span>].toAU().magnitude != 0:</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;                    QtGui.QMessageBox.warning(self, <span class="stringliteral">&quot;Warning&quot;</span>, <span class="stringliteral">&quot;For calculating field maps, you might like to set the interaction angle to zero. &quot;</span> +</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;                                              <span class="stringliteral">&quot;A non-zero angle makes the program compute eigenvectors in the rotated basis where the quantization &quot;</span> +</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;                                              <span class="stringliteral">&quot;axis equals the interatomic axis. This slows down calculations.&quot;</span>)</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;theta&quot;</span>].magnitude != 0 <span class="keywordflow">and</span> (self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;deltaMSingle&quot;</span>].magnitude &gt;= 0 <span class="keywordflow">or</span> (self.ui.radiobutton_system_pairbasisDefined.isChecked() <span class="keywordflow">and</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;deltaMPair&quot;</span>].magnitude &gt;= 0)):</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;                    QtGui.QMessageBox.warning(</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;                        self, <span class="stringliteral">&quot;Warning&quot;</span>, <span class="stringliteral">&quot;For non-zero interaction angles, it is recommended not to restrict the magnetic quantum number.&quot;</span>)</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                <span class="comment"># save last settings</span></div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#acb08c3fede0e6fd74a82508acdd0e02a">saveSettingsSystem</a>(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0ad515864dfa4aaf27aed2d0e3ecef63">path_system_last</a>)</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae729eba5e6848548dc4aa380f228b7c4">saveSettingsPlotter</a>(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa2f28078d3a8ce2f53ac55bb14a772e8">path_plot_last</a>)</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1ca691364724b3ae1ece6cde64686c22">saveSettingsView</a>(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac985ac6c3ab821413baf4e8022a996bb">path_view_last</a>)</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;                <span class="comment"># change buttons</span></div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> != self.ui.pushbutton_field1_calc:</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;                    self.ui.pushbutton_field1_calc.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> != self.ui.pushbutton_field2_calc:</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;                    self.ui.pushbutton_field2_calc.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> != self.ui.pushbutton_potential_calc:</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;                    self.ui.pushbutton_potential_calc.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> == self.ui.pushbutton_potential_calc:</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;                    self.ui.pushbutton_potential_fit.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;                    self.ui.combobox_potential_fct.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;                self.senderbutton.setText(<span class="stringliteral">&quot;Abort calculation&quot;</span>)</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;                <span class="comment"># store, whether the same basis should be used for both atoms</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0160d657f0be712d865eae0989fd1dfb">samebasis</a> = self.ui.checkbox_system_samebasis.checkState() == QtCore.Qt.Checked</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;                <span class="comment"># store configuration</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;                <span class="comment"># toAU converts the angle from deg to rad</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a"> 2614</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a> = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;theta&quot;</span>].toAU().magnitude</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;</div>
<div class="line"><a name="l02616"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a3bd04cd590b80ca03b911ea68c473e3c"> 2616</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3bd04cd590b80ca03b911ea68c473e3c">minE</a> = [self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&quot;minE_field1&quot;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;                    <span class="stringliteral">&quot;minE_field2&quot;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&quot;minE_potential&quot;</span>].magnitude]</div>
<div class="line"><a name="l02618"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a4f0962dfb5f1f2bc57dc3afbae62f503"> 2618</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4f0962dfb5f1f2bc57dc3afbae62f503">maxE</a> = [self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&quot;maxE_field1&quot;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;                    <span class="stringliteral">&quot;maxE_field2&quot;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&quot;maxE_potential&quot;</span>].magnitude]</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;</div>
<div class="line"><a name="l02621"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a8df176b9bd7dfd8fb366b74e8b78ba2e"> 2621</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8df176b9bd7dfd8fb366b74e8b78ba2e">steps</a> = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;steps&#39;</span>].magnitude</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;                <span class="comment"># self.calcmissing = self.ui.checkbox_calc_missing.checkState() == QtCore.Qt.Checked</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;                unperturbedstate = np.array([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;n1&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;l1&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;j1&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;m1&#39;</span>].magnitude,</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;                                             self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;n2&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;l2&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;j2&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;m2&#39;</span>].magnitude])</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;                <span class="keywordflow">if</span> self.ui.radiobutton_plot_overlapUnperturbed.isChecked():</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;                    overlapstate = unperturbedstate</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;                    overlapstate = np.array([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&#39;n1&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&#39;l1&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&#39;j1&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&#39;m1&#39;</span>].magnitude,</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;                                             self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&#39;n2&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&#39;l2&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&#39;j2&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">plotdict</a>[<span class="stringliteral">&#39;m2&#39;</span>].magnitude])</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;</div>
<div class="line"><a name="l02633"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a7c7efde172775757f94c59f0f5fa176f"> 2633</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7c7efde172775757f94c59f0f5fa176f">lut</a> = self.ui.gradientwidget_plot_gradient.getLookupTable(</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;                    512)</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;                <span class="comment"># clear plots and set them up</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;                validsenders = [[self.ui.pushbutton_field1_calc, self.ui.pushbutton_potential_calc],</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;                                [self.ui.pushbutton_field2_calc,</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;                                    self.ui.pushbutton_potential_calc],</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;                                [self.ui.pushbutton_potential_calc]]</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;                constDistance = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad952123ce541b2fe480485d50b151513">getConstDistance</a>()</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;                constEField = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a410ae29f1987003cb060e02b9f977423">getConstEField</a>()</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;                constBField = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ac9a756cac7c8831b9708b5e859b4df68">getConstBField</a>()</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;</div>
<div class="line"><a name="l02646"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a9f3157fc2476433facf837afc87f1a14"> 2646</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9f3157fc2476433facf837afc87f1a14">xAxis</a> = [<span class="keywordtype">None</span>] * 3</div>
<div class="line"><a name="l02647"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e8c172c9582f259c48e7ee427df8294"> 2647</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e8c172c9582f259c48e7ee427df8294">converter_x</a> = [<span class="keywordtype">None</span>] * 3</div>
<div class="line"><a name="l02648"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#af7f874b372ad9fb6034b2ebbe0956902"> 2648</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af7f874b372ad9fb6034b2ebbe0956902">leftSmallerRight</a> = [<span class="keywordtype">None</span>] * 3</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;                <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> range(3):</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;                    <span class="keywordflow">if</span> (self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> <span class="keywordflow">not</span> <span class="keywordflow">in</span> validsenders[idx]) <span class="keywordflow">and</span> <span class="keywordflow">not</span> (idx == 0 <span class="keywordflow">and</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0160d657f0be712d865eae0989fd1dfb">samebasis</a>):</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;                        <span class="keywordflow">continue</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aee202fc85410b700beb8a31b66ab20b2">unperturbedstate</a>[idx] = unperturbedstate</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">overlapstate</a>[idx] = overlapstate</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;                    <span class="comment"># setup storage variables to save the results</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;                    filelike_system = StringIO()</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;                    filelike_plotter = StringIO()</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#acb08c3fede0e6fd74a82508acdd0e02a">saveSettingsSystem</a>(filelike_system)</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae729eba5e6848548dc4aa380f228b7c4">saveSettingsPlotter</a>(filelike_plotter)</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a21a8a7b0183d0754d3b2246f66fb22db">storage_data</a>[idx] = []</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae13f97a88abfbe6b994208961a760aa2">storage_states</a>[idx] = <span class="keywordtype">None</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0e786c56cd0d032730ec4015f9094791">storage_configuration</a>[idx] = [</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;                        filelike_system.getvalue(), filelike_plotter.getvalue()]</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;                    <span class="comment"># clear plot</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;                    autorangestate = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].getViewBox().getState(</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;                    )[<span class="stringliteral">&quot;autoRange&quot;</span>]  <span class="comment"># HACK to avoid performance issues during clearing</span></div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;                    <span class="keywordflow">if</span> autorangestate[0]:</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].disableAutoRange(</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;                            axis=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].getViewBox().XAxis)</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;                    <span class="keywordflow">if</span> autorangestate[1]:</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].disableAutoRange(</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;                            axis=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].getViewBox().YAxis)</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].clear()</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;                    <span class="keywordflow">if</span> autorangestate[0]:</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].enableAutoRange(</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;                            axis=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].getViewBox().XAxis)</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;                    <span class="keywordflow">if</span> autorangestate[1]:</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].enableAutoRange(</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;                            axis=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].getViewBox().YAxis)</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;                    <span class="comment"># set up energy axis</span></div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setLabel(</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;                        <span class="stringliteral">&#39;left&#39;</span>, <span class="stringliteral">&#39;Energy (&#39;</span> + str(Units.energy) + <span class="stringliteral">&#39;)&#39;</span>)</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setLimits(yMin=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3bd04cd590b80ca03b911ea68c473e3c">minE</a>[idx])</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setLimits(yMax=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4f0962dfb5f1f2bc57dc3afbae62f503">maxE</a>[idx])</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;                    <span class="comment"># set up step axis</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;                    <span class="keywordflow">if</span> (idx <span class="keywordflow">in</span> [0, 1] <span class="keywordflow">and</span> constEField <span class="keywordflow">and</span> <span class="keywordflow">not</span> constBField) <span class="keywordflow">or</span> (idx == 2 <span class="keywordflow">and</span> constDistance <span class="keywordflow">and</span> <span class="keywordflow">not</span> constBField):</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9f3157fc2476433facf837afc87f1a14">xAxis</a>[idx] = <span class="stringliteral">&#39;B&#39;</span></div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setLabel(</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;                            <span class="stringliteral">&#39;bottom&#39;</span>, <span class="stringliteral">&#39;Magnetic field (&#39;</span> + str(Units.bfield) + <span class="stringliteral">&#39;)&#39;</span>)</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e8c172c9582f259c48e7ee427df8294">converter_x</a>[idx] = Quantity(</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;                            1, Units.au_bfield).toUU().magnitude</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;                        posMin = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a60d1a37d4e2390b835d5d93578cdfa56">get1DPosition</a>([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;minBx&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;                                                    <span class="stringliteral">&#39;minBy&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;minBz&#39;</span>].magnitude])</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;                        posMax = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a60d1a37d4e2390b835d5d93578cdfa56">get1DPosition</a>([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;maxBx&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;                                                    <span class="stringliteral">&#39;maxBy&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;maxBz&#39;</span>].magnitude])</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;                    <span class="keywordflow">elif</span> (idx <span class="keywordflow">in</span> [0, 1]) <span class="keywordflow">or</span> (idx == 2 <span class="keywordflow">and</span> constDistance <span class="keywordflow">and</span> <span class="keywordflow">not</span> constEField):</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9f3157fc2476433facf837afc87f1a14">xAxis</a>[idx] = <span class="stringliteral">&#39;E&#39;</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setLabel(</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;                            <span class="stringliteral">&#39;bottom&#39;</span>, <span class="stringliteral">&#39;Electric field (&#39;</span> + str(Units.efield) + <span class="stringliteral">&#39;)&#39;</span>)</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e8c172c9582f259c48e7ee427df8294">converter_x</a>[idx] = Quantity(</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;                            1, Units.au_efield).toUU().magnitude</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;                        posMin = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a60d1a37d4e2390b835d5d93578cdfa56">get1DPosition</a>([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;minEx&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;                                                    <span class="stringliteral">&#39;minEy&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;minEz&#39;</span>].magnitude])</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;                        posMax = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a60d1a37d4e2390b835d5d93578cdfa56">get1DPosition</a>([self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;maxEx&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;                                                    <span class="stringliteral">&#39;maxEy&#39;</span>].magnitude, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;maxEz&#39;</span>].magnitude])</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;                    <span class="keywordflow">elif</span> (idx == 2):</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9f3157fc2476433facf837afc87f1a14">xAxis</a>[idx] = <span class="stringliteral">&#39;</span><span class="stringliteral">R&#39;</span></div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;<span class="stringliteral">                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setLabel(</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;<span class="stringliteral">                            </span><span class="stringliteral">&#39;bottom&#39;</span>, <span class="stringliteral">&#39;Interatomic distance (&#39;</span> + str(Units.length) + <span class="stringliteral">&#39;)&#39;</span>)</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e8c172c9582f259c48e7ee427df8294">converter_x</a>[idx] = Quantity(</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;                            1, Units.au_length).toUU().magnitude</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;                        posMin = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;minR&#39;</span>].magnitude</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;                        posMax = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&#39;maxR&#39;</span>].magnitude</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af7f874b372ad9fb6034b2ebbe0956902">leftSmallerRight</a>[idx] = posMin &lt; posMax</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;                    <span class="comment"># enable / disable auto range</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;                    <span class="keywordflow">if</span> self.ui.checkbox_plot_autorange.isChecked():</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;                        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].enableAutoRange()</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;                    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;                        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a419e4c55122138ac4bd5bbeb26aa7b97">manualRangeX</a>[idx]:</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;                                idx].setXRange(posMin, posMax)</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;                        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a76196466b7d333cccf857661150ff10c">manualRangeY</a>[idx] <span class="keywordflow">and</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3bd04cd590b80ca03b911ea68c473e3c">minE</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4f0962dfb5f1f2bc57dc3afbae62f503">maxE</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;                            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">graphicviews_plot</a>[idx].setYRange(</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;                                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3bd04cd590b80ca03b911ea68c473e3c">minE</a>[idx], self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4f0962dfb5f1f2bc57dc3afbae62f503">maxE</a>[idx])</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;                    <span class="comment"># clear variables</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#afbab9be1bec12ebb94286ce30698c967">linesSelected</a>[idx] = 0</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">linesData</a>[idx] = []</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1fe811b0303d79377d94d5c987852bbe">linesX</a>[idx] = {}</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a8539759e8e84d4b45646d2114e68f759">linesY</a>[idx] = {}</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa0e0f3218ad4e41588e4f1bd301b0c8d">linesO</a>[idx] = {}</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;                    self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a95c194535839406f58e702cb49d03207">linesSender</a>[idx] = <span class="keywordtype">None</span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;</div>
<div class="line"><a name="l02742"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a6dae7182bb28e6d8df16c83ef7b57b68"> 2742</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6dae7182bb28e6d8df16c83ef7b57b68">converter_y</a> = Quantity(</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;                    1, Units.au_energy).toUU().magnitude</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;                <span class="comment"># save configuration to json file</span></div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;                with open(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3674fe4d7a64b874c544311c59ce71ba">path_config</a>, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> == self.ui.pushbutton_potential_calc:</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;                        keys = self.systemdict.keys_for_cprogram_potential</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;                    <span class="keywordflow">elif</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0160d657f0be712d865eae0989fd1dfb">samebasis</a>:</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;                        keys = self.systemdict.keys_for_cprogram_field12</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;                    <span class="keywordflow">elif</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> == self.ui.pushbutton_field1_calc:</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;                        keys = self.systemdict.keys_for_cprogram_field1</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;                    <span class="keywordflow">elif</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> == self.ui.pushbutton_field2_calc:</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;                        keys = self.systemdict.keys_for_cprogram_field2</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;                    params = {k: self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;                        k].toAU().magnitude <span class="keywordflow">for</span> k <span class="keywordflow">in</span> keys}</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> == self.ui.pushbutton_potential_calc:</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;                        params[<span class="stringliteral">&quot;zerotheta&quot;</span>] = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a> == 0</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;                    <span class="keywordflow">if</span> params[<span class="stringliteral">&quot;deltaNSingle&quot;</span>] &lt; 0:</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;                        params[<span class="stringliteral">&quot;deltaNSingle&quot;</span>] = -1</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;                    <span class="keywordflow">if</span> params[<span class="stringliteral">&quot;deltaLSingle&quot;</span>] &lt; 0:</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;                        params[<span class="stringliteral">&quot;deltaLSingle&quot;</span>] = -1</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;                    <span class="keywordflow">if</span> params[<span class="stringliteral">&quot;deltaJSingle&quot;</span>] &lt; 0:</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;                        params[<span class="stringliteral">&quot;deltaJSingle&quot;</span>] = -1</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;                    <span class="keywordflow">if</span> params[<span class="stringliteral">&quot;deltaMSingle&quot;</span>] &lt; 0:</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;                        params[<span class="stringliteral">&quot;deltaMSingle&quot;</span>] = -1</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> == self.ui.pushbutton_potential_calc <span class="keywordflow">and</span> self.ui.radiobutton_system_pairbasisSame.isChecked():</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;                        params[<span class="stringliteral">&quot;deltaNPair&quot;</span>] = -1</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;                        params[<span class="stringliteral">&quot;deltaLPair&quot;</span>] = -1</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;                        params[<span class="stringliteral">&quot;deltaJPair&quot;</span>] = -1</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;                        params[<span class="stringliteral">&quot;deltaMPair&quot;</span>] = -1</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a> != 0:</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;                        arrlabels = [[<span class="stringliteral">&quot;minEx&quot;</span>, <span class="stringliteral">&quot;minEy&quot;</span>, <span class="stringliteral">&quot;minEz&quot;</span>], [<span class="stringliteral">&quot;maxEx&quot;</span>, <span class="stringliteral">&quot;maxEy&quot;</span>, <span class="stringliteral">&quot;maxEz&quot;</span>], [</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;                            <span class="stringliteral">&quot;minBx&quot;</span>, <span class="stringliteral">&quot;minBy&quot;</span>, <span class="stringliteral">&quot;minBz&quot;</span>], [<span class="stringliteral">&quot;maxBx&quot;</span>, <span class="stringliteral">&quot;maxBy&quot;</span>, <span class="stringliteral">&quot;maxBz&quot;</span>]]</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;                        rotator = np.array([[np.cos(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>), 0, -np.sin(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)], [</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;                                           0, 1, 0], [np.sin(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>), 0, np.cos(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)]])</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;                        <span class="keywordflow">for</span> labels <span class="keywordflow">in</span> arrlabels:</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;                            fields = np.array([[params[label]]</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;                                               <span class="keywordflow">for</span> label <span class="keywordflow">in</span> labels])</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;                            fields = np.dot(rotator, fields).flatten()</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;                            <span class="keywordflow">for</span> field, label <span class="keywordflow">in</span> zip(fields, labels):</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;                                params[label] = field</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;                    <span class="stringliteral">&quot;&quot;&quot;if self.angle != 0 or params[&quot;minEx&quot;] != 0 or params[&quot;minEy&quot;] != 0 or params[&quot;maxEx&quot;] != 0 or params[&quot;maxEy&quot;] != 0 or params[&quot;minBx&quot;] != 0 or params[&quot;minBy&quot;] != 0 or params[&quot;maxBx&quot;] != 0 or params[&quot;maxBy&quot;] != 0:</span></div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;<span class="stringliteral">                        params[&quot;conserveM&quot;] = False</span></div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;<span class="stringliteral">                    else:</span></div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;<span class="stringliteral">                        params[&quot;conserveM&quot;] = True</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;<span class="stringliteral">                    if (self.senderbutton == self.ui.pushbutton_potential_calc and params[&quot;exponent&quot;] &gt; 3) or params[&quot;minEx&quot;] != 0 or params[&quot;minEy&quot;] != 0 or params[&quot;minEz&quot;] != 0 or params[&quot;maxEx&quot;] != 0 or params[&quot;maxEy&quot;] != 0 or params[&quot;maxEz&quot;] != 0:</span></div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;<span class="stringliteral">                        params[&quot;conserveParityL&quot;] = False</span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;<span class="stringliteral">                    else:</span></div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;<span class="stringliteral">                        params[&quot;conserveParityL&quot;] = True&quot;&quot;&quot;</span></div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;                    <span class="comment"># TODO make quantities of None type accessible without</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;                    <span class="comment"># .magnitude</span></div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;                    <span class="comment"># TODO remove this hack</span></div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> == self.ui.pushbutton_potential_calc <span class="keywordflow">and</span> params[<span class="stringliteral">&quot;exponent&quot;</span>] == 3:</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;                        params[<span class="stringliteral">&quot;dd&quot;</span>] = <span class="keyword">True</span></div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;                        params[<span class="stringliteral">&quot;dq&quot;</span>] = <span class="keyword">False</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;                        params[<span class="stringliteral">&quot;qq&quot;</span>] = <span class="keyword">False</span></div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;                    <span class="comment"># TODO remove this hack</span></div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;                    <span class="keywordflow">elif</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">senderbutton</a> == self.ui.pushbutton_potential_calc <span class="keywordflow">and</span> params[<span class="stringliteral">&quot;exponent&quot;</span>] == 2:</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;                        params[<span class="stringliteral">&quot;dd&quot;</span>] = <span class="keyword">False</span></div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;                        params[<span class="stringliteral">&quot;dq&quot;</span>] = <span class="keyword">False</span></div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;                        params[<span class="stringliteral">&quot;qq&quot;</span>] = <span class="keyword">False</span></div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;                    <span class="keywordflow">else</span>:  <span class="comment"># TODO remove this hack</span></div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;                        params[<span class="stringliteral">&quot;dd&quot;</span>] = <span class="keyword">True</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;                        params[<span class="stringliteral">&quot;dq&quot;</span>] = <span class="keyword">True</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;                        params[<span class="stringliteral">&quot;qq&quot;</span>] = <span class="keyword">True</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;                    json.dump(params, f, indent=4, sort_keys=<span class="keyword">True</span>)</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;                <span class="comment"># start c++ process</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;                <span class="keywordflow">if</span> params[<span class="stringliteral">&quot;minEy&quot;</span>] != 0 <span class="keywordflow">or</span> params[<span class="stringliteral">&quot;maxEy&quot;</span>] != 0 <span class="keywordflow">or</span> \</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;                        params[<span class="stringliteral">&quot;minBy&quot;</span>] != 0 <span class="keywordflow">or</span> params[<span class="stringliteral">&quot;maxBy&quot;</span>] != 0:</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;                    path_cpp = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aac6f957b795c64ac480b09b0816b5d5b">path_cpp_complex</a></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;                    path_cpp = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0a45dd87dd4723239acdba19109ea86b">path_cpp_real</a></div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;                <span class="keywordflow">if</span> os.name == <span class="stringliteral">&#39;nt&#39;</span>:</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;                    path_cpp += <span class="stringliteral">&#39;.exe&#39;</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;</div>
<div class="line"><a name="l02830"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#ae50cb310ac798e249c3d287a35cecbe8"> 2830</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae50cb310ac798e249c3d287a35cecbe8">numprocessors</a> = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;cores&quot;</span>].magnitude</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;                <span class="comment"># OMP_NUM_THREADS – Specifies the number of threads to</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;                <span class="comment"># use in parallel regions.  The value of this variable</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                <span class="comment"># shall be a comma-separated list of positive</span></div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;                <span class="comment"># integers; the value specified the number of threads</span></div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;                <span class="comment"># to use for the corresponding nested level.  If</span></div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;                <span class="comment"># undefined one thread per CPU is used.</span></div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;                ompthreads = {} <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae50cb310ac798e249c3d287a35cecbe8">numprocessors</a> == 0 <span class="keywordflow">else</span> {<span class="stringliteral">&#39;OMP_NUM_THREADS&#39;</span>: str(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae50cb310ac798e249c3d287a35cecbe8">numprocessors</a>)}</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa411fd6e17ac64709348b9e71e169758">proc</a> = subprocess.Popen([path_cpp, <span class="stringliteral">&quot;-c&quot;</span>, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a3674fe4d7a64b874c544311c59ce71ba">path_config</a>, <span class="stringliteral">&quot;-o&quot;</span>, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">path_cache</a>],</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                                             stdout=subprocess.PIPE, stderr=subprocess.STDOUT, cwd=self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa05626b1e49487ebfefb687929fb4fdb">path_workingdir</a>, env=dict(os.environ, **ompthreads))</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;</div>
<div class="line"><a name="l02842"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aa203c438bbd4ef975f3a0c2dd28f6026"> 2842</a></span>&#160;                self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa203c438bbd4ef975f3a0c2dd28f6026">starttime</a> = time()</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;                <span class="comment"># start thread that collects the output</span></div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;                self.thread.execute(self.proc.stdout)</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;                <span class="comment"># start timer used for processing the results</span></div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;                self.timer.start(0)</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aba6275846fa0b0509cb2f5baaa019a35">abortCalculation</a>()</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    @QtCore.pyqtSlot()</div>
<div class="line"><a name="l02854"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#aa614f9a92cf3cdc3783e8181db115fcd"> 2854</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#aa614f9a92cf3cdc3783e8181db115fcd">saveResult</a>(self):</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;        senderbutton = self.sender()</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;        <span class="keywordflow">if</span> senderbutton == self.ui.pushbutton_field1_save:</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;            idx = 0</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;        <span class="keywordflow">elif</span> senderbutton == self.ui.pushbutton_field2_save:</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;            idx = 1</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;        <span class="keywordflow">elif</span> senderbutton == self.ui.pushbutton_potential_save:</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;            idx = 2</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;        <span class="comment"># get filename</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;        path = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4d207f06452973d73bb4cbf07aa08259">plotfile</a> <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4d207f06452973d73bb4cbf07aa08259">plotfile</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e1f73e35c24ab57308c2c7192fae7e1">filepath</a></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;        <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">and</span> self.ui.checkbox_system_samebasis.isChecked():</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;            description = <span class="stringliteral">&quot;field map of atom 1 and 2&quot;</span></div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;            description = [<span class="stringliteral">&quot;field map of atom 1&quot;</span>,</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;                           <span class="stringliteral">&quot;field map of atom 2&quot;</span>, <span class="stringliteral">&quot;pair potential&quot;</span>][idx]</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;        filename, _ = QtGui.QFileDialog.getSaveFileName(self,</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                                                        <span class="stringliteral">&quot;Save {}&quot;</span>.format(description), path, <span class="stringliteral">&quot;zip (*.zip)&quot;</span>)</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> filename:</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;            <span class="keywordflow">return</span></div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a5dc7fa0fbd10ef4a43f2f758ea6d1978">resultfile</a> = filename</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e1f73e35c24ab57308c2c7192fae7e1">filepath</a> = os.path.dirname(filename)</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;        self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4d986d39976024504e855d4840799748">saveToZipfile</a>(filename, idx)</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;</div>
<div class="line"><a name="l02883"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a4d986d39976024504e855d4840799748"> 2883</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a4d986d39976024504e855d4840799748">saveToZipfile</a>(self, filename, idx):</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;        <span class="comment"># open zip file</span></div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        ziparchive = zipfile.ZipFile(</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;            filename, <span class="stringliteral">&#39;w&#39;</span>, compression=zipfile.ZIP_STORED)  <span class="comment"># zipfile.ZIP_DEFLATED</span></div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;        <span class="comment"># TODO sicherstellen, dass die Funktion auch ohne Plot / mit leerem</span></div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;        <span class="comment"># Plotwindow nicht abst?rzt</span></div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;            <span class="comment"># save plot</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;            plotitem = [self.ui.graphicsview_field1_plot, self.ui.graphicsview_field2_plot,</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;                        self.ui.graphicsview_potential_plot][idx].getPlotItem()</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;            exporter = exporters.ImageExporter(plotitem)</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;            exporter.parameters()[<span class="stringliteral">&#39;width&#39;</span>] = 2000</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;            exporter.parameters()[<span class="stringliteral">&#39;height&#39;</span>] = 2000</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;            exporter.parameters()[<span class="stringliteral">&#39;antialias&#39;</span>] = <span class="keyword">True</span></div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;            image = exporter.export(toBytes=<span class="keyword">True</span>)</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;            buffer = QtCore.QBuffer()</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;            buffer.open(QtCore.QIODevice.WriteOnly)</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;            image = image.scaled(</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;                1500, 1500, QtCore.Qt.KeepAspectRatio, QtCore.Qt.SmoothTransformation)</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;            image.save(buffer, <span class="stringliteral">&quot;PNG&quot;</span>)</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;            ziparchive.writestr(<span class="stringliteral">&#39;plot.png&#39;</span>, buffer.data())</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;            <span class="comment"># save configuration</span></div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;            ziparchive.writestr(</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;                <span class="stringliteral">&#39;settings.sconf&#39;</span>, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0e786c56cd0d032730ec4015f9094791">storage_configuration</a>[idx][0])</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;            ziparchive.writestr(</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;                <span class="stringliteral">&#39;settings.pconf&#39;</span>, self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0e786c56cd0d032730ec4015f9094791">storage_configuration</a>[idx][1])</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;            <span class="comment"># create data dictionary</span></div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;            data = {}</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;            data[<span class="stringliteral">&#39;numStates&#39;</span>] = 0</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;            data[<span class="stringliteral">&#39;numSteps&#39;</span>] = 0</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;            data[<span class="stringliteral">&#39;numEigenvectors&#39;</span>] = 0</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;            data[<span class="stringliteral">&#39;numOverlapvectors&#39;</span>] = 0</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;            data[<span class="stringliteral">&#39;states&#39;</span>] = []</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;            data[<span class="stringliteral">&#39;eigenvectors&#39;</span>] = []</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;            data[<span class="stringliteral">&#39;eigenvalues&#39;</span>] = []</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;            data[<span class="stringliteral">&#39;overlapvectors&#39;</span>] = []</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;            data[<span class="stringliteral">&#39;overlaps&#39;</span>] = []</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;            data[<span class="stringliteral">&#39;bfields&#39;</span>] = []</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;            data[<span class="stringliteral">&#39;efields&#39;</span>] = []</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;            <span class="keywordflow">if</span> idx == 2:</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;                data[<span class="stringliteral">&#39;distances&#39;</span>] = []</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;            <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;                data[</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;                    <span class="stringliteral">&#39;states_description&#39;</span>] = <span class="stringliteral">&#39;state(idxState, {idxState, n, l, j, m})&#39;</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;            <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;                data[</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;                    <span class="stringliteral">&#39;states_description&#39;</span>] = <span class="stringliteral">&#39;state(idxState, {idxState, n1, l1, j1, m1, n2, l2, j2, m2})&#39;</span></div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;            data[</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;                <span class="stringliteral">&#39;eigenvectors_description&#39;</span>] = <span class="stringliteral">&#39;eigenvectorcoordinate(0, idxStep)(idxState, idxEigenvector)&#39;</span></div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;            data[</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                <span class="stringliteral">&#39;eigenvalues_description&#39;</span>] = <span class="stringliteral">&#39;eigenvalue(idxStep, idxEigenvector)&#39;</span></div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;            data[</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                <span class="stringliteral">&#39;overlapvectors_description&#39;</span>] = <span class="stringliteral">&#39;overlapvectorcoordinate(idxOverlapvector, idxState)&#39;</span></div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;            data[<span class="stringliteral">&#39;overlaps_description&#39;</span>] = <span class="stringliteral">&#39;overlap(idxStep, idxEigenvector)&#39;</span></div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;            data[<span class="stringliteral">&#39;bfields_description&#39;</span>] = <span class="stringliteral">&#39;bfield(idxStep, {Bx, By, Bz})&#39;</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;            data[<span class="stringliteral">&#39;efields_description&#39;</span>] = <span class="stringliteral">&#39;efield(idxStep, {Ex, Ey, Ez})&#39;</span></div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;            <span class="keywordflow">if</span> idx == 2:</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;                data[<span class="stringliteral">&#39;distances_description&#39;</span>] = <span class="stringliteral">&#39;distance(0, idxStep)&#39;</span></div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;            <span class="comment"># save states</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae13f97a88abfbe6b994208961a760aa2">storage_states</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;                <span class="comment"># nState, i-n1-l1-j1-m1-n2-l2-j2-m2 # nState, i-n-l-j-m</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;                data[<span class="stringliteral">&#39;states&#39;</span>] = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#ae13f97a88abfbe6b994208961a760aa2">storage_states</a>[idx]</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;                data[<span class="stringliteral">&#39;numStates&#39;</span>] = len(data[<span class="stringliteral">&#39;states&#39;</span>])</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;            <span class="comment"># save overlaps</span></div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;                data[<span class="stringliteral">&#39;numOverlapvectors&#39;</span>] = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx].shape[0]</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;                data[<span class="stringliteral">&#39;overlapvectors&#39;</span>] = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx]</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;            <span class="comment"># save data</span></div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;            <span class="comment"># TODO Variablen an anderer Stelle anlegen</span></div>
<div class="line"><a name="l02963"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a7f617c41f2b29f2c26aa752457a502c0"> 2963</a></span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7f617c41f2b29f2c26aa752457a502c0">converter_bfield</a> = \</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                Quantity(1, Units.au_bfield).toUU().magnitude</div>
<div class="line"><a name="l02965"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#af4821fc7680d145f0c56c6a0105d25de"> 2965</a></span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af4821fc7680d145f0c56c6a0105d25de">converter_efield</a> = \</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;                Quantity(1, Units.au_efield).toUU().magnitude</div>
<div class="line"><a name="l02967"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a13a9d95ed5fee644e82e643b291389de"> 2967</a></span>&#160;            self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a13a9d95ed5fee644e82e643b291389de">converter_length</a> = \</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;                Quantity(1, Units.au_length).toUU().magnitude</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;            rotator = np.array([[np.cos(-self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>), 0, -np.sin(-self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)],</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;                                [0, 1, 0],</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;                                [np.sin(-self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>), 0, np.cos(-self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)]])  <span class="comment"># TODO !!!!!!!!! self.angle[idx] verwenden</span></div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;            filestep_last = <span class="keywordtype">None</span></div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;            <span class="keywordflow">for</span> filestep, blocknumber, filename <span class="keywordflow">in</span> sorted(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a21a8a7b0183d0754d3b2246f66fb22db">storage_data</a>[idx], key=itemgetter(0, 1)):</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;                eigensystem = Eigensystem(filename)</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;                energies = eigensystem.energies * self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a6dae7182bb28e6d8df16c83ef7b57b68">converter_y</a>  <span class="comment"># nBasis</span></div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;                <span class="comment"># nState, nBasis (stored in Compressed Sparse Column format,</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;                <span class="comment"># CSC)</span></div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;                basis = eigensystem.basis</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;                    overlaps = np.abs(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;                                      idx].conjugate() * basis)</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;                    overlaps.data **= 2</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;                    overlaps = overlaps.sum(axis=0).getA1()</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                <span class="keywordflow">if</span> filestep != filestep_last:  <span class="comment"># new step</span></div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;                    field = np.array([float(eigensystem.params[<span class="stringliteral">&quot;Bx&quot;</span>]), float(</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;                        eigensystem.params[<span class="stringliteral">&quot;By&quot;</span>]), float(eigensystem.params[<span class="stringliteral">&quot;Bz&quot;</span>])])</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                    data[<span class="stringliteral">&#39;bfields&#39;</span>].append(</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;                        np.dot(rotator, field).flatten() * self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a7f617c41f2b29f2c26aa752457a502c0">converter_bfield</a>)</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;                    field = np.array([float(eigensystem.params[<span class="stringliteral">&quot;Ex&quot;</span>]), float(</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;                        eigensystem.params[<span class="stringliteral">&quot;Ey&quot;</span>]), float(eigensystem.params[<span class="stringliteral">&quot;Ez&quot;</span>])])</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;                    data[<span class="stringliteral">&#39;efields&#39;</span>].append(</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;                        np.dot(rotator, field).flatten() * self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af4821fc7680d145f0c56c6a0105d25de">converter_efield</a>)</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;                    <span class="keywordflow">if</span> idx == 2:</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;                        data[<span class="stringliteral">&#39;distances&#39;</span>].append(</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;                            float(eigensystem.params[<span class="stringliteral">&quot;</span><span class="stringliteral">R&quot;]) * self.converter_length)</span></div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;<span class="stringliteral">                    data[</span><span class="stringliteral">&#39;eigenvectors&#39;</span>].append(basis)</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;                    data[<span class="stringliteral">&#39;eigenvalues&#39;</span>].append(energies)</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;                        data[<span class="stringliteral">&#39;overlaps&#39;</span>].append(overlaps)</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;                <span class="keywordflow">else</span>:  <span class="comment"># new block</span></div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;                    <a class="code" href="namespacepairinteraction_1_1utils.html#aeb102733dc9511447e504277ccaf9cde">csc_happend</a>(data[<span class="stringliteral">&#39;eigenvectors&#39;</span>][-1], basis)</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;                    data[</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;                        <span class="stringliteral">&#39;eigenvalues&#39;</span>][-1] = np.append(data[<span class="stringliteral">&#39;eigenvalues&#39;</span>][-1], energies)</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">stateidx_field</a>[idx] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;                        data[</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;                            <span class="stringliteral">&#39;overlaps&#39;</span>][-1] = np.append(data[<span class="stringliteral">&#39;overlaps&#39;</span>][-1], overlaps)</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;                filestep_last = filestep</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;            <span class="keywordflow">if</span> len(data[<span class="stringliteral">&#39;eigenvalues&#39;</span>]) &gt; 0:</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;                data[<span class="stringliteral">&#39;numSteps&#39;</span>] = len(data[<span class="stringliteral">&#39;eigenvalues&#39;</span>])</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;                data[<span class="stringliteral">&#39;numEigenvectors&#39;</span>] = len(data[<span class="stringliteral">&#39;eigenvalues&#39;</span>][0])</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;            <span class="keywordflow">if</span> self.ui.radiobutton_system_quantizationZ.isChecked() <span class="keywordflow">and</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a> != 0:</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;                <span class="comment"># find relevant states</span></div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;                statesum = np.zeros(data[<span class="stringliteral">&#39;numStates&#39;</span>], dtype=np.float)</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;                <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(data[<span class="stringliteral">&#39;numSteps&#39;</span>]):</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;                    statesum += np.abs(data[<span class="stringliteral">&#39;eigenvectors&#39;</span>]</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;                                       [s]).sum(axis=1).getA1()</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;                statesum += np.abs(data[<span class="stringliteral">&#39;overlapvectors&#39;</span>]).sum(axis=0).getA1()</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;                boolarr = statesum &gt; 0</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;                idxconverter = np.arange(data[<span class="stringliteral">&#39;numStates&#39;</span>])[boolarr]</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;                relevantstates = data[<span class="stringliteral">&#39;states&#39;</span>][boolarr]</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;                <span class="comment"># build transformator</span></div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;                <span class="keywordflow">if</span> len(data[<span class="stringliteral">&#39;states&#39;</span>][0]) == 5:</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                    shifts = [0]</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;                    shifts = [0, 4]</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;                <span class="keywordflow">for</span> selector <span class="keywordflow">in</span> shifts:</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;                    idx1 = []</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;                    idx2 = []</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;                    val = []</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;                    <span class="keywordflow">for</span> j <span class="keywordflow">in</span> np.unique(relevantstates[:, 3 + selector]):</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;                        arrM = np.unique(relevantstates[:, 4 + selector])</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;                        <span class="keywordflow">for</span> m1 <span class="keywordflow">in</span> arrM:  <span class="comment"># m_row</span></div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;                            <span class="keywordflow">if</span> np.abs(m1) &gt; j:</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;                                <span class="keywordflow">continue</span></div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;                            boolarr1 = np.all(</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;                                relevantstates[:, [3 + selector, 4 + selector]] == [j, m1], axis=-1)</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;                            idxconverter1 = idxconverter[boolarr1]</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;                            <span class="keywordflow">for</span> m2 <span class="keywordflow">in</span> arrM:  <span class="comment"># m_col</span></div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;                                <span class="keywordflow">if</span> np.abs(m2) &gt; j:</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;                                    <span class="keywordflow">continue</span></div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;                                boolarr2 = np.all(</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                                    relevantstates[:, [3 + selector, 4 + selector]] == [j, m2], axis=-1)</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;                                idxconverter2 = idxconverter[boolarr2]</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;                                nl1 = relevantstates[boolarr1][</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;                                    :, [1 + selector, 2 + selector]]</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;                                nl2 = relevantstates[boolarr2][</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;                                    :, [1 + selector, 2 + selector]]</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;                                matches = sparse.coo_matrix(</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;                                    np.all(nl1[:, <span class="keywordtype">None</span>, :] == nl2[<span class="keywordtype">None</span>, :, :], axis=-1))</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;                                wignerd = self.wignerd.calc(</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;                                    j, m2, m1, -self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">angle</a>)</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;                                idx1 += idxconverter1[matches.row].tolist()</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;                                idx2 += idxconverter2[matches.col].tolist()</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;                                val += [wignerd] * matches.nnz</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;                    <span class="keywordflow">if</span> selector == 0:</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;                        transformator = sparse.csc_matrix(</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;                            (val, (idx1, idx2)), shape=(data[<span class="stringliteral">&#39;numStates&#39;</span>], data[<span class="stringliteral">&#39;numStates&#39;</span>]))</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;                    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;                        transformator = transformator.multiply(sparse.csc_matrix(</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;                            (val, (idx1, idx2)), shape=(data[<span class="stringliteral">&#39;numStates&#39;</span>], data[<span class="stringliteral">&#39;numStates&#39;</span>])))</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;                <span class="comment"># write calculated wigner d matrix elements into the cache</span></div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;                self.wignerd.save()</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;                <span class="comment"># apply transformator</span></div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;                <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(data[<span class="stringliteral">&#39;numSteps&#39;</span>]):</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;                    data[<span class="stringliteral">&#39;eigenvectors&#39;</span>][s] = transformator * \</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;                        data[<span class="stringliteral">&#39;eigenvectors&#39;</span>][s]</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;                <span class="comment"># print(np.round(np.real(data[&#39;eigenvectors&#39;][0][boolarr][:,:5].todense()),2))</span></div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">systemdict</a>[<span class="stringliteral">&quot;matCombined&quot;</span>].magnitude <span class="keywordflow">is</span> <span class="keyword">True</span>:</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;                filelike = BytesIO()</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;                io.savemat(filelike, data, do_compression=<span class="keyword">False</span>,</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;                           format=<span class="stringliteral">&#39;5&#39;</span>, oned_as=<span class="stringliteral">&#39;row&#39;</span>)</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;                ziparchive.writestr(<span class="stringliteral">&#39;data.mat&#39;</span>, filelike.getvalue())</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;                <span class="keywordflow">for</span> idxStep <span class="keywordflow">in</span> range(data[<span class="stringliteral">&#39;numSteps&#39;</span>]):</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;                    data_stepwise = {}</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;numStates&#39;</span>] = data[<span class="stringliteral">&#39;numStates&#39;</span>]</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;numSteps&#39;</span>] = 1</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;numEigenvectors&#39;</span>] = data[<span class="stringliteral">&#39;numEigenvectors&#39;</span>]</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;numOverlapvectors&#39;</span>] = data[</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;                        <span class="stringliteral">&#39;numOverlapvectors&#39;</span>]</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;states&#39;</span>] = data[<span class="stringliteral">&#39;states&#39;</span>]</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;eigenvectors&#39;</span>] = [</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;                        data[<span class="stringliteral">&#39;eigenvectors&#39;</span>][idxStep]]</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;eigenvalues&#39;</span>] = [</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;                        data[<span class="stringliteral">&#39;eigenvalues&#39;</span>][idxStep]]</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;overlapvectors&#39;</span>] = data[<span class="stringliteral">&#39;overlapvectors&#39;</span>]</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;overlaps&#39;</span>] = [data[<span class="stringliteral">&#39;overlaps&#39;</span>][idxStep]]</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;bfields&#39;</span>] = [data[<span class="stringliteral">&#39;bfields&#39;</span>][idxStep]]</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;efields&#39;</span>] = [data[<span class="stringliteral">&#39;efields&#39;</span>][idxStep]]</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;                    <span class="keywordflow">if</span> idx == 2:</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;                        data_stepwise[<span class="stringliteral">&#39;distances&#39;</span>] = [</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;                            data[<span class="stringliteral">&#39;distances&#39;</span>][idxStep]]</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;                    <span class="keywordflow">if</span> idx == 0 <span class="keywordflow">or</span> idx == 1:</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;                        data_stepwise[<span class="stringliteral">&#39;states_description&#39;</span>] = \</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;                            <span class="stringliteral">&#39;state(idxState, {idxState, n, l, j, m})&#39;</span></div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;                    <span class="keywordflow">elif</span> idx == 2:</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;                        data_stepwise[<span class="stringliteral">&#39;states_description&#39;</span>] = \</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;                            <span class="stringliteral">&#39;state(idxState, {idxState, n1, l1, j1, m1, n2, l2, j2, m2})&#39;</span></div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;eigenvectors_description&#39;</span>] = \</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;                        <span class="stringliteral">&#39;eigenvectorcoordinate(0, 0)(idxState, idxEigenvector)&#39;</span></div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;eigenvalues_description&#39;</span>] = \</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;                        <span class="stringliteral">&#39;eigenvalue(0, idxEigenvector)&#39;</span></div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;overlapvectors_description&#39;</span>] = \</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;                        <span class="stringliteral">&#39;overlapvectorcoordinate(idxOverlapvector, idxState)&#39;</span></div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;overlaps_description&#39;</span>] = \</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                        <span class="stringliteral">&#39;overlap(0, idxEigenvector)&#39;</span></div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;bfields_description&#39;</span>] = \</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                        <span class="stringliteral">&#39;bfield(0, {Bx, By, Bz})&#39;</span></div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;                    data_stepwise[<span class="stringliteral">&#39;efields_description&#39;</span>] = \</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;                        <span class="stringliteral">&#39;efield(0, {Ex, Ey, Ez})&#39;</span></div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;                    <span class="keywordflow">if</span> idx == 2:</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;                        data_stepwise[<span class="stringliteral">&#39;distances_description&#39;</span>] = \</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;                            <span class="stringliteral">&#39;distance(0, 0)&#39;</span></div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;                    filelike = BytesIO()</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                    io.savemat(filelike, data_stepwise,</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;                               do_compression=<span class="keyword">False</span>, format=<span class="stringliteral">&#39;5&#39;</span>, oned_as=<span class="stringliteral">&#39;row&#39;</span>)</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;                    ziparchive.writestr(<span class="stringliteral">&#39;data_{:04d}.mat&#39;</span>.format(</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;                        idxStep), filelike.getvalue())</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;        <span class="keywordflow">finally</span>:</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;            <span class="comment"># close zip file</span></div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;            ziparchive.close()</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;        <span class="stringliteral">&quot;&quot;&quot; symmetry = eigensystem.params[&quot;symmetry&quot;] # TODO ausgelesene Symmetrie auch beim Plotten verwenden !!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span></div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;<span class="stringliteral">                # save configuration</span></div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;<span class="stringliteral">                if firstround:</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;<span class="stringliteral">                    firstround = False</span></div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;<span class="stringliteral">                    del eigensystem.params[&quot;Bx&quot;]</span></div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;<span class="stringliteral">                    del eigensystem.params[&quot;By&quot;]</span></div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;<span class="stringliteral">                    del eigensystem.params[&quot;Bz&quot;]</span></div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;<span class="stringliteral">                    del eigensystem.params[&quot;Ex&quot;]</span></div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;<span class="stringliteral">                    del eigensystem.params[&quot;Ey&quot;]</span></div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;<span class="stringliteral">                    del eigensystem.params[&quot;Ez&quot;]</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;<span class="stringliteral">                    if idx == 2:</span></div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;<span class="stringliteral">                        del eigensystem.params[&quot;</span><span class="stringliteral">R&quot;]</span></div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;<span class="stringliteral">                        del eigensystem.params[</span><span class="stringliteral">&quot;symmetry&quot;</span>]</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;                    <span class="comment"># TODO abgespeicherte Konfiguration ladbar machen</span></div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                    <a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e190994bbaaf494916ea18b9d0ad1e9">print</a>(eigensystem.params)<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;<span class="stringliteral">    @QtCore.pyqtSlot()</span></div>
<div class="line"><a name="l03173"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a886f7651907f1655f023e49f2c4fe3e6"> 3173</a></span>&#160;<span class="stringliteral">    def saveSystemConf(self):</span></div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;<span class="stringliteral">        path = self.systemfile if self.systemfile is not None else self.filepath</span></div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;<span class="stringliteral">        filename, _ = QtGui.QFileDialog.getSaveFileName(</span></div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;<span class="stringliteral">            self, &quot;Save system configuration&quot;, path, &quot;sconf (*.sconf)&quot;)</span></div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;<span class="stringliteral">        if filename:</span></div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;<span class="stringliteral">            self.saveSettingsSystem(filename)</span></div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;<span class="stringliteral">            self.systemfile = filename</span></div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;<span class="stringliteral">            self.filepath = os.path.dirname(filename)</span></div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;<span class="stringliteral">    @QtCore.pyqtSlot()</span></div>
<div class="line"><a name="l03184"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a2400114496a810746478808ba518f64d"> 3184</a></span>&#160;<span class="stringliteral">    def savePlotConf(self):</span></div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;<span class="stringliteral">        path = self.plotfile if self.plotfile is not None else self.filepath</span></div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;<span class="stringliteral">        filename, _ = QtGui.QFileDialog.getSaveFileName(</span></div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;<span class="stringliteral">            self, &quot;Save plot configuration&quot;, path, &quot;pconf (*.pconf)&quot;)</span></div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;<span class="stringliteral">        if filename:</span></div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;<span class="stringliteral">            self.saveSettingsPlotter(filename)</span></div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;<span class="stringliteral">            self.plotfile = filename</span></div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;<span class="stringliteral">            self.filepath = os.path.dirname(filename)</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<span class="stringliteral">    @QtCore.pyqtSlot()</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#accebe30275b240e9ec5a34efb5b9b5cd"> 3195</a></span>&#160;<span class="stringliteral">    def changeCacheDirectory(self):</span></div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;<span class="stringliteral">        text, ok = QtGui.QInputDialog.getText(self, &#39;Input Dialog&#39;,</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;<span class="stringliteral">                                              &#39;Enter new cache directory (the original directory is not deleted):&#39;, QtGui.QLineEdit.Normal, self.path_cache)</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;<span class="stringliteral">        if ok:</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;<span class="stringliteral">            self.path_cache = text</span></div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<span class="stringliteral">            if not os.path.exists(self.path_cache):</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;<span class="stringliteral">                os.makedirs(self.path_cache)</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;<span class="stringliteral">            # Save cache directory</span></div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;<span class="stringliteral">            with open(self.path_cache_last, &#39;w&#39;) as f:</span></div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;<span class="stringliteral">                json.dump({&quot;cachedir&quot;: self.path_cache},</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;<span class="stringliteral">                          f, indent=4, sort_keys=True)</span></div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;<span class="stringliteral">    @QtCore.pyqtSlot()</span></div>
<div class="line"><a name="l03210"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a1f629d6b316a6d6430b6dcfd9d4dc721"> 3210</a></span>&#160;<span class="stringliteral">    def clearCache(self):</span></div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;<span class="stringliteral">        files = [&#39;cache_elements.db&#39;, &#39;cache_matrix_complex.db&#39;, &#39;cache_matrix_real.db&#39;, &#39;cache_matrix_complex&#39;,</span></div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;<span class="stringliteral">                 &#39;cache_matrix_real&#39;]  # TODO: sicherstellen, dass gleiche Namen wie im C++ Programm</span></div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;<span class="stringliteral">        for file in files:</span></div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;<span class="stringliteral">            path = os.path.join(self.path_cache, file)</span></div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;<span class="stringliteral">            if os.path.isfile(path):</span></div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;<span class="stringliteral">                os.remove(path)</span></div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;<span class="stringliteral">            elif os.path.isdir(path):</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;<span class="stringliteral">                shutil.rmtree(path)</span></div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;<span class="stringliteral">        if os.path.isdir(self.path_cache_wignerd):</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;<span class="stringliteral">            shutil.rmtree(self.path_cache_wignerd)</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;<span class="stringliteral">        os.makedirs(self.path_cache_wignerd)</span></div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;<span class="stringliteral">    @QtCore.pyqtSlot()</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a77f8deb8a10ce9aa785b2a9650f5d6d7"> 3225</a></span>&#160;<span class="stringliteral">    def openSystemConf(self):</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="stringliteral">        filename, _ = QtGui.QFileDialog.getOpenFileName(self,</span></div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="stringliteral">                                                        &quot;Open system configuration&quot;, self.filepath, &quot;sconf (*.sconf)&quot;)</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="stringliteral">        if filename:</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<span class="stringliteral">            self.loadSettingsSystem(filename)</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;<span class="stringliteral">            self.systemfile = filename</span></div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;<span class="stringliteral">            self.filepath = os.path.dirname(filename)</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;<span class="stringliteral">    @QtCore.pyqtSlot()</span></div>
<div class="line"><a name="l03235"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#abde9abf5830c6da6428ca41e7995e918"> 3235</a></span>&#160;<span class="stringliteral">    def openPlotConf(self):</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;<span class="stringliteral">        filename, _ = QtGui.QFileDialog.getOpenFileName(self,</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;<span class="stringliteral">                                                        &quot;Open plot configuration&quot;, self.filepath, &quot;pconf (*.pconf)&quot;)</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<span class="stringliteral">        if filename:</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;<span class="stringliteral">            self.loadSettingsPlotter(filename)</span></div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;<span class="stringliteral">            self.plotfile = filename</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;<span class="stringliteral">            self.filepath = os.path.dirname(filename)</span></div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;<span class="stringliteral">    @QtCore.pyqtSlot()</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#acb3266a8e997021379ed920e3f628eb4"> 3245</a></span>&#160;<span class="stringliteral">    def resetSConf(self):</span></div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;<span class="stringliteral">        conf_used = self.path_system_last</span></div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;<span class="stringliteral">        conf_original = os.path.join(self.path_configurationdir, &quot;example.sconf&quot;)</span></div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;<span class="stringliteral">        if os.path.isfile(conf_used):</span></div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;<span class="stringliteral">            os.remove(conf_used)</span></div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;<span class="stringliteral">        shutil.copyfile(conf_original, conf_used)</span></div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;<span class="stringliteral">        self.loadSettingsSystem(conf_used)</span></div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;<span class="stringliteral">    @QtCore.pyqtSlot()</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a185fecc2006e1f68bd102dad334899bd"> 3255</a></span>&#160;<span class="stringliteral">    def resetPConf(self):</span></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;<span class="stringliteral">        conf_used = self.path_plot_last</span></div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;<span class="stringliteral">        conf_original = os.path.join(self.path_configurationdir, &quot;example.pconf&quot;)</span></div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;<span class="stringliteral">        if os.path.isfile(conf_used):</span></div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;<span class="stringliteral">            os.remove(conf_used)</span></div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;<span class="stringliteral">        shutil.copyfile(conf_original, conf_used)</span></div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;<span class="stringliteral">        self.loadSettingsPlotter(conf_used)</span></div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;<span class="stringliteral">    @QtCore.pyqtSlot()</span></div>
<div class="line"><a name="l03265"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a1e190994bbaaf494916ea18b9d0ad1e9"> 3265</a></span>&#160;<span class="stringliteral">    def print(self):</span></div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;<span class="stringliteral">        idx = self.ui.tabwidget_plotter.currentIndex()</span></div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;<span class="stringliteral">        if idx == 1 and self.ui.tabwidget_plotter.count() == 2:</span></div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;<span class="stringliteral">            idx = 2</span></div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;<span class="stringliteral">        # TODO initialize these variables already in the constructor</span></div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;<span class="stringliteral">        if self.storage_configuration[idx][0] is None:</span></div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;<span class="stringliteral">            filelike = StringIO()</span></div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;<span class="stringliteral">            self.saveSettingsSystem(filelike)</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;<span class="stringliteral">            self.storage_configuration[idx][0] = filelike.getvalue()</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;<span class="stringliteral">        if self.storage_configuration[idx][1] is None:</span></div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;<span class="stringliteral">            filelike = StringIO()</span></div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;<span class="stringliteral">            self.saveSettingsPlotter(filelike)</span></div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;<span class="stringliteral">            self.storage_configuration[idx][1] = filelike.getvalue()</span></div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;<span class="stringliteral">        if self.unperturbedstate[idx] is None:</span></div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;<span class="stringliteral">            self.unperturbedstate[idx] = np.array([self.systemdict[&#39;n1&#39;].magnitude, self.systemdict[&#39;l1&#39;].magnitude, self.systemdict[&#39;j1&#39;].magnitude, self.systemdict[&#39;m1&#39;].magnitude,</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;<span class="stringliteral">                                                   self.systemdict[&#39;n2&#39;].magnitude, self.systemdict[&#39;l2&#39;].magnitude, self.systemdict[&#39;j2&#39;].magnitude, self.systemdict[&#39;m2&#39;].magnitude])</span></div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;<span class="stringliteral">        if self.overlapstate[idx] is None:</span></div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;<span class="stringliteral">            if self.ui.radiobutton_plot_overlapUnperturbed.isChecked():</span></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;<span class="stringliteral">                self.overlapstate[idx] = self.unperturbedstate[idx]</span></div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;<span class="stringliteral">            else:</span></div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;<span class="stringliteral">                self.overlapstate[idx] = np.array([self.plotdict[&#39;n1&#39;].magnitude, self.plotdict[&#39;l1&#39;].magnitude, self.plotdict[&#39;j1&#39;].magnitude, self.plotdict[&#39;m1&#39;].magnitude,</span></div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;<span class="stringliteral">                                                   self.plotdict[&#39;n2&#39;].magnitude, self.plotdict[&#39;l2&#39;].magnitude, self.plotdict[&#39;j2&#39;].magnitude, self.plotdict[&#39;m2&#39;].magnitude])</span></div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;<span class="stringliteral">        dialog = QPrintDialog(self.printer, self)</span></div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;<span class="stringliteral">        if dialog.exec_() == QPrintDialog.Accepted:</span></div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;<span class="stringliteral">            tabname = self.ui.tabwidget_plotter.tabText(idx)</span></div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;<span class="stringliteral">            # TODO check if results exist !!!!!!!!!!!!!!!!!!</span></div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;<span class="stringliteral">            # TODO reihenfolge plot settings umdrehen  !!!!!!!!!!!!!!!!!!</span></div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;<span class="stringliteral">            &#39;&#39;&#39;if idx == 2: pairpotential = 1</span></div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;<span class="stringliteral">            else: pairpotential = 0&#39;&#39;&#39;</span></div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;<span class="stringliteral">            painter = QtGui.QPainter(self.printer)</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;<span class="stringliteral">            # printer settings</span></div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;<span class="stringliteral">            spacer = QtCore.QRectF(painter.viewport()).height() / 40</span></div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;<span class="stringliteral">            font = QtGui.QFont(&quot;Helvetica&quot;, 10)</span></div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;<span class="stringliteral">            margin = 30</span></div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;<span class="stringliteral">            penwidth = 30</span></div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;<span class="stringliteral">            # load configuration</span></div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;<span class="stringliteral">            sconf = json.loads(self.storage_configuration[idx][0])</span></div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;<span class="stringliteral">            pconf = json.loads(self.storage_configuration[idx][1])</span></div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;<span class="stringliteral">            su = [&quot;&quot;] * 8</span></div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;<span class="stringliteral">            st = self.unperturbedstate[idx]</span></div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;<span class="stringliteral">            for k in [0, 4]:</span></div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;<span class="stringliteral">                su[k] = &quot;{}&quot;.format(int(st[k]))</span></div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;<span class="stringliteral">            for k in [1, 5]:</span></div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;<span class="stringliteral">                if int(st[k]) &gt;= 0 and int(st[k]) &lt; len(self.momentslabels):</span></div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;<span class="stringliteral">                    su[k] = self.momentslabels[int(st[k])]</span></div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;<span class="stringliteral">                else:</span></div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;<span class="stringliteral">                    su[k] = &quot;{}&quot;.format(int(st[k]))</span></div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;<span class="stringliteral">            for k in [2, 3, 6, 7]:</span></div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;<span class="stringliteral">                if float(st[k]).is_integer():</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;<span class="stringliteral">                    ssuo[k] = &quot;{}&quot;.format(int(st[k]))</span></div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;<span class="stringliteral">                else:</span></div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;<span class="stringliteral">                    su[k] = &quot;{}/2&quot;.format(int(2 * float(st[k])))</span></div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;<span class="stringliteral">            so = [&quot;&quot;] * 8</span></div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;<span class="stringliteral">            st = self.overlapstate[idx]</span></div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;<span class="stringliteral">            for k in [0, 4]:</span></div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;<span class="stringliteral">                so[k] = &quot;{}&quot;.format(int(st[k]))</span></div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;<span class="stringliteral">            for k in [1, 5]:</span></div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;<span class="stringliteral">                if int(st[k]) &gt;= 0 and int(st[k]) &lt; len(self.momentslabels):</span></div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;<span class="stringliteral">                    so[k] = self.momentslabels[int(st[k])]</span></div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;<span class="stringliteral">                else:</span></div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;<span class="stringliteral">                    so[k] = &quot;{}&quot;.format(int(st[k]))</span></div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;<span class="stringliteral">            for k in [2, 3, 6, 7]:</span></div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;<span class="stringliteral">                if float(st[k]).is_integer():</span></div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;<span class="stringliteral">                    so[k] = &quot;{}&quot;.format(int(st[k]))</span></div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;<span class="stringliteral">                else:</span></div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;<span class="stringliteral">                    so[k] = &quot;{}/2&quot;.format(int(2 * float(st[k])))</span></div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;<span class="stringliteral">            if sconf[&quot;pairbasisSame&quot;][0]:</span></div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;<span class="stringliteral">                sconf[&quot;deltaNPair&quot;][0] = -1</span></div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;<span class="stringliteral">                sconf[&quot;deltaLPair&quot;][0] = -1</span></div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;<span class="stringliteral">                sconf[&quot;deltaJPair&quot;][0] = -1</span></div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;<span class="stringliteral">                sconf[&quot;deltaMPair&quot;][0] = -1</span></div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;<span class="stringliteral">            interaction = &quot;multipole expansion up to order {}&quot;.format(sconf[</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;<span class="stringliteral">                                                                      &quot;exponent&quot;][0])</span></div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;<span class="stringliteral">            # text formating</span></div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;<span class="stringliteral">            &#39;&#39;&#39;if idx in [0,2] or sconf[&quot;pairbasisSame&quot;][0]:</span></div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;<span class="stringliteral">                u1l = &quot;&lt;b&gt;&quot;</span></div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;<span class="stringliteral">                u1r = &quot;&lt;/b&gt;&quot;</span></div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;<span class="stringliteral">            else:</span></div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;<span class="stringliteral">                u1l = &quot;&quot;</span></div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;<span class="stringliteral">                u1r = &quot;&quot;</span></div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;<span class="stringliteral">            if idx in [1,2] or sconf[&quot;pairbasisSame&quot;][0]:</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;<span class="stringliteral">                u2l = &quot;&lt;b&gt;&quot;</span></div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;<span class="stringliteral">                u2r = &quot;&lt;/b&gt;&quot;</span></div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;<span class="stringliteral">            else:</span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;<span class="stringliteral">                u2l = &quot;&quot;</span></div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;<span class="stringliteral">                u2r = &quot;&quot;&#39;&#39;&#39;</span></div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;<span class="stringliteral">            u1l = &quot;&quot;</span></div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;<span class="stringliteral">            u1r = &quot;&quot;</span></div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;<span class="stringliteral">            u2l = &quot;&quot;</span></div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;<span class="stringliteral">            u2r = &quot;&quot;</span></div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;<span class="stringliteral">            # image</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;<span class="stringliteral">            plotitem = [self.ui.graphicsview_field1_plot, self.ui.graphicsview_field2_plot,</span></div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;<span class="stringliteral">                        self.ui.graphicsview_potential_plot][idx].getPlotItem()</span></div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;<span class="stringliteral">            exporter = exporters.ImageExporter(plotitem)</span></div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;<span class="stringliteral">            exporter.parameters()[&#39;antialias&#39;] = True</span></div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;<span class="stringliteral">            # colormap</span></div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;<span class="stringliteral">            arr = self.ui.gradientwidget_plot_gradient.getLookupTable(</span></div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;<span class="stringliteral">                501, alpha=False)</span></div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;<span class="stringliteral">            arr[0] = 0</span></div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;<span class="stringliteral">            arr[250] = 0</span></div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;<span class="stringliteral">            arr[-1] = 0</span></div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;<span class="stringliteral">            bgra = np.empty((1, 501, 4), np.uint8, &#39;C&#39;)</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;<span class="stringliteral">            bgra[..., 0] = arr[..., 2]</span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;<span class="stringliteral">            bgra[..., 1] = arr[..., 1]</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;<span class="stringliteral">            bgra[..., 2] = arr[..., 0]</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;<span class="stringliteral">            image_colormap = QtGui.QImage(</span></div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;<span class="stringliteral">                bgra.data, 501, 1, QtGui.QImage.Format_RGB32)</span></div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;<span class="stringliteral">            image_colormap.ndarray = bgra</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;<span class="stringliteral">            # --- generate description ---</span></div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;<span class="stringliteral">            rect = QtCore.QRectF(painter.viewport())</span></div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="stringliteral">            doc = QtGui.QTextDocument()</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;<span class="stringliteral">            doc.documentLayout().setPaintDevice(self.printer)</span></div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;<span class="stringliteral">            doc.setDefaultFont(font)</span></div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;<span class="stringliteral">            doc.setPageSize(rect.size())</span></div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;<span class="stringliteral">            text = &quot;&quot;</span></div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;<span class="stringliteral">            # text += &quot;&lt;h3&gt;System configuration&lt;/h3&gt;&quot;</span></div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;<span class="stringliteral">            # state</span></div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;<span class="stringliteral">            text += &quot;&lt;h4&gt;Unperturbed state&lt;/h4&gt;&quot;</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;<span class="stringliteral">            text += &quot;&lt;table cellspacing=5&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;| &quot; + u1l + &quot;{} {} {}&lt;sub&gt;{}&lt;/sub&gt;, m={}&quot;.format(sconf[&quot;species1&quot;][0], su[0], su[1], su[2], su[3]) + u1r + &quot;; &quot; +\</span></div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;<span class="stringliteral">                u2l + &quot;{} {} {}&lt;sub&gt;{}&lt;/sub&gt;, m={}&quot;.format(sconf[&quot;species2&quot;][0], su[4], su[</span></div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;<span class="stringliteral">                                                           5], su[6], su[7]) + u2r + &quot; &amp;gt;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;<span class="stringliteral">            text += &quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;<span class="stringliteral">            &#39;&#39;&#39;text += &quot;unperturbed state &quot;</span></div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;<span class="stringliteral">            text += &quot;| &quot;+u1l+&quot;{} {} {}&lt;sub&gt;{}/2&lt;/sub&gt;, m={}/2&quot;.format(sconf[&quot;species1&quot;][0],sconf[&quot;n2&quot;][0],sconf[&quot;l1&quot;][0],int(sconf[&quot;j1&quot;][0]*2),int(sconf[&quot;m1&quot;][0]*2))+u1r+&quot;; &quot;+\</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;<span class="stringliteral">                u2l+&quot;{} {} {}&lt;sub&gt;{}/2&lt;/sub&gt;, m={}/2&quot;.format(sconf[&quot;species2&quot;][0],sconf[&quot;n2&quot;][0],sconf[&quot;l2&quot;][0],int(sconf[&quot;j2&quot;][0]*2),int(sconf[&quot;m2&quot;][0]*2))+u2r+&quot; &gt;&quot;&#39;&#39;&#39;</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;<span class="stringliteral">            # basis</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;<span class="stringliteral">            text += &quot;&lt;h4&gt;Basis (use same basis for both atoms: {})&lt;/h4&gt;&quot;.format(</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;<span class="stringliteral">                {True: &quot;yes&quot;, False: &quot;no&quot;}[sconf[&quot;samebasis&quot;][0]])</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;<span class="stringliteral">            text += &quot;&lt;table cellspacing=5 width=100%&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;single atom state:&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;&amp;Delta;E = {} {}&lt;/td&gt;&quot;.format(</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;<span class="stringliteral">                sconf[&quot;deltaESingle&quot;][0], sconf[&quot;deltaESingle&quot;][1])</span></div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;&amp;Delta;n = {}&lt;/td&gt;&quot;.format(sconf[&quot;deltaNSingle&quot;][0])</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;&amp;Delta;l = {}&lt;/td&gt;&quot;.format(sconf[&quot;deltaLSingle&quot;][0])</span></div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;&amp;Delta;j = {}&lt;/td&gt;&quot;.format(sconf[&quot;deltaJSingle&quot;][0])</span></div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;&amp;Delta;m = {}&lt;/td&gt;&quot;.format(sconf[&quot;deltaMSingle&quot;][0])</span></div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;<span class="stringliteral">                text += &quot;&lt;/tr&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;<span class="stringliteral">                text += &quot;&lt;td&gt;pair state:&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;<span class="stringliteral">                text += &quot;&lt;td&gt;&amp;Delta;E = {} {}&lt;/td&gt;&quot;.format(</span></div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;<span class="stringliteral">                    sconf[&quot;deltaEPair&quot;][0], sconf[&quot;deltaEPair&quot;][1])</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;<span class="stringliteral">                text += &quot;&lt;td&gt;&amp;Delta;n = {}&lt;/td&gt;&quot;.format(sconf[&quot;deltaNPair&quot;][0])</span></div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;<span class="stringliteral">                text += &quot;&lt;td&gt;&amp;Delta;l = {}&lt;/td&gt;&quot;.format(sconf[&quot;deltaLPair&quot;][0])</span></div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;<span class="stringliteral">                text += &quot;&lt;td&gt;&amp;Delta;j = {}&lt;/td&gt;&quot;.format(sconf[&quot;deltaJPair&quot;][0])</span></div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;<span class="stringliteral">                text += &quot;&lt;td&gt;&amp;Delta;m = {}&lt;/td&gt;&quot;.format(sconf[&quot;deltaMPair&quot;][0])</span></div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;<span class="stringliteral">            text += &quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;<span class="stringliteral">            # interaction</span></div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;<span class="stringliteral">            text += &quot;&lt;h4&gt;Interaction (resolution: {} steps)&lt;/h4&gt;&quot;.format(</span></div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;<span class="stringliteral">                sconf[&quot;steps&quot;][0])</span></div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;<span class="stringliteral">            text += &quot;&lt;table cellspacing=5 width=100%&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;at start:&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;E = ({}, {}, {}) {}&lt;/td&gt;&quot;.format(sconf[&quot;minEx&quot;][0], sconf[</span></div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;<span class="stringliteral">                &quot;minEy&quot;][0], sconf[&quot;minEz&quot;][0], sconf[&quot;minEz&quot;][1])</span></div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;B = ({}, {}, {}) {}&lt;/td&gt;&quot;.format(sconf[&quot;minBx&quot;][0], sconf[</span></div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;<span class="stringliteral">                &quot;minBy&quot;][0], sconf[&quot;minBz&quot;][0], sconf[&quot;minBz&quot;][1])</span></div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;<span class="stringliteral">                text += &quot;&lt;td&gt;R = {} {}&lt;/td&gt;&quot;.format(</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;<span class="stringliteral">                    sconf[&quot;minR&quot;][0], sconf[&quot;minR&quot;][1])</span></div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;<span class="stringliteral">            text += &quot;&lt;/tr&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;at end:&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;E = ({}, {}, {}) {}&lt;/td&gt;&quot;.format(sconf[&quot;maxEx&quot;][0], sconf[</span></div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;<span class="stringliteral">                &quot;maxEy&quot;][0], sconf[&quot;maxEz&quot;][0], sconf[&quot;maxEz&quot;][1])</span></div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;<span class="stringliteral">            text += &quot;&lt;td&gt;B = ({}, {}, {}) {}&lt;/td&gt;&quot;.format(sconf[&quot;maxBx&quot;][0], sconf[</span></div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;<span class="stringliteral">                &quot;maxBy&quot;][0], sconf[&quot;maxBz&quot;][0], sconf[&quot;maxBz&quot;][1])</span></div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;<span class="stringliteral">                text += &quot;&lt;td&gt;R = {} {}&lt;/td&gt;&quot;.format(</span></div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;<span class="stringliteral">                    sconf[&quot;maxR&quot;][0], sconf[&quot;maxR&quot;][1])</span></div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;<span class="stringliteral">            text += &quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;<span class="stringliteral">                text += &quot;&lt;table cellspacing=5&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;<span class="stringliteral">                text += &quot;&lt;td&gt;{}, interaction angle {} {}&lt;/td&gt;&quot;.format(</span></div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;<span class="stringliteral">                    interaction, sconf[&quot;theta&quot;][0], sconf[&quot;theta&quot;][1])</span></div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;<span class="stringliteral">            if idx == 2:</span></div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;<span class="stringliteral">                text += &quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;<span class="stringliteral">            # text += &quot;&lt;h3&gt;{}&lt;/h3&gt;&quot;.format([&quot;Field map&quot;,&quot;Pair potential&quot;][1])</span></div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;<span class="stringliteral">            doc.setHtml(text)</span></div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;<span class="stringliteral">            height_doc = doc.documentLayout().documentSize().height()</span></div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;<span class="stringliteral">            # --- paint header ---</span></div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;<span class="stringliteral">            painter.save()</span></div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;<span class="stringliteral">            rect = QtCore.QRectF(painter.viewport())</span></div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;<span class="stringliteral">            doc_header = QtGui.QTextDocument()</span></div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;<span class="stringliteral">            doc_header.documentLayout().setPaintDevice(self.printer)</span></div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;<span class="stringliteral">            doc_header.setDefaultFont(font)</span></div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;<span class="stringliteral">            doc_header.setPageSize(rect.size())</span></div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;<span class="stringliteral">            text = &quot;&quot;</span></div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;<span class="stringliteral">            # header</span></div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;<span class="stringliteral">            # text += &quot;&lt;table cellspacing=5 width=&#39;100%&#39; bgcolor=&#39;#f0f0f0&#39;&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;<span class="stringliteral">            # text += &quot;&lt;td&gt;&lt;h1&gt;{}&lt;/h1&gt;&lt;/td&gt;&quot;.format([&quot;Field map of atom 1&quot;,&quot;Field map of atom 2&quot;,&quot;Pair potential&quot;,&quot;Field map of atom 1 and 2&quot;][idx])</span></div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;<span class="stringliteral">            # text += &quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;<span class="stringliteral">            text += &quot;&lt;table width=100%&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;<span class="stringliteral">            text += &quot;&lt;td align=left&gt;Rydberg interaction calculator&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;<span class="stringliteral">            text += &quot;&lt;td align=center&gt;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;<span class="stringliteral">            text += &quot;&lt;td align=right&gt;{}&lt;/td&gt;&quot;.format(</span></div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;<span class="stringliteral">                datetime.today().strftime(&quot;%x&quot;))</span></div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;<span class="stringliteral">            text += &quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;<span class="stringliteral">            text += &quot;&lt;h2&gt;{}&lt;/h2&gt;&quot;.format(tabname)</span></div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;<span class="stringliteral">            doc_header.setHtml(text)</span></div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;<span class="stringliteral">            height_header = doc_header.documentLayout().documentSize().height()</span></div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;<span class="stringliteral">            doc_header.drawContents(painter)</span></div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;<span class="stringliteral">            painter.restore()</span></div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;<span class="stringliteral">            # --- paint image ---</span></div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;<span class="stringliteral">            # pen = QtGui.QPen(QtGui.QColor(220, 220, 220), penwidth)</span></div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;<span class="stringliteral">            # pen.setJoinStyle(QtCore.Qt.RoundJoin);</span></div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;<span class="stringliteral">            # painter.setPen(pen)</span></div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;<span class="stringliteral">            # painter.drawRect(rect)</span></div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;<span class="stringliteral">            painter.save()</span></div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;<span class="stringliteral">            rect = painter.viewport()</span></div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;<span class="stringliteral">            rect = QtCore.QRect(rect.x(), rect.y() + height_header + 300, rect.width(</span></div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;<span class="stringliteral">            ), rect.height() - height_doc - height_header - 300 - 400 - spacer * 0.7 - 520)</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;<span class="stringliteral">            exporter.parameters()[&#39;width&#39;] = int(rect.width() / 4)</span></div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;<span class="stringliteral">            exporter.parameters()[&#39;height&#39;] = int(rect.height() / 4)</span></div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;<span class="stringliteral">            image = exporter.export(toBytes=True)</span></div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;<span class="stringliteral">            size = image.size()</span></div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;<span class="stringliteral">            size.scale(rect.size(), QtCore.Qt.KeepAspectRatio)</span></div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;<span class="stringliteral">            border = QtCore.QRect(rect.x() - 15, rect.y() - 15,</span></div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;<span class="stringliteral">                                  size.width() + 30, size.height() + 30 + spacer * 0.7 + 520)</span></div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;<span class="stringliteral">            pen = QtGui.QPen(QtGui.QColor(220, 220, 220), 70)</span></div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;<span class="stringliteral">            painter.setPen(pen)</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;<span class="stringliteral">            painter.drawRect(border)</span></div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;<span class="stringliteral">            pen = QtGui.QPen(QtGui.QColor(0, 0, 0), 10)</span></div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;<span class="stringliteral">            painter.setPen(pen)</span></div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;<span class="stringliteral">            painter.drawRect(border)</span></div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;<span class="stringliteral">            pen = QtGui.QPen(QtGui.QColor(0, 0, 0), 0)</span></div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;<span class="stringliteral">            painter.setPen(pen)</span></div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;<span class="stringliteral">            brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))</span></div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;<span class="stringliteral">            painter.setBrush(brush)</span></div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;<span class="stringliteral">            painter.drawRect(border)</span></div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;<span class="stringliteral">            painter.setViewport(rect.x(), rect.y(),</span></div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;<span class="stringliteral">                                size.width(), size.height())</span></div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;<span class="stringliteral">            painter.setWindow(image.rect())</span></div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;<span class="stringliteral">            painter.drawImage(0, 0, image)</span></div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;<span class="stringliteral">            height_image = size.height()</span></div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;<span class="stringliteral">            width_image = size.width()</span></div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;<span class="stringliteral">            height_box = size.height() + 30 + spacer * 0.7 + 520</span></div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;<span class="stringliteral">            painter.restore()</span></div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;<span class="stringliteral">            # --- paint colormap ---</span></div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;<span class="stringliteral">            painter.save()</span></div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;<span class="stringliteral">            rect = painter.viewport()</span></div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;<span class="stringliteral">            rect = QtCore.QRect(rect.x() + 70, rect.y() + height_image +</span></div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;<span class="stringliteral">                                height_header + 300 + spacer * 0.7 + 220, width_image - 140, 100)</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;<span class="stringliteral">            size = image_colormap.size()</span></div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;<span class="stringliteral">            size.scale(rect.size(), QtCore.Qt.IgnoreAspectRatio)</span></div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;<span class="stringliteral">            painter.save()</span></div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;<span class="stringliteral">            painter.setViewport(rect.x(), rect.y(),</span></div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;<span class="stringliteral">                                size.width(), size.height())</span></div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;<span class="stringliteral">            painter.setWindow(image_colormap.rect())</span></div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;<span class="stringliteral">            painter.drawImage(0, 0, image_colormap)</span></div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;<span class="stringliteral">            painter.restore()</span></div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;<span class="stringliteral">            border = QtCore.QRect(rect.x(), rect.y(),</span></div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;<span class="stringliteral">                                  size.width(), size.height())</span></div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;<span class="stringliteral">            pen = QtGui.QPen(QtGui.QColor(100, 100, 100), 5)</span></div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;<span class="stringliteral">            painter.setPen(pen)</span></div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;<span class="stringliteral">            painter.drawRect(border)</span></div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;<span class="stringliteral">            painter.restore()</span></div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;<span class="stringliteral">            painter.save()</span></div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;<span class="stringliteral">            doc_label = QtGui.QTextDocument()</span></div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;<span class="stringliteral">            doc_label.documentLayout().setPaintDevice(self.printer)</span></div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;<span class="stringliteral">            doc_label.setDefaultFont(font)</span></div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;<span class="stringliteral">            rect = QtCore.QRectF(rect.x(), rect.y() - 220, rect.width(), 999)</span></div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;<span class="stringliteral">            doc_label.setPageSize(rect.size())</span></div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;<span class="stringliteral">            text = &quot;&quot;</span></div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;<span class="stringliteral">            text += &quot;Overlap with | {} {} {}&lt;sub&gt;{}&lt;/sub&gt;, m={}; {} {} {}&lt;sub&gt;{}&lt;/sub&gt;, m={} &amp;gt;&quot;.\</span></div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;<span class="stringliteral">                    format(sconf[&quot;species1&quot;][0], so[0], so[1], so[2], so[3],</span></div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;<span class="stringliteral">                           sconf[&quot;species2&quot;][0], so[4], so[5], so[6], so[7])</span></div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;<span class="stringliteral">            text += &quot;&lt;br&gt;&quot;</span></div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;<span class="stringliteral">            text += &quot;&lt;table cellspacing=0 width=100%&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;<span class="stringliteral">            if pconf[&quot;log&quot;][0]:</span></div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;<span class="stringliteral">                text += &quot;&lt;td align=left&gt;&amp;lt; 0.01&lt;/td&gt;&lt;td align=center&gt;0.1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&lt;td align=right&gt;1&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;<span class="stringliteral">            else:</span></div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;<span class="stringliteral">                text += &quot;&lt;td align=left&gt;0&lt;/td&gt;&lt;td align=center&gt;0.5&lt;/td&gt;&lt;td align=right&gt;1&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;<span class="stringliteral">            text += &quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;<span class="stringliteral">            # text += &quot;&lt;h3&gt;{}&lt;/h3&gt;&quot;.format([&quot;Field map&quot;,&quot;Pair potential&quot;][1])</span></div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;<span class="stringliteral">            doc_label.setHtml(text)</span></div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;<span class="stringliteral">            painter.translate(rect.x(), rect.y())</span></div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;<span class="stringliteral">            doc_label.drawContents(painter)</span></div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;<span class="stringliteral">            painter.restore()</span></div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;<span class="stringliteral">            # --- paint description ---</span></div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;<span class="stringliteral">            painter.save()</span></div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;<span class="stringliteral">            painter.translate(0, height_box + 300 + height_header + 400)</span></div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;<span class="stringliteral">            doc.drawContents(painter)</span></div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;<span class="stringliteral">            painter.restore()</span></div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;<span class="stringliteral">            &quot;&quot;&quot;</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;            painter.save()</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;            rect = painter.viewport()</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;            rect = QtCore.QRect(rect.x(),rect.y()+height_doc+spacer*0.8,rect.width(),height_image+spacer*0.4)</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;            pen = QtGui.QPen(QtGui.QColor(0, 0, 0), 10)</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;            painter.setPen(pen)</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;            painter.drawLine(rect.topLeft(),rect.topRight())</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;            painter.drawLine(rect.bottomLeft(),rect.bottomRight())</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;            painter.restore()<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;<span class="stringliteral">            &quot;&quot;&quot;</span>rect = painter.viewport().size()</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;            size = image.size()</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;            size.scale(QtCore.QSize(rect.width()-2*margin,rect.height()-2*margin), QtCore.Qt.KeepAspectRatio)</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;            painter.setViewport(margin, height_doc+spacer+margin, size.width(), size.height())</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;            painter.setWindow(image.rect())</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;            painter.drawImage(0, 0, image)</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;            painter.restore()</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;            painter.save()</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;            pen = QtGui.QPen(QtGui.QColor(220, 220, 220), penwidth)</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;            <span class="comment">#pen = QtGui.QPen(QtGui.QColor(0, 0, 0), penwidth)</span></div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;            pen.setJoinStyle(QtCore.Qt.RoundJoin);</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;            painter.setPen(pen)</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;            painter.drawRect(QtCore.QRectF(penwidth/2+5, height_doc+spacer+penwidth/2+5, size.width()+2*margin-penwidth/2-5, size.height()+2*margin-penwidth/2-5))</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;            <span class="comment">#bound = QtCore.QRectF(5, height_doc+spacer+5, size.width()+2*margin-5, size.height()+2*margin-5-penwidth/2)</span></div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;            <span class="comment">#painter.drawLine(bound.bottomLeft(),bound.bottomRight())</span></div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;            <span class="comment">#painter.drawLine(bound.topLeft(),bound.topRight())</span></div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;            <span class="comment">#print(bound.bottomLeft(),bound.bottomRight())</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;            <span class="comment">#print(bound.bottomLeft(),bound.bottomRight())</span></div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;            plotheight = size.height()+2*margin<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;<span class="stringliteral">            &quot;&quot;&quot;</span><span class="comment"># --- paint settings ---</span></div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;            painter.save()</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;            doc = QtGui.QTextDocument()</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;            rect_doc = QtCore.QRectF(painter.viewport())</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;            rect_doc = QtCore.QRectF(0,plotheight+height_doc+2*spacer,rect_doc.width(),rect_doc.height()-plotheight-height_doc-2*spacer)</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;            <span class="comment">#painter.drawRect(rect_doc)</span></div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;            doc.documentLayout().setPaintDevice(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af96ad046e50ebfa5e9762c862f9adaff">printer</a>)</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;            doc.setDefaultFont(font)</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;            doc.setPageSize(rect_doc.size())</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;            <span class="comment">#ziparchive.writestr(&#39;settings.sconf&#39;, self.storage_configuration[idx][0])</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;            <span class="comment">#ziparchive.writestr(&#39;settings.pconf&#39;, self.storage_configuration[idx][1])</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;            sconf = json.loads(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0e786c56cd0d032730ec4015f9094791">storage_configuration</a>[idx][0])</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;            pconf = json.loads(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a0e786c56cd0d032730ec4015f9094791">storage_configuration</a>[idx][1])</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;            s1 = sconf[<span class="stringliteral">&quot;species1&quot;</span>][0]</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;            n1 = sconf[<span class="stringliteral">&quot;n1&quot;</span>][0]</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;            l1 = sconf[<span class="stringliteral">&quot;l1&quot;</span>][0]</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;            j1 = sconf[<span class="stringliteral">&quot;j1&quot;</span>][0]</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;            m1 = sconf[<span class="stringliteral">&quot;m1&quot;</span>][0]</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;            s2 = sconf[<span class="stringliteral">&quot;species2&quot;</span>][0]</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;            n2 = sconf[<span class="stringliteral">&quot;n2&quot;</span>][0]</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;            l2 = sconf[<span class="stringliteral">&quot;l2&quot;</span>][0]</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;            j2 = sconf[<span class="stringliteral">&quot;j2&quot;</span>][0]</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;            m2 = sconf[<span class="stringliteral">&quot;m2&quot;</span>][0]</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;            minEx = sconf[<span class="stringliteral">&quot;minEx&quot;</span>]</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;            minEy = sconf[<span class="stringliteral">&quot;minEy&quot;</span>]</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;            minEz = sconf[<span class="stringliteral">&quot;minEz&quot;</span>]</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;            maxEx = sconf[<span class="stringliteral">&quot;maxEx&quot;</span>]</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;            maxEy = sconf[<span class="stringliteral">&quot;maxEy&quot;</span>]</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;            maxEz = sconf[<span class="stringliteral">&quot;maxEz&quot;</span>]</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;            minBx = sconf[<span class="stringliteral">&quot;minBx&quot;</span>]</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;            minBy = sconf[<span class="stringliteral">&quot;minBy&quot;</span>]</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;            minBz = sconf[<span class="stringliteral">&quot;minBz&quot;</span>]</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;            maxBx = sconf[<span class="stringliteral">&quot;maxBx&quot;</span>]</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;            maxBy = sconf[<span class="stringliteral">&quot;maxBy&quot;</span>]</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;            maxBz = sconf[<span class="stringliteral">&quot;maxBz&quot;</span>]</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;            minR = sconf[<span class="stringliteral">&quot;minR&quot;</span>]</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;            maxR = sconf[<span class="stringliteral">&quot;maxR&quot;</span>]</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;            theta = sconf[<span class="stringliteral">&quot;theta&quot;</span>]</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;            steps = sconf[<span class="stringliteral">&quot;steps&quot;</span>][0]</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;            <span class="keywordflow">if</span> l1 &lt; len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a166618d26a037e32f3c6c83530b8c1fb">momentslabels</a>): l1 = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a166618d26a037e32f3c6c83530b8c1fb">momentslabels</a>[l1]</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;            <span class="keywordflow">if</span> l2 &lt; len(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a166618d26a037e32f3c6c83530b8c1fb">momentslabels</a>): l2 = self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#a166618d26a037e32f3c6c83530b8c1fb">momentslabels</a>[l2]</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;            text = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;            text += <span class="stringliteral">&quot;&lt;h4&gt;Unperturbed state&lt;/h4&gt;&quot;</span></div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;            text += <span class="stringliteral">&quot;&lt;table cellspacing=5 style=&#39;width:100%&#39;&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;| {} {} {}&lt;sub&gt;{}/2&lt;/sub&gt;, m={}/2; {} {} {}&lt;sub&gt;{}/2&lt;/sub&gt;, m={}/2 &gt;&lt;/td&gt;&quot;</span>.format(s1,n1,l1,int(j1*2),int(m1*2),s2,n2,l2,int(j2*2),int(m2*2))</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;            text += <span class="stringliteral">&quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;            text += <span class="stringliteral">&quot;&lt;h4&gt;Basis&lt;/h4&gt;&quot;</span></div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;            text += <span class="stringliteral">&quot;&lt;table cellspacing=5 style=&#39;width:100%&#39;&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;Delta;E&lt;sub&gt;single&lt;/sub&gt; = {} {}&lt;/td&gt;&quot;</span>.format(minEz[0], minEz[1])</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;Delta;n&lt;sub&gt;single&lt;/sub&gt; = {}&lt;/td&gt;&quot;</span>.format(0)</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;Delta;l&lt;sub&gt;single&lt;/sub&gt; = {}&lt;/td&gt;&quot;</span>.format(0)</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;Delta;j&lt;sub&gt;single&lt;/sub&gt; = {}&lt;/td&gt;&quot;</span>.format(0)</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;Delta;m&lt;sub&gt;single&lt;/sub&gt; = {}&lt;/td&gt;&quot;</span>.format(0)</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;            text += <span class="stringliteral">&quot;&lt;/tr&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;Delta;E&lt;sub&gt;pair&lt;/sub&gt; = {} {}&lt;/td&gt;&quot;</span>.format(maxEz[0], maxEz[1])</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;Delta;n&lt;sub&gt;pair&lt;/sub&gt; = {}&lt;/td&gt;&quot;</span>.format(0)</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;Delta;l&lt;sub&gt;pair&lt;/sub&gt; = {}&lt;/td&gt;&quot;</span>.format(0)</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;Delta;j&lt;sub&gt;pair&lt;/sub&gt; = {}&lt;/td&gt;&quot;</span>.format(0)</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;Delta;m&lt;sub&gt;pair&lt;/sub&gt; = {}&lt;/td&gt;&quot;</span>.format(0)</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;            text += <span class="stringliteral">&quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;            text += <span class="stringliteral">&quot;&lt;h4&gt;Fields and interaction&lt;/h4&gt;&quot;</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;            text += <span class="stringliteral">&quot;&lt;table cellspacing=5 style=&#39;width:100%&#39;&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;E&lt;sub&gt;start&lt;/sub&gt; = ({}, {}, {}) {}&lt;/td&gt;&quot;</span>.format(minEx[0], minEy[0], minEz[0], minEz[1])</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;E&lt;sub&gt;end&lt;/sub&gt; = ({}, {}, {}) {}&lt;/td&gt;&quot;</span>.format(maxEx[0], maxEy[0], maxEz[0], maxEz[1])</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;            text += <span class="stringliteral">&quot;&lt;/tr&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;B&lt;sub&gt;start&lt;/sub&gt; = ({}, {}, {}) {}&lt;/td&gt;&quot;</span>.format(minBx[0], minBy[0], minBz[0], minBz[1])</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;B&lt;sub&gt;end&lt;/sub&gt; = ({}, {}, {}) {}&lt;/td&gt;&quot;</span>.format(maxBx[0], maxBy[0], maxBz[0], maxBz[1])</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;            text += <span class="stringliteral">&quot;&lt;/tr&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;R&lt;sub&gt;start&lt;/sub&gt; = {} {}&lt;/td&gt;&quot;</span>.format(minR[0], minR[1])</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;</span></div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;R&lt;sub&gt;end&lt;/sub&gt; = {} {}&lt;/td&gt;&quot;</span>.format(maxR[0], maxR[1])</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;            text += <span class="stringliteral">&quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;            text += <span class="stringliteral">&quot;&lt;table cellspacing=5 style=&#39;width:100%&#39;&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;interaction angle: {} {}&lt;/td&gt;&quot;</span>.format(theta[0], theta[1])</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;            text += <span class="stringliteral">&quot;&lt;/tr&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;interaction order: dipole-dipole, dipole-quadrupole, quadrupole-quadrupole&lt;/td&gt;&quot;</span>.format(theta[0], theta[1])</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;            text += <span class="stringliteral">&quot;&lt;/tr&gt;&lt;tr&gt;&quot;</span></div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;            text += <span class="stringliteral">&quot;&lt;td&gt;steps: {}&lt;/td&gt;&quot;</span>.format(steps)</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;            text += <span class="stringliteral">&quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span></div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;            doc.setHtml(text)</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;            painter.translate(rect_doc.left(), rect_doc.top());</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;            doc.drawContents(painter)</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;            painter.restore()<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;<span class="stringliteral">            &quot;&quot;&quot;</span>rect = painter.viewport()</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;            size = self.image.size()</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;            size.scale(rect.size(), Qt.KeepAspectRatio)</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;            painter.setViewport(rect.x(), rect.y(), size.width(), size.height())</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;            painter.setWindow(self.image.rect())</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;            painter.drawImage(0, 0, self.image)<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;<span class="stringliteral">            &quot;&quot;&quot;</span>rect = painter.viewport()</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;            size = self.imageLabel.pixmap().size()</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;            size.scale(rect.size(), Qt.KeepAspectRatio)</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;            painter.setViewport(rect.x(), rect.y(), size.width(), size.height())</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;            painter.setWindow(self.imageLabel.pixmap().rect())</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;            painter.drawPixmap(0, 0, self.imageLabel.pixmap())</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;            painter.end()</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;            <span class="comment"># --- paint image ---</span></div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;            painter.save()</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;            plotitem = [self.ui.graphicsview_field1_plot, self.ui.graphicsview_field2_plot, self.ui.graphicsview_potential_plot][idx].getPlotItem()</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;            exporter = pg.exporters.ImageExporter(plotitem)</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;            exporter.parameters()[<span class="stringliteral">&#39;width&#39;</span>] = 2000</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;            exporter.parameters()[<span class="stringliteral">&#39;height&#39;</span>] = 2000</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;            exporter.parameters()[<span class="stringliteral">&#39;antialias&#39;</span>] = <span class="keyword">True</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;            image = exporter.export(toBytes=<span class="keyword">True</span>)</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;            margin = 30</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;            rect = painter.viewport().size()</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;            size = image.size()</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;            size.scale(QtCore.QSize(rect.width()-2*margin,rect.height()-2*margin), QtCore.Qt.KeepAspectRatio)</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;            painter.setViewport(margin, height_doc+spacer+margin, size.width(), size.height())</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;            painter.setWindow(image.rect())</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;            painter.drawImage(0, 0, image)</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;            painter.restore()</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;            painter.save()</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;            penwidth = 30</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;            pen = QtGui.QPen(QtGui.QColor(220, 220, 220), penwidth)</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;            <span class="comment">#pen = QtGui.QPen(QtGui.QColor(0, 0, 0), penwidth)</span></div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;            pen.setJoinStyle(QtCore.Qt.RoundJoin);</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;            painter.setPen(pen)</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;            painter.drawRect(QtCore.QRectF(penwidth/2+5, height_doc+spacer+penwidth/2+5, size.width()+2*margin-penwidth/2-5, size.height()+2*margin-penwidth/2-5))</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;            <span class="comment">#bound = QtCore.QRectF(5, height_doc+spacer+5, size.width()+2*margin-5, size.height()+2*margin-5-penwidth/2)</span></div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;            <span class="comment">#painter.drawLine(bound.bottomLeft(),bound.bottomRight())</span></div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;            <span class="comment">#painter.drawLine(bound.topLeft(),bound.topRight())</span></div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;            <span class="comment">#print(bound.bottomLeft(),bound.bottomRight())</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;            <span class="comment">#print(bound.bottomLeft(),bound.bottomRight())</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;            plotheight = size.height()+2*margin</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;            painter.restore()<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span>dialog = QPrintDialog(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af96ad046e50ebfa5e9762c862f9adaff">printer</a>, self)</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;        <span class="keywordflow">if</span> dialog.exec_():</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;            painter = QPainter(self.<a class="code" href="classpairinteraction_1_1app_1_1MainWindow.html#af96ad046e50ebfa5e9762c862f9adaff">printer</a>)</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;            rect = painter.viewport()</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;            size = self.imageLabel.pixmap().size()</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;            size.scale(rect.size(), Qt.KeepAspectRatio)</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;            painter.setViewport(rect.x(), rect.y(), size.width(), size.height())</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;            painter.setWindow(self.imageLabel.pixmap().rect())</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;            painter.drawPixmap(0, 0, self.imageLabel.pixmap())<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span>if(dialog.exec_() != QtGui.QDialog.Accepted):</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;            <span class="keywordflow">return</span></div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;        printLabel = QtGui.QLabel(<span class="stringliteral">&quot;Hello my printer.&quot;</span>)</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;        painter = QtGui.QPainter(printer)</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;        printLabel.render(painter)</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;        painter.end()<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03836"></a><span class="lineno"><a class="line" href="classpairinteraction_1_1app_1_1MainWindow.html#a544ce7a9bfb82d1c094442b9212e9cac"> 3836</a></span>&#160;<span class="stringliteral">    def closeEvent(self, event):</span></div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;<span class="stringliteral">        # Kill c++ program if necessary</span></div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;<span class="stringliteral">        self.abortCalculation()</span></div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;<span class="stringliteral">        # Save last settings</span></div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;<span class="stringliteral">        self.saveSettingsSystem(self.path_system_last)</span></div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;<span class="stringliteral">        self.saveSettingsPlotter(self.path_plot_last)</span></div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;<span class="stringliteral">        self.saveSettingsView(self.path_view_last)</span></div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;<span class="stringliteral">        # Close everything</span></div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;<span class="stringliteral">        super().closeEvent(event)</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03848"></a><span class="lineno"><a class="line" href="namespacepairinteraction_1_1app.html#ac5d7a4fb63c2879c3cb1e5c49c202633"> 3848</a></span>&#160;<span class="stringliteral">def main():</span></div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;<span class="stringliteral">    app = QtGui.QApplication(sys.argv)</span></div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;<span class="stringliteral">    form = MainWindow()</span></div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;<span class="stringliteral">    form.show()</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;<span class="stringliteral">    rc = app.exec_()</span></div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;<span class="stringliteral">    # Hack to avoid exit crashes</span></div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;<span class="stringliteral">    # http://stackoverflow.com/questions/11945183/what-are-good-practices-for-avoiding-crashes-hangs-in-pyqt</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;<span class="stringliteral">    del form</span></div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;<span class="stringliteral">    del app</span></div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;<span class="stringliteral">    os._exit(rc)</span></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aba942623c86090b253fc889feb4f6427"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aba942623c86090b253fc889feb4f6427">pairinteraction.app.MainWindow.colormap_buffer_minIdx_field</a></div><div class="ttdeci">colormap_buffer_minIdx_field</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00563">app.py:563</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a3bd04cd590b80ca03b911ea68c473e3c"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a3bd04cd590b80ca03b911ea68c473e3c">pairinteraction.app.MainWindow.minE</a></div><div class="ttdeci">minE</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02616">app.py:2616</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a60d1a37d4e2390b835d5d93578cdfa56"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a60d1a37d4e2390b835d5d93578cdfa56">pairinteraction.app.MainWindow.get1DPosition</a></div><div class="ttdeci">def get1DPosition</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01090">app.py:1090</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a921ae051197605d1537cd032b3cc4657"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a921ae051197605d1537cd032b3cc4657">pairinteraction.app.MainWindow.toggleOverlapstate</a></div><div class="ttdeci">def toggleOverlapstate</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02378">app.py:2378</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a791671f5d4e938e31e2e2afbb4a9c1cb"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a791671f5d4e938e31e2e2afbb4a9c1cb">pairinteraction.app.MainWindow.checkForData</a></div><div class="ttdeci">def checkForData</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01127">app.py:1127</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a2d572211f66ba0b63f871ef755dfdf74"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a2d572211f66ba0b63f871ef755dfdf74">pairinteraction.app.MainWindow.detectManualRangeX</a></div><div class="ttdeci">def detectManualRangeX</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02310">app.py:2310</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a1fe811b0303d79377d94d5c987852bbe"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a1fe811b0303d79377d94d5c987852bbe">pairinteraction.app.MainWindow.linesX</a></div><div class="ttdeci">linesX</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00601">app.py:601</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aaf6e8c273688e56d84d42e153ba5c2fd"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aaf6e8c273688e56d84d42e153ba5c2fd">pairinteraction.app.MainWindow.displayunits2pixelunits_x</a></div><div class="ttdeci">displayunits2pixelunits_x</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01891">app.py:1891</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a0d6db012037e3462b63744fa102a63be"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a0d6db012037e3462b63744fa102a63be">pairinteraction.app.MainWindow.validateHalfinteger</a></div><div class="ttdeci">def validateHalfinteger</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02533">app.py:2533</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_accebe30275b240e9ec5a34efb5b9b5cd"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#accebe30275b240e9ec5a34efb5b9b5cd">pairinteraction.app.MainWindow.changeCacheDirectory</a></div><div class="ttdeci">def changeCacheDirectory</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l03195">app.py:3195</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a5d1af5d82b37562a95bd7b6e5eb13f8d"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1af5d82b37562a95bd7b6e5eb13f8d">pairinteraction.app.MainWindow.validateHalfintegerOrMinusone</a></div><div class="ttdeci">def validateHalfintegerOrMinusone</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02546">app.py:2546</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a2de7bc129f30c1181a31ef8d30e7e18e"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a2de7bc129f30c1181a31ef8d30e7e18e">pairinteraction.app.MainWindow.toggleSamebasis</a></div><div class="ttdeci">def toggleSamebasis</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02429">app.py:2429</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aba6275846fa0b0509cb2f5baaa019a35"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aba6275846fa0b0509cb2f5baaa019a35">pairinteraction.app.MainWindow.abortCalculation</a></div><div class="ttdeci">def abortCalculation</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01116">app.py:1116</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a52db22ac19b682ed6e68bc8c5e823faa"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a52db22ac19b682ed6e68bc8c5e823faa">pairinteraction.app.MainWindow.lines_buffer_minIdx_field</a></div><div class="ttdeci">lines_buffer_minIdx_field</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00564">app.py:564</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_acb08c3fede0e6fd74a82508acdd0e02a"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#acb08c3fede0e6fd74a82508acdd0e02a">pairinteraction.app.MainWindow.saveSettingsSystem</a></div><div class="ttdeci">def saveSettingsSystem</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01047">app.py:1047</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a185fecc2006e1f68bd102dad334899bd"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a185fecc2006e1f68bd102dad334899bd">pairinteraction.app.MainWindow.resetPConf</a></div><div class="ttdeci">def resetPConf</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l03255">app.py:3255</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aadec4c0b1dfa443d0ab66e0fac48eaa5"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aadec4c0b1dfa443d0ab66e0fac48eaa5">pairinteraction.app.MainWindow.path_base</a></div><div class="ttdeci">path_base</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00471">app.py:471</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a17b5d9459f1d9f3fee1dbf7cb9252722"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a17b5d9459f1d9f3fee1dbf7cb9252722">pairinteraction.app.MainWindow.path_cache_last</a></div><div class="ttdeci">path_cache_last</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00510">app.py:510</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aa2f28078d3a8ce2f53ac55bb14a772e8"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aa2f28078d3a8ce2f53ac55bb14a772e8">pairinteraction.app.MainWindow.path_plot_last</a></div><div class="ttdeci">path_plot_last</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00506">app.py:506</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ac5d65b16183d15017cd8e2d93f25d02b"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ac5d65b16183d15017cd8e2d93f25d02b">pairinteraction.app.MainWindow.logscale</a></div><div class="ttdeci">logscale</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02446">app.py:2446</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ac9a756cac7c8831b9708b5e859b4df68"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ac9a756cac7c8831b9708b5e859b4df68">pairinteraction.app.MainWindow.getConstBField</a></div><div class="ttdeci">def getConstBField</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01101">app.py:1101</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a768fd3a31e3fca1498903c5f50267221"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a768fd3a31e3fca1498903c5f50267221">pairinteraction.app.MainWindow.startCalc</a></div><div class="ttdeci">def startCalc</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02564">app.py:2564</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_addf7aec4b2b494f302122748320ddbec"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#addf7aec4b2b494f302122748320ddbec">pairinteraction.app.MainWindow.buffer_energiesMap_potential</a></div><div class="ttdeci">buffer_energiesMap_potential</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00557">app.py:557</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ad6b6bc66026b9fdccaa2efd88033a7f4"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ad6b6bc66026b9fdccaa2efd88033a7f4">pairinteraction.app.MainWindow.quantizationgroup</a></div><div class="ttdeci">quantizationgroup</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00631">app.py:631</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ac8b112cc74c14f478cd49f988e0afd09"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ac8b112cc74c14f478cd49f988e0afd09">pairinteraction.app.MainWindow.buffer_energies</a></div><div class="ttdeci">buffer_energies</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00547">app.py:547</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a0577d7e5e93edf944ab8d5cc14c9504f"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a0577d7e5e93edf944ab8d5cc14c9504f">pairinteraction.app.MainWindow.systemfile</a></div><div class="ttdeci">systemfile</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00465">app.py:465</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_af2fa5142436aba45caa5abd1c4d2fb3f"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#af2fa5142436aba45caa5abd1c4d2fb3f">pairinteraction.app.MainWindow.systemdict</a></div><div class="ttdeci">systemdict</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00459">app.py:459</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a0160d657f0be712d865eae0989fd1dfb"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a0160d657f0be712d865eae0989fd1dfb">pairinteraction.app.MainWindow.samebasis</a></div><div class="ttdeci">samebasis</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00457">app.py:457</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aa4ea4bae7bdfe387b83419887bc28c34"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aa4ea4bae7bdfe387b83419887bc28c34">pairinteraction.app.MainWindow.detectManualRangeY</a></div><div class="ttdeci">def detectManualRangeY</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02326">app.py:2326</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ace152a2d97602cbf5338c5ddd667f956"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ace152a2d97602cbf5338c5ddd667f956">pairinteraction.app.MainWindow.momentumstrings</a></div><div class="ttdeci">momentumstrings</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00528">app.py:528</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a1e190994bbaaf494916ea18b9d0ad1e9"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a1e190994bbaaf494916ea18b9d0ad1e9">pairinteraction.app.MainWindow.print</a></div><div class="ttdeci">def print</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l03265">app.py:3265</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a16760c3dc39c8388b95dcd48a4d7780a"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a16760c3dc39c8388b95dcd48a4d7780a">pairinteraction.app.MainWindow.colormap_buffer_minIdx_potential</a></div><div class="ttdeci">colormap_buffer_minIdx_potential</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00562">app.py:562</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a3571be8368aaf16b4671f62bec63defa"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a3571be8368aaf16b4671f62bec63defa">pairinteraction.app.MainWindow.symgroup</a></div><div class="ttdeci">symgroup</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00637">app.py:637</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ab3d1f86d1472cde932f2916e14325d8e"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ab3d1f86d1472cde932f2916e14325d8e">pairinteraction.app.MainWindow.path_version</a></div><div class="ttdeci">path_version</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00514">app.py:514</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a419e4c55122138ac4bd5bbeb26aa7b97"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a419e4c55122138ac4bd5bbeb26aa7b97">pairinteraction.app.MainWindow.manualRangeX</a></div><div class="ttdeci">manualRangeX</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00590">app.py:590</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_af7f874b372ad9fb6034b2ebbe0956902"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#af7f874b372ad9fb6034b2ebbe0956902">pairinteraction.app.MainWindow.leftSmallerRight</a></div><div class="ttdeci">leftSmallerRight</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02648">app.py:2648</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_acb3266a8e997021379ed920e3f628eb4"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#acb3266a8e997021379ed920e3f628eb4">pairinteraction.app.MainWindow.resetSConf</a></div><div class="ttdeci">def resetSConf</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l03245">app.py:3245</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aee827a1ab0fe963062d0f35cf1284551"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aee827a1ab0fe963062d0f35cf1284551">pairinteraction.app.MainWindow.labelmat</a></div><div class="ttdeci">labelmat</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00526">app.py:526</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a8df176b9bd7dfd8fb366b74e8b78ba2e"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a8df176b9bd7dfd8fb366b74e8b78ba2e">pairinteraction.app.MainWindow.steps</a></div><div class="ttdeci">steps</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02621">app.py:2621</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a0df40ac1415dffe0c7e5ab1a8643260d"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a0df40ac1415dffe0c7e5ab1a8643260d">pairinteraction.app.MainWindow.samebasis_state</a></div><div class="ttdeci">samebasis_state</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00944">app.py:944</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a6c0265d83679e5b5201debe11b70fb2c"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a6c0265d83679e5b5201debe11b70fb2c">pairinteraction.app.MainWindow.thread</a></div><div class="ttdeci">thread</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00518">app.py:518</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a57387f4e030ba390543b7d0dbc04369a"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a57387f4e030ba390543b7d0dbc04369a">pairinteraction.app.MainWindow.angle</a></div><div class="ttdeci">angle</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02614">app.py:2614</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a7c7efde172775757f94c59f0f5fa176f"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a7c7efde172775757f94c59f0f5fa176f">pairinteraction.app.MainWindow.lut</a></div><div class="ttdeci">lut</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02633">app.py:2633</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_afe6cdffdad66d599b27a686ef7924de7"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#afe6cdffdad66d599b27a686ef7924de7">pairinteraction.app.MainWindow.validateHalfintegerpositiveOrMinusone</a></div><div class="ttdeci">def validateHalfintegerpositiveOrMinusone</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02538">app.py:2538</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a77f8deb8a10ce9aa785b2a9650f5d6d7"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a77f8deb8a10ce9aa785b2a9650f5d6d7">pairinteraction.app.MainWindow.openSystemConf</a></div><div class="ttdeci">def openSystemConf</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l03225">app.py:3225</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a312674c2f148f4dc892c1ae9f8429a09"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a312674c2f148f4dc892c1ae9f8429a09">pairinteraction.app.MainWindow.wignerd</a></div><div class="ttdeci">wignerd</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00926">app.py:926</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aa614f9a92cf3cdc3783e8181db115fcd"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aa614f9a92cf3cdc3783e8181db115fcd">pairinteraction.app.MainWindow.saveResult</a></div><div class="ttdeci">def saveResult</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02854">app.py:2854</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aa0e0f3218ad4e41588e4f1bd301b0c8d"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aa0e0f3218ad4e41588e4f1bd301b0c8d">pairinteraction.app.MainWindow.linesO</a></div><div class="ttdeci">linesO</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00603">app.py:603</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aaf7cd77b208c135332f4b2d88f5841b8"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aaf7cd77b208c135332f4b2d88f5841b8">pairinteraction.app.MainWindow.toggleSymmetrization</a></div><div class="ttdeci">def toggleSymmetrization</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02383">app.py:2383</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a13a9d95ed5fee644e82e643b291389de"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a13a9d95ed5fee644e82e643b291389de">pairinteraction.app.MainWindow.converter_length</a></div><div class="ttdeci">converter_length</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02967">app.py:2967</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a0e786c56cd0d032730ec4015f9094791"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a0e786c56cd0d032730ec4015f9094791">pairinteraction.app.MainWindow.storage_configuration</a></div><div class="ttdeci">storage_configuration</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00588">app.py:588</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aaa2166cad2d37ef03db28d6ef790aecc"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aaa2166cad2d37ef03db28d6ef790aecc">pairinteraction.app.MainWindow.buffer_overlapMap</a></div><div class="ttdeci">buffer_overlapMap</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00556">app.py:556</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a394cb4d74979db294099889650121500"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a394cb4d74979db294099889650121500">pairinteraction.app.MainWindow.yMin_field</a></div><div class="ttdeci">yMin_field</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00530">app.py:530</a></div></div>
<div class="ttc" id="namespacepairinteraction_1_1utils_html_a9649714345e7bd3d3193c3ebe6631d0e"><div class="ttname"><a href="namespacepairinteraction_1_1utils.html#a9649714345e7bd3d3193c3ebe6631d0e">pairinteraction.utils.csr_keepmax</a></div><div class="ttdeci">def csr_keepmax</div><div class="ttdef"><b>Definition:</b> <a href="utils_8py_source.html#l00178">utils.py:178</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a4083076abd93609ae7b07f9e083e1ef6"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a4083076abd93609ae7b07f9e083e1ef6">pairinteraction.app.MainWindow.timer</a></div><div class="ttdeci">timer</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00520">app.py:520</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a0a0285b26af6e3abb6a035b2a7bd2ace"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a0a0285b26af6e3abb6a035b2a7bd2ace">pairinteraction.app.MainWindow.path_lastsettings</a></div><div class="ttdeci">path_lastsettings</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00502">app.py:502</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a76196466b7d333cccf857661150ff10c"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a76196466b7d333cccf857661150ff10c">pairinteraction.app.MainWindow.manualRangeY</a></div><div class="ttdeci">manualRangeY</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00591">app.py:591</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a62500f4b7c611245092f762f0b1bbb81"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a62500f4b7c611245092f762f0b1bbb81">pairinteraction.app.MainWindow.buffer_positions_potential</a></div><div class="ttdeci">buffer_positions_potential</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00552">app.py:552</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a21a8a7b0183d0754d3b2246f66fb22db"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a21a8a7b0183d0754d3b2246f66fb22db">pairinteraction.app.MainWindow.storage_data</a></div><div class="ttdeci">storage_data</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00586">app.py:586</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a886f7651907f1655f023e49f2c4fe3e6"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a886f7651907f1655f023e49f2c4fe3e6">pairinteraction.app.MainWindow.saveSystemConf</a></div><div class="ttdeci">def saveSystemConf</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l03173">app.py:3173</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aac6f957b795c64ac480b09b0816b5d5b"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aac6f957b795c64ac480b09b0816b5d5b">pairinteraction.app.MainWindow.path_cpp_complex</a></div><div class="ttdeci">path_cpp_complex</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00491">app.py:491</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ae13f97a88abfbe6b994208961a760aa2"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ae13f97a88abfbe6b994208961a760aa2">pairinteraction.app.MainWindow.storage_states</a></div><div class="ttdeci">storage_states</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00587">app.py:587</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ae20d6cfb31ed60d077a86fc4cd982789"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ae20d6cfb31ed60d077a86fc4cd982789">pairinteraction.app.MainWindow.displayunits2pixelunits_y</a></div><div class="ttdeci">displayunits2pixelunits_y</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01893">app.py:1893</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ad7930f5dc98dec58307ca3535ca717e5"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ad7930f5dc98dec58307ca3535ca717e5">pairinteraction.app.MainWindow.overlapstate</a></div><div class="ttdeci">overlapstate</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00599">app.py:599</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a1e8c172c9582f259c48e7ee427df8294"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a1e8c172c9582f259c48e7ee427df8294">pairinteraction.app.MainWindow.converter_x</a></div><div class="ttdeci">converter_x</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02647">app.py:2647</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a5756de37786f4c2fa8961172ba488aa6"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a5756de37786f4c2fa8961172ba488aa6">pairinteraction.app.MainWindow.ui</a></div><div class="ttdeci">ui</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00452">app.py:452</a></div></div>
<div class="ttc" id="namespacepairinteraction_1_1utils_html_a1bb8f94091738f65efd1247c61410ccc"><div class="ttname"><a href="namespacepairinteraction_1_1utils.html#a1bb8f94091738f65efd1247c61410ccc">pairinteraction.utils.csr_vappend</a></div><div class="ttdeci">def csr_vappend</div><div class="ttdef"><b>Definition:</b> <a href="utils_8py_source.html#l00152">utils.py:152</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_af4821fc7680d145f0c56c6a0105d25de"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#af4821fc7680d145f0c56c6a0105d25de">pairinteraction.app.MainWindow.converter_efield</a></div><div class="ttdeci">converter_efield</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02965">app.py:2965</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a4af1d4282e9b70a2793f1c0bd0661931"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a4af1d4282e9b70a2793f1c0bd0661931">pairinteraction.app.MainWindow.path_out</a></div><div class="ttdeci">path_out</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00497">app.py:497</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a6dae7182bb28e6d8df16c83ef7b57b68"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a6dae7182bb28e6d8df16c83ef7b57b68">pairinteraction.app.MainWindow.converter_y</a></div><div class="ttdeci">converter_y</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02742">app.py:2742</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a681a6e5331862060886962b64294f4a1"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a681a6e5331862060886962b64294f4a1">pairinteraction.app.MainWindow.fitC3C6</a></div><div class="ttdeci">def fitC3C6</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02209">app.py:2209</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a1ca691364724b3ae1ece6cde64686c22"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a1ca691364724b3ae1ece6cde64686c22">pairinteraction.app.MainWindow.saveSettingsView</a></div><div class="ttdeci">def saveSettingsView</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01074">app.py:1074</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a9b737dc0d29c689bdfbb0a6d37f72c7c"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a9b737dc0d29c689bdfbb0a6d37f72c7c">pairinteraction.app.MainWindow.labelprob</a></div><div class="ttdeci">labelprob</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01476">app.py:1476</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a781536ebec2b59affe9f7ff6e4ccafcf"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a781536ebec2b59affe9f7ff6e4ccafcf">pairinteraction.app.MainWindow.iSelected</a></div><div class="ttdeci">iSelected</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00565">app.py:565</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_abccfb0957cca90c1f184c231cb73ec2d"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#abccfb0957cca90c1f184c231cb73ec2d">pairinteraction.app.MainWindow.path_cache_wignerd</a></div><div class="ttdeci">path_cache_wignerd</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00501">app.py:501</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a99a5c370b41caacc095f90b1e584b0ff"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a99a5c370b41caacc095f90b1e584b0ff">pairinteraction.app.MainWindow.adjustPairlimits</a></div><div class="ttdeci">def adjustPairlimits</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02342">app.py:2342</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a3d7e0756679ec7ad36d0e27c2c103bca"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a3d7e0756679ec7ad36d0e27c2c103bca">pairinteraction.app.MainWindow.buffer_basis_potential</a></div><div class="ttdeci">buffer_basis_potential</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00550">app.py:550</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a99d8def321731e763f57237bb33185ec"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a99d8def321731e763f57237bb33185ec">pairinteraction.app.MainWindow.validateIntegerpositiveOrMinusone</a></div><div class="ttdeci">def validateIntegerpositiveOrMinusone</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02554">app.py:2554</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a3568135ee3a3a6e26e67b56ab1813df8"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a3568135ee3a3a6e26e67b56ab1813df8">pairinteraction.app.MainWindow.linesData</a></div><div class="ttdeci">linesData</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00605">app.py:605</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a3e4ac2abc6ad3bd2d27d3cf489c88f59"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a3e4ac2abc6ad3bd2d27d3cf489c88f59">pairinteraction.app.MainWindow.momentummat</a></div><div class="ttdeci">momentummat</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00525">app.py:525</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_adb387dd28bbf38f6ff3e44673f366c03"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#adb387dd28bbf38f6ff3e44673f366c03">pairinteraction.app.MainWindow.labelstates</a></div><div class="ttdeci">labelstates</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00527">app.py:527</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a4372ae12df1d47f27571fdfdfae08c32"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a4372ae12df1d47f27571fdfdfae08c32">pairinteraction.app.MainWindow.loadSettingsView</a></div><div class="ttdeci">def loadSettingsView</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01038">app.py:1038</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a4d986d39976024504e855d4840799748"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a4d986d39976024504e855d4840799748">pairinteraction.app.MainWindow.saveToZipfile</a></div><div class="ttdeci">def saveToZipfile</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02883">app.py:2883</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_abdd5f3505c51bac65b236818f98dafae"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#abdd5f3505c51bac65b236818f98dafae">pairinteraction.app.MainWindow.tab_field2</a></div><div class="ttdeci">tab_field2</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00584">app.py:584</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_afbab9be1bec12ebb94286ce30698c967"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#afbab9be1bec12ebb94286ce30698c967">pairinteraction.app.MainWindow.linesSelected</a></div><div class="ttdeci">linesSelected</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00604">app.py:604</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a23ecc006d03aab41b4c159bd99c1f104"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a23ecc006d03aab41b4c159bd99c1f104">pairinteraction.app.MainWindow.senderbutton</a></div><div class="ttdeci">senderbutton</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02581">app.py:2581</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1SystemDict_html"><div class="ttname"><a href="classpairinteraction_1_1app_1_1SystemDict.html">pairinteraction.app.SystemDict</a></div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00186">app.py:186</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a166618d26a037e32f3c6c83530b8c1fb"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a166618d26a037e32f3c6c83530b8c1fb">pairinteraction.app.MainWindow.momentslabels</a></div><div class="ttdeci">momentslabels</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00596">app.py:596</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aa411fd6e17ac64709348b9e71e169758"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aa411fd6e17ac64709348b9e71e169758">pairinteraction.app.MainWindow.proc</a></div><div class="ttdeci">proc</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00516">app.py:516</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a5dc7fa0fbd10ef4a43f2f758ea6d1978"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a5dc7fa0fbd10ef4a43f2f758ea6d1978">pairinteraction.app.MainWindow.resultfile</a></div><div class="ttdeci">resultfile</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00467">app.py:467</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a96f1f3a4f0f947eb1b99d2bf311e3556"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a96f1f3a4f0f947eb1b99d2bf311e3556">pairinteraction.app.MainWindow.buffer_positionsMap</a></div><div class="ttdeci">buffer_positionsMap</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00555">app.py:555</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_abde9abf5830c6da6428ca41e7995e918"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#abde9abf5830c6da6428ca41e7995e918">pairinteraction.app.MainWindow.openPlotConf</a></div><div class="ttdeci">def openPlotConf</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l03235">app.py:3235</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aea56529752b4a21db7a2616471eeab1c"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aea56529752b4a21db7a2616471eeab1c">pairinteraction.app.MainWindow.toggleAntialiasing</a></div><div class="ttdeci">def toggleAntialiasing</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02366">app.py:2366</a></div></div>
<div class="ttc" id="namespacepairinteraction_1_1utils_html_aeb102733dc9511447e504277ccaf9cde"><div class="ttname"><a href="namespacepairinteraction_1_1utils.html#aeb102733dc9511447e504277ccaf9cde">pairinteraction.utils.csc_happend</a></div><div class="ttdeci">def csc_happend</div><div class="ttdef"><b>Definition:</b> <a href="utils_8py_source.html#l00166">utils.py:166</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a1f629d6b316a6d6430b6dcfd9d4dc721"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a1f629d6b316a6d6430b6dcfd9d4dc721">pairinteraction.app.MainWindow.clearCache</a></div><div class="ttdeci">def clearCache</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l03210">app.py:3210</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html">pairinteraction.app.MainWindow</a></div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00393">app.py:393</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a034a1f95549168bb91adbd2f54c49f0e"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a034a1f95549168bb91adbd2f54c49f0e">pairinteraction.app.MainWindow.stateidx_field</a></div><div class="ttdeci">stateidx_field</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00529">app.py:529</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a7819c375142945715441f4b6ef3f5ef0"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a7819c375142945715441f4b6ef3f5ef0">pairinteraction.app.MainWindow.path_cache</a></div><div class="ttdeci">path_cache</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00500">app.py:500</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ae729eba5e6848548dc4aa380f228b7c4"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ae729eba5e6848548dc4aa380f228b7c4">pairinteraction.app.MainWindow.saveSettingsPlotter</a></div><div class="ttdeci">def saveSettingsPlotter</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01060">app.py:1060</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a410ae29f1987003cb060e02b9f977423"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a410ae29f1987003cb060e02b9f977423">pairinteraction.app.MainWindow.getConstEField</a></div><div class="ttdeci">def getConstEField</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01094">app.py:1094</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a309fe184a739158519f8eaf041d04042"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a309fe184a739158519f8eaf041d04042">pairinteraction.app.MainWindow.showCriticalMessage</a></div><div class="ttdeci">def showCriticalMessage</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02560">app.py:2560</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a143194ef313f4f9ebc47ca4309877df0"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a143194ef313f4f9ebc47ca4309877df0">pairinteraction.app.MainWindow.buffer_energiesMap</a></div><div class="ttdeci">buffer_energiesMap</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00554">app.py:554</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a58d094527c25fbdbd46ac02da2f3931e"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a58d094527c25fbdbd46ac02da2f3931e">pairinteraction.app.MainWindow.labelprob_energy</a></div><div class="ttdeci">labelprob_energy</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01477">app.py:1477</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a0ad515864dfa4aaf27aed2d0e3ecef63"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a0ad515864dfa4aaf27aed2d0e3ecef63">pairinteraction.app.MainWindow.path_system_last</a></div><div class="ttdeci">path_system_last</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00504">app.py:504</a></div></div>
<div class="ttc" id="namespacepairinteraction_1_1utils_html_a62b224be6775d3881bbe77430674fc83"><div class="ttname"><a href="namespacepairinteraction_1_1utils.html#a62b224be6775d3881bbe77430674fc83">pairinteraction.utils.bytescale</a></div><div class="ttdeci">def bytescale</div><div class="ttdef"><b>Definition:</b> <a href="utils_8py_source.html#l00197">utils.py:197</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a7f617c41f2b29f2c26aa752457a502c0"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a7f617c41f2b29f2c26aa752457a502c0">pairinteraction.app.MainWindow.converter_bfield</a></div><div class="ttdeci">converter_bfield</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02963">app.py:2963</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aedc059ee30f83a08b3dd59d83a42fb11"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aedc059ee30f83a08b3dd59d83a42fb11">pairinteraction.app.MainWindow.overlapgroup</a></div><div class="ttdeci">overlapgroup</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00616">app.py:616</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a318fbc7867ece14e84c31e8b88145416"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a318fbc7867ece14e84c31e8b88145416">pairinteraction.app.MainWindow.yMax_field</a></div><div class="ttdeci">yMax_field</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00531">app.py:531</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aee202fc85410b700beb8a31b66ab20b2"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aee202fc85410b700beb8a31b66ab20b2">pairinteraction.app.MainWindow.unperturbedstate</a></div><div class="ttdeci">unperturbedstate</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00598">app.py:598</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_add310023b54241d70931daca243dc95f"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#add310023b54241d70931daca243dc95f">pairinteraction.app.MainWindow.loadSettingsPlotter</a></div><div class="ttdeci">def loadSettingsPlotter</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01029">app.py:1029</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a16adc045cd90a68973de6ba66d0b6904"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a16adc045cd90a68973de6ba66d0b6904">pairinteraction.app.MainWindow.path_configurationdir</a></div><div class="ttdeci">path_configurationdir</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00476">app.py:476</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a80f744d477fbdd70d090a353a0022bcf"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a80f744d477fbdd70d090a353a0022bcf">pairinteraction.app.MainWindow.path_quantumdefects</a></div><div class="ttdeci">path_quantumdefects</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00493">app.py:493</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a1f82f0c6d71332333c62b84c70ad645e"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a1f82f0c6d71332333c62b84c70ad645e">pairinteraction.app.MainWindow.forbidSamebasis</a></div><div class="ttdeci">def forbidSamebasis</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02453">app.py:2453</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a0a45dd87dd4723239acdba19109ea86b"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a0a45dd87dd4723239acdba19109ea86b">pairinteraction.app.MainWindow.path_cpp_real</a></div><div class="ttdeci">path_cpp_real</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00489">app.py:489</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a6302b06a4bf9a63ca6c3784ad5e8a143"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a6302b06a4bf9a63ca6c3784ad5e8a143">pairinteraction.app.MainWindow.lines_buffer_minIdx</a></div><div class="ttdeci">lines_buffer_minIdx</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00561">app.py:561</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a6881b182d82561f3ad78a1fdb56f9662"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a6881b182d82561f3ad78a1fdb56f9662">pairinteraction.app.MainWindow.userpath</a></div><div class="ttdeci">userpath</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00462">app.py:462</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a83905dc057f06d82a0986dad4beea63a"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a83905dc057f06d82a0986dad4beea63a">pairinteraction.app.MainWindow.missinggroup</a></div><div class="ttdeci">missinggroup</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00621">app.py:621</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a9ebc0532802e5cbe7570e7ef198b63c0"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a9ebc0532802e5cbe7570e7ef198b63c0">pairinteraction.app.MainWindow.autosetSymmetrization</a></div><div class="ttdeci">def autosetSymmetrization</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02394">app.py:2394</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a967456e91f2c906c8aaaec253fe0b631"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a967456e91f2c906c8aaaec253fe0b631">pairinteraction.app.MainWindow.buffer_basis</a></div><div class="ttdeci">buffer_basis</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00546">app.py:546</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a95c194535839406f58e702cb49d03207"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a95c194535839406f58e702cb49d03207">pairinteraction.app.MainWindow.linesSender</a></div><div class="ttdeci">linesSender</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00606">app.py:606</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a14c63a424a18c9e8518b4c7476eec76f"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a14c63a424a18c9e8518b4c7476eec76f">pairinteraction.app.MainWindow.buffer_boolarr</a></div><div class="ttdeci">buffer_boolarr</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00549">app.py:549</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a9f3157fc2476433facf837afc87f1a14"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a9f3157fc2476433facf837afc87f1a14">pairinteraction.app.MainWindow.xAxis</a></div><div class="ttdeci">xAxis</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02646">app.py:2646</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a9a4ee04c19ff663bd29f78e2d57fea9a"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a9a4ee04c19ff663bd29f78e2d57fea9a">pairinteraction.app.MainWindow.graphicviews_plot</a></div><div class="ttdeci">graphicviews_plot</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00996">app.py:996</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a1e1f73e35c24ab57308c2c7192fae7e1"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a1e1f73e35c24ab57308c2c7192fae7e1">pairinteraction.app.MainWindow.filepath</a></div><div class="ttdeci">filepath</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00464">app.py:464</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a2400114496a810746478808ba518f64d"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a2400114496a810746478808ba518f64d">pairinteraction.app.MainWindow.savePlotConf</a></div><div class="ttdeci">def savePlotConf</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l03184">app.py:3184</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aa05626b1e49487ebfefb687929fb4fdb"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aa05626b1e49487ebfefb687929fb4fdb">pairinteraction.app.MainWindow.path_workingdir</a></div><div class="ttdeci">path_workingdir</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00483">app.py:483</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aa203c438bbd4ef975f3a0c2dd28f6026"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aa203c438bbd4ef975f3a0c2dd28f6026">pairinteraction.app.MainWindow.starttime</a></div><div class="ttdeci">starttime</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02842">app.py:2842</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_acf72d3149ced7f67c1c586e91df47572"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#acf72d3149ced7f67c1c586e91df47572">pairinteraction.app.MainWindow.matgroup</a></div><div class="ttdeci">matgroup</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00627">app.py:627</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a3674fe4d7a64b874c544311c59ce71ba"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a3674fe4d7a64b874c544311c59ce71ba">pairinteraction.app.MainWindow.path_config</a></div><div class="ttdeci">path_config</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00513">app.py:513</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a1053392f0944f5a68444d72c89643d6f"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a1053392f0944f5a68444d72c89643d6f">pairinteraction.app.MainWindow.validateCores</a></div><div class="ttdeci">def validateCores</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02467">app.py:2467</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aa6506ffe5a682c0904f4006feb456178"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aa6506ffe5a682c0904f4006feb456178">pairinteraction.app.MainWindow.buffer_overlapMap_potential</a></div><div class="ttdeci">buffer_overlapMap_potential</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00559">app.py:559</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ad9387172e9b17d5ca0ca6f4d732dfb82"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ad9387172e9b17d5ca0ca6f4d732dfb82">pairinteraction.app.MainWindow.loadSettingsSystem</a></div><div class="ttdeci">def loadSettingsSystem</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01023">app.py:1023</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a4bbee94085249cd286bccfef32cc715d"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a4bbee94085249cd286bccfef32cc715d">pairinteraction.app.MainWindow.momentumcolors</a></div><div class="ttdeci">momentumcolors</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00522">app.py:522</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ae50cb310ac798e249c3d287a35cecbe8"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ae50cb310ac798e249c3d287a35cecbe8">pairinteraction.app.MainWindow.numprocessors</a></div><div class="ttdeci">numprocessors</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02830">app.py:2830</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a4f0962dfb5f1f2bc57dc3afbae62f503"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a4f0962dfb5f1f2bc57dc3afbae62f503">pairinteraction.app.MainWindow.maxE</a></div><div class="ttdeci">maxE</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02618">app.py:2618</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a72b7c6eaa63dadd913ae13a47076435a"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a72b7c6eaa63dadd913ae13a47076435a">pairinteraction.app.MainWindow.invalidQuantumnumbers</a></div><div class="ttdeci">invalidQuantumnumbers</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00455">app.py:455</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1PlotDict_html"><div class="ttname"><a href="classpairinteraction_1_1app_1_1PlotDict.html">pairinteraction.app.PlotDict</a></div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00077">app.py:77</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a4d207f06452973d73bb4cbf07aa08259"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a4d207f06452973d73bb4cbf07aa08259">pairinteraction.app.MainWindow.plotfile</a></div><div class="ttdeci">plotfile</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00466">app.py:466</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a5e7dc64b730afa8ae2b857a16833dd89"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a5e7dc64b730afa8ae2b857a16833dd89">pairinteraction.app.MainWindow.validateQuantumnumbers</a></div><div class="ttdeci">def validateQuantumnumbers</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02473">app.py:2473</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a5366129ad7f4943bda1fe98ceb6a24ef"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a5366129ad7f4943bda1fe98ceb6a24ef">pairinteraction.app.MainWindow.toggleYScale</a></div><div class="ttdeci">def toggleYScale</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02441">app.py:2441</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ac985ac6c3ab821413baf4e8022a996bb"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ac985ac6c3ab821413baf4e8022a996bb">pairinteraction.app.MainWindow.path_view_last</a></div><div class="ttdeci">path_view_last</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00508">app.py:508</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a48b720192a86370bc7df0faccd220a43"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a48b720192a86370bc7df0faccd220a43">pairinteraction.app.MainWindow.__init__</a></div><div class="ttdeci">def __init__</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00395">app.py:395</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_abdb4b0d04b98c18ed5d21422bf7f9fe0"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#abdb4b0d04b98c18ed5d21422bf7f9fe0">pairinteraction.app.MainWindow.togglePairbasis</a></div><div class="ttdeci">def togglePairbasis</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l02373">app.py:2373</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a67c0309fa03f0d270902ff30a63fb3b1"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a67c0309fa03f0d270902ff30a63fb3b1">pairinteraction.app.MainWindow.buffer_energies_potential</a></div><div class="ttdeci">buffer_energies_potential</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00551">app.py:551</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a8539759e8e84d4b45646d2114e68f759"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a8539759e8e84d4b45646d2114e68f759">pairinteraction.app.MainWindow.linesY</a></div><div class="ttdeci">linesY</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00602">app.py:602</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_a5d1ee81cc151239ffaed3d76618193f8"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#a5d1ee81cc151239ffaed3d76618193f8">pairinteraction.app.MainWindow.plotdict</a></div><div class="ttdeci">plotdict</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00460">app.py:460</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ac189ab7a1f368b30cfcfeef9679ba75d"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ac189ab7a1f368b30cfcfeef9679ba75d">pairinteraction.app.MainWindow.buffer_positions</a></div><div class="ttdeci">buffer_positions</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00548">app.py:548</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_ad952123ce541b2fe480485d50b151513"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#ad952123ce541b2fe480485d50b151513">pairinteraction.app.MainWindow.getConstDistance</a></div><div class="ttdeci">def getConstDistance</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l01108">app.py:1108</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_aa0f4c6e3b1014f06bfa695a6338ce8c7"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#aa0f4c6e3b1014f06bfa695a6338ce8c7">pairinteraction.app.MainWindow.buffer_positionsMap_potential</a></div><div class="ttdeci">buffer_positionsMap_potential</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00558">app.py:558</a></div></div>
<div class="ttc" id="classpairinteraction_1_1app_1_1MainWindow_html_af96ad046e50ebfa5e9762c862f9adaff"><div class="ttname"><a href="classpairinteraction_1_1app_1_1MainWindow.html#af96ad046e50ebfa5e9762c862f9adaff">pairinteraction.app.MainWindow.printer</a></div><div class="ttdeci">printer</div><div class="ttdef"><b>Definition:</b> <a href="app_8py_source.html#l00593">app.py:593</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_11bc0974ce736ce9a6fadebbeb7a8314.html">gui</a></li><li class="navelem"><a class="el" href="dir_8ebe1c8cda1c05d40cdacc9c09b05132.html">pairinteraction</a></li><li class="navelem"><a class="el" href="app_8py.html">app.py</a></li>
    <li class="footer">Generated on Sun Apr 9 2017 15:09:27 for pairinteraction by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
